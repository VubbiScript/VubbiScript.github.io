
/* VubbiScript Read-Only compiled JS */
/*
 RequireJS 2.2.0 Copyright jQuery Foundation and other contributors.
 Released under MIT license, http://github.com/requirejs/requirejs/LICENSE
*/
var requirejs,require,define;
(function(ga){function ka(b,c,d,g){return g||""}function K(b){return"[object Function]"===Q.call(b)}function L(b){return"[object Array]"===Q.call(b)}function y(b,c){if(b){var d;for(d=0;d<b.length&&(!b[d]||!c(b[d],d,b));d+=1);}}function X(b,c){if(b){var d;for(d=b.length-1;-1<d&&(!b[d]||!c(b[d],d,b));--d);}}function x(b,c){return la.call(b,c)}function e(b,c){return x(b,c)&&b[c]}function D(b,c){for(var d in b)if(x(b,d)&&c(b[d],d))break}function Y(b,c,d,g){c&&D(c,function(c,e){if(d||!x(b,e))!g||"object"!==
typeof c||!c||L(c)||K(c)||c instanceof RegExp?b[e]=c:(b[e]||(b[e]={}),Y(b[e],c,d,g))});return b}function z(b,c){return function(){return c.apply(b,arguments)}}function ha(b){throw b;}function ia(b){if(!b)return b;var c=ga;y(b.split("."),function(b){c=c[b]});return c}function F(b,c,d,g){c=Error(c+"\nhttp://requirejs.org/docs/errors.html#"+b);c.requireType=b;c.requireModules=g;d&&(c.originalError=d);return c}function ma(b){function c(a,n,b){var h,k,f,c,d,l,g,r;n=n&&n.split("/");var q=p.map,m=q&&q["*"];
if(a){a=a.split("/");k=a.length-1;p.nodeIdCompat&&U.test(a[k])&&(a[k]=a[k].replace(U,""));"."===a[0].charAt(0)&&n&&(k=n.slice(0,n.length-1),a=k.concat(a));k=a;for(f=0;f<k.length;f++)c=k[f],"."===c?(k.splice(f,1),--f):".."===c&&0!==f&&(1!==f||".."!==k[2])&&".."!==k[f-1]&&0<f&&(k.splice(f-1,2),f-=2);a=a.join("/")}if(b&&q&&(n||m)){k=a.split("/");f=k.length;a:for(;0<f;--f){d=k.slice(0,f).join("/");if(n)for(c=n.length;0<c;--c)if(b=e(q,n.slice(0,c).join("/")))if(b=e(b,d)){h=b;l=f;break a}!g&&m&&e(m,d)&&
(g=e(m,d),r=f)}!h&&g&&(h=g,l=r);h&&(k.splice(0,l,h),a=k.join("/"))}return(h=e(p.pkgs,a))?h:a}function d(a){E&&y(document.getElementsByTagName("script"),function(n){if(n.getAttribute("data-requiremodule")===a&&n.getAttribute("data-requirecontext")===l.contextName)return n.parentNode.removeChild(n),!0})}function m(a){var n=e(p.paths,a);if(n&&L(n)&&1<n.length)return n.shift(),l.require.undef(a),l.makeRequire(null,{skipMap:!0})([a]),!0}function r(a){var n,b=a?a.indexOf("!"):-1;-1<b&&(n=a.substring(0,
b),a=a.substring(b+1,a.length));return[n,a]}function q(a,n,b,h){var k,f,d=null,g=n?n.name:null,p=a,q=!0,m="";a||(q=!1,a="_@r"+(Q+=1));a=r(a);d=a[0];a=a[1];d&&(d=c(d,g,h),f=e(v,d));a&&(d?m=f&&f.normalize?f.normalize(a,function(a){return c(a,g,h)}):-1===a.indexOf("!")?c(a,g,h):a:(m=c(a,g,h),a=r(m),d=a[0],m=a[1],b=!0,k=l.nameToUrl(m)));b=!d||f||b?"":"_unnormalized"+(T+=1);return{prefix:d,name:m,parentMap:n,unnormalized:!!b,url:k,originalName:p,isDefine:q,id:(d?d+"!"+m:m)+b}}function u(a){var b=a.id,
c=e(t,b);c||(c=t[b]=new l.Module(a));return c}function w(a,b,c){var h=a.id,k=e(t,h);if(!x(v,h)||k&&!k.defineEmitComplete)if(k=u(a),k.error&&"error"===b)c(k.error);else k.on(b,c);else"defined"===b&&c(v[h])}function A(a,b){var c=a.requireModules,h=!1;if(b)b(a);else if(y(c,function(b){if(b=e(t,b))b.error=a,b.events.error&&(h=!0,b.emit("error",a))}),!h)g.onError(a)}function B(){V.length&&(y(V,function(a){var b=a[0];"string"===typeof b&&(l.defQueueMap[b]=!0);G.push(a)}),V=[])}function C(a){delete t[a];
delete Z[a]}function J(a,b,c){var h=a.map.id;a.error?a.emit("error",a.error):(b[h]=!0,y(a.depMaps,function(h,f){var d=h.id,g=e(t,d);!g||a.depMatched[f]||c[d]||(e(b,d)?(a.defineDep(f,v[d]),a.check()):J(g,b,c))}),c[h]=!0)}function H(){var a,b,c=(a=1E3*p.waitSeconds)&&l.startTime+a<(new Date).getTime(),h=[],k=[],f=!1,g=!0;if(!aa){aa=!0;D(Z,function(a){var l=a.map,e=l.id;if(a.enabled&&(l.isDefine||k.push(a),!a.error))if(!a.inited&&c)m(e)?f=b=!0:(h.push(e),d(e));else if(!a.inited&&a.fetched&&l.isDefine&&
(f=!0,!l.prefix))return g=!1});if(c&&h.length)return a=F("timeout","Load timeout for modules: "+h,null,h),a.contextName=l.contextName,A(a);g&&y(k,function(a){J(a,{},{})});c&&!b||!f||!E&&!ja||ba||(ba=setTimeout(function(){ba=0;H()},50));aa=!1}}function I(a){x(v,a[0])||u(q(a[0],null,!0)).init(a[1],a[2])}function O(a){a=a.currentTarget||a.srcElement;var b=l.onScriptLoad;a.detachEvent&&!ca?a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,!1);b=l.onScriptError;a.detachEvent&&!ca||a.removeEventListener("error",
b,!1);return{node:a,id:a&&a.getAttribute("data-requiremodule")}}function P(){var a;for(B();G.length;){a=G.shift();if(null===a[0])return A(F("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));I(a)}l.defQueueMap={}}var aa,da,l,R,ba,p={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},t={},Z={},ea={},G=[],v={},W={},fa={},Q=1,T=1;R={require:function(a){return a.require?a.require:a.require=l.makeRequire(a.map)},exports:function(a){a.usingExports=!0;if(a.map.isDefine)return a.exports?
v[a.map.id]=a.exports:a.exports=v[a.map.id]={}},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return e(p.config,a.map.id)||{}},exports:a.exports||(a.exports={})}}};da=function(a){this.events=e(ea,a.id)||{};this.map=a;this.shim=e(p.shim,a.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};da.prototype={init:function(a,b,c,h){h=h||{};if(!this.inited){this.factory=b;if(c)this.on("error",c);else this.events.error&&
(c=z(this,function(a){this.emit("error",a)}));this.depMaps=a&&a.slice(0);this.errback=c;this.inited=!0;this.ignore=h.ignore;h.enabled||this.enabled?this.enable():this.check()}},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,--this.depCount,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0;l.startTime=(new Date).getTime();var a=this.map;if(this.shim)l.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],z(this,function(){return a.prefix?this.callPlugin():
this.load()}));else return a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;W[a]||(W[a]=!0,l.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id;b=this.depExports;var h=this.exports,k=this.factory;if(!this.inited)x(l.defQueueMap,c)||this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(K(k)){if(this.events.error&&this.map.isDefine||g.onError!==
ha)try{h=l.execCb(c,k,b,h)}catch(d){a=d}else h=l.execCb(c,k,b,h);this.map.isDefine&&void 0===h&&((b=this.module)?h=b.exports:this.usingExports&&(h=this.exports));if(a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",A(this.error=a)}else h=k;this.exports=h;if(this.map.isDefine&&!this.ignore&&(v[c]=h,g.onResourceLoad)){var f=[];y(this.depMaps,function(a){f.push(a.normalizedMap||a)});g.onResourceLoad(l,this.map,f)}C(c);
this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var a=this.map,b=a.id,d=q(a.prefix);this.depMaps.push(d);w(d,"defined",z(this,function(h){var k,f,d=e(fa,this.map.id),M=this.map.name,r=this.map.parentMap?this.map.parentMap.name:null,m=l.makeRequire(a.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){if(h.normalize&&(M=h.normalize(M,function(a){return c(a,r,!0)})||
""),f=q(a.prefix+"!"+M,this.map.parentMap),w(f,"defined",z(this,function(a){this.map.normalizedMap=f;this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),h=e(t,f.id)){this.depMaps.push(f);if(this.events.error)h.on("error",z(this,function(a){this.emit("error",a)}));h.enable()}}else d?(this.map.url=l.nameToUrl(d),this.load()):(k=z(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),k.error=z(this,function(a){this.inited=!0;this.error=a;a.requireModules=[b];D(t,function(a){0===
a.map.id.indexOf(b+"_unnormalized")&&C(a.map.id)});A(a)}),k.fromText=z(this,function(h,c){var d=a.name,f=q(d),M=S;c&&(h=c);M&&(S=!1);u(f);x(p.config,b)&&(p.config[d]=p.config[b]);try{g.exec(h)}catch(e){return A(F("fromtexteval","fromText eval for "+b+" failed: "+e,e,[b]))}M&&(S=!0);this.depMaps.push(f);l.completeLoad(d);m([d],k)}),h.load(a.name,m,k,p))}));l.enable(d,this);this.pluginMaps[d.id]=d},enable:function(){Z[this.map.id]=this;this.enabling=this.enabled=!0;y(this.depMaps,z(this,function(a,
b){var c,h;if("string"===typeof a){a=q(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap);this.depMaps[b]=a;if(c=e(R,a.id)){this.depExports[b]=c(this);return}this.depCount+=1;w(a,"defined",z(this,function(a){this.undefed||(this.defineDep(b,a),this.check())}));this.errback?w(a,"error",z(this,this.errback)):this.events.error&&w(a,"error",z(this,function(a){this.emit("error",a)}))}c=a.id;h=t[c];x(R,c)||!h||h.enabled||l.enable(a,this)}));D(this.pluginMaps,z(this,function(a){var b=e(t,a.id);
b&&!b.enabled&&l.enable(a,this)}));this.enabling=!1;this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]);c.push(b)},emit:function(a,b){y(this.events[a],function(a){a(b)});"error"===a&&delete this.events[a]}};l={config:p,contextName:b,registry:t,defined:v,urlFetched:W,defQueue:G,defQueueMap:{},Module:da,makeModuleMap:q,nextTick:g.nextTick,onError:A,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");if("string"===typeof a.urlArgs){var b=
a.urlArgs;a.urlArgs=function(a,c){return(-1===c.indexOf("?")?"?":"&")+b}}var c=p.shim,h={paths:!0,bundles:!0,config:!0,map:!0};D(a,function(a,b){h[b]?(p[b]||(p[b]={}),Y(p[b],a,!0,!0)):p[b]=a});a.bundles&&D(a.bundles,function(a,b){y(a,function(a){a!==b&&(fa[a]=b)})});a.shim&&(D(a.shim,function(a,b){L(a)&&(a={deps:a});!a.exports&&!a.init||a.exportsFn||(a.exportsFn=l.makeShimExports(a));c[b]=a}),p.shim=c);a.packages&&y(a.packages,function(a){var b;a="string"===typeof a?{name:a}:a;b=a.name;a.location&&
(p.paths[b]=a.location);p.pkgs[b]=a.name+"/"+(a.main||"main").replace(na,"").replace(U,"")});D(t,function(a,b){a.inited||a.map.unnormalized||(a.map=q(b,null,!0))});(a.deps||a.callback)&&l.require(a.deps||[],a.callback)},makeShimExports:function(a){return function(){var b;a.init&&(b=a.init.apply(ga,arguments));return b||a.exports&&ia(a.exports)}},makeRequire:function(a,n){function m(c,d,f){var e,r;n.enableBuildCallback&&d&&K(d)&&(d.__requireJsBuild=!0);if("string"===typeof c){if(K(d))return A(F("requireargs",
"Invalid require call"),f);if(a&&x(R,c))return R[c](t[a.id]);if(g.get)return g.get(l,c,a,m);e=q(c,a,!1,!0);e=e.id;return x(v,e)?v[e]:A(F("notloaded",'Module name "'+e+'" has not been loaded yet for context: '+b+(a?"":". Use require([])")))}P();l.nextTick(function(){P();r=u(q(null,a));r.skipMap=n.skipMap;r.init(c,d,f,{enabled:!0});H()});return m}n=n||{};Y(m,{isBrowser:E,toUrl:function(b){var d,f=b.lastIndexOf("."),g=b.split("/")[0];-1!==f&&("."!==g&&".."!==g||1<f)&&(d=b.substring(f,b.length),b=b.substring(0,
f));return l.nameToUrl(c(b,a&&a.id,!0),d,!0)},defined:function(b){return x(v,q(b,a,!1,!0).id)},specified:function(b){b=q(b,a,!1,!0).id;return x(v,b)||x(t,b)}});a||(m.undef=function(b){B();var c=q(b,a,!0),f=e(t,b);f.undefed=!0;d(b);delete v[b];delete W[c.url];delete ea[b];X(G,function(a,c){a[0]===b&&G.splice(c,1)});delete l.defQueueMap[b];f&&(f.events.defined&&(ea[b]=f.events),C(b))});return m},enable:function(a){e(t,a.id)&&u(a).enable()},completeLoad:function(a){var b,c,d=e(p.shim,a)||{},g=d.exports;
for(B();G.length;){c=G.shift();if(null===c[0]){c[0]=a;if(b)break;b=!0}else c[0]===a&&(b=!0);I(c)}l.defQueueMap={};c=e(t,a);if(!b&&!x(v,a)&&c&&!c.inited)if(!p.enforceDefine||g&&ia(g))I([a,d.deps||[],d.exportsFn]);else return m(a)?void 0:A(F("nodefine","No define call for "+a,null,[a]));H()},nameToUrl:function(a,b,c){var d,k,f,m;(d=e(p.pkgs,a))&&(a=d);if(d=e(fa,a))return l.nameToUrl(d,b,c);if(g.jsExtRegExp.test(a))d=a+(b||"");else{d=p.paths;k=a.split("/");for(f=k.length;0<f;--f)if(m=k.slice(0,f).join("/"),
m=e(d,m)){L(m)&&(m=m[0]);k.splice(0,f,m);break}d=k.join("/");d+=b||(/^data\:|^blob\:|\?/.test(d)||c?"":".js");d=("/"===d.charAt(0)||d.match(/^[\w\+\.\-]+:/)?"":p.baseUrl)+d}return p.urlArgs&&!/^blob\:/.test(d)?d+p.urlArgs(a,d):d},load:function(a,b){g.load(l,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||oa.test((a.currentTarget||a.srcElement).readyState))N=null,a=O(a),l.completeLoad(a.id)},onScriptError:function(a){var b=O(a);if(!m(b.id)){var c=[];
D(t,function(a,d){0!==d.indexOf("_@r")&&y(a.depMaps,function(a){if(a.id===b.id)return c.push(d),!0})});return A(F("scripterror",'Script error for "'+b.id+(c.length?'", needed by: '+c.join(", "):'"'),a,[b.id]))}}};l.require=l.makeRequire();return l}function pa(){if(N&&"interactive"===N.readyState)return N;X(document.getElementsByTagName("script"),function(b){if("interactive"===b.readyState)return N=b});return N}var g,B,C,H,O,I,N,P,u,T,qa=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,ra=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,
U=/\.js$/,na=/^\.\//;B=Object.prototype;var Q=B.toString,la=B.hasOwnProperty,E=!("undefined"===typeof window||"undefined"===typeof navigator||!window.document),ja=!E&&"undefined"!==typeof importScripts,oa=E&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,ca="undefined"!==typeof opera&&"[object Opera]"===opera.toString(),J={},w={},V=[],S=!1;if("undefined"===typeof define){if("undefined"!==typeof requirejs){if(K(requirejs))return;w=requirejs;requirejs=void 0}"undefined"===typeof require||
K(require)||(w=require,require=void 0);g=requirejs=function(b,c,d,m){var r,q="_";L(b)||"string"===typeof b||(r=b,L(c)?(b=c,c=d,d=m):b=[]);r&&r.context&&(q=r.context);(m=e(J,q))||(m=J[q]=g.s.newContext(q));r&&m.configure(r);return m.require(b,c,d)};g.config=function(b){return g(b)};g.nextTick="undefined"!==typeof setTimeout?function(b){setTimeout(b,4)}:function(b){b()};require||(require=g);g.version="2.2.0";g.jsExtRegExp=/^\/|:|\?|\.js$/;g.isBrowser=E;B=g.s={contexts:J,newContext:ma};g({});y(["toUrl",
"undef","defined","specified"],function(b){g[b]=function(){var c=J._;return c.require[b].apply(c,arguments)}});E&&(C=B.head=document.getElementsByTagName("head")[0],H=document.getElementsByTagName("base")[0])&&(C=B.head=H.parentNode);g.onError=ha;g.createNode=function(b,c,d){c=b.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");c.type=b.scriptType||"text/javascript";c.charset="utf-8";c.async=!0;return c};g.load=function(b,c,d){var m=b&&b.config||
{},e;if(E){e=g.createNode(m,c,d);e.setAttribute("data-requirecontext",b.contextName);e.setAttribute("data-requiremodule",c);!e.attachEvent||e.attachEvent.toString&&0>e.attachEvent.toString().indexOf("[native code")||ca?(e.addEventListener("load",b.onScriptLoad,!1),e.addEventListener("error",b.onScriptError,!1)):(S=!0,e.attachEvent("onreadystatechange",b.onScriptLoad));e.src=d;if(m.onNodeCreated)m.onNodeCreated(e,m,c,d);P=e;H?C.insertBefore(e,H):C.appendChild(e);P=null;return e}if(ja)try{setTimeout(function(){},
0),importScripts(d),b.completeLoad(c)}catch(q){b.onError(F("importscripts","importScripts failed for "+c+" at "+d,q,[c]))}};E&&!w.skipDataMain&&X(document.getElementsByTagName("script"),function(b){C||(C=b.parentNode);if(O=b.getAttribute("data-main"))return u=O,w.baseUrl||-1!==u.indexOf("!")||(I=u.split("/"),u=I.pop(),T=I.length?I.join("/")+"/":"./",w.baseUrl=T),u=u.replace(U,""),g.jsExtRegExp.test(u)&&(u=O),w.deps=w.deps?w.deps.concat(u):[u],!0});define=function(b,c,d){var e,g;"string"!==typeof b&&
(d=c,c=b,b=null);L(c)||(d=c,c=null);!c&&K(d)&&(c=[],d.length&&(d.toString().replace(qa,ka).replace(ra,function(b,d){c.push(d)}),c=(1===d.length?["require"]:["require","exports","module"]).concat(c)));S&&(e=P||pa())&&(b||(b=e.getAttribute("data-requiremodule")),g=J[e.getAttribute("data-requirecontext")]);g?(g.defQueue.push([b,c,d]),g.defQueueMap[b]=!0):V.push([b,c,d])};define.amd={jQuery:!0};g.exec=function(b){return eval(b)};g(w)}})(this);

/*! jQuery v2.2.3 | (c) jQuery Foundation | jquery.org/license */

//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

/*!
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */

// Copyright 2013 Google Inc.  Apache License 2.0

// Copyright 2012 Google Inc.  Apache License 2.0

// Copyright 2011 Google Inc.  Apache License 2.0

// Copyright 2016 Google Inc.  Apache License 2.0

// Copyright 2015 Google Inc.  Apache License 2.0

// Copyright 2014 Google Inc.  Apache License 2.0

if(!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function o(e){var t=!!e&&"length"in e&&e.length,o=le.type(e);return"function"!==o&&!le.isWindow(e)&&("array"===o||0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e,t,o){if(le.isFunction(t))return le.grep(e,function(e,n){return!!t.call(e,n,e)!==o});if(t.nodeType)return le.grep(e,function(e){return e===t!==o});if("string"==typeof t){if(ye.test(t))return le.filter(t,e,o);t=le.filter(t,e)}return le.grep(e,function(e){return Z.call(t,e)>-1!==o})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var t={};return le.each(e.match(ke)||[],function(e,o){t[o]=!0}),t}function s(){$.removeEventListener("DOMContentLoaded",s),e.removeEventListener("load",s),le.ready()}function r(){this.expando=le.expando+r.uid++}function a(e,t,o){var n;if(void 0===o&&1===e.nodeType)if(n="data-"+t.replace(Oe,"-$&").toLowerCase(),o=e.getAttribute(n),"string"==typeof o){try{o="true"===o||"false"!==o&&("null"===o?null:+o+""===o?+o:ve.test(o)?le.parseJSON(o):o)}catch(e){}Ie.set(e,t,o)}else o=void 0;return o}function c(e,t,o,n){var i,l=1,s=20,r=n?function(){return n.cur()}:function(){return le.css(e,t,"")},a=r(),c=o&&o[3]||(le.cssNumber[t]?"":"px"),g=(le.cssNumber[t]||"px"!==c&&+a)&&Ne.exec(le.css(e,t));if(g&&g[3]!==c){c=c||g[3],o=o||[],g=+a||1;do l=l||".5",g/=l,le.style(e,t,g+c);while(l!==(l=r()/a)&&1!==l&&--s)}return o&&(g=+g||+a||0,i=o[1]?g+(o[1]+1)*o[2]:+o[2],n&&(n.unit=c,n.start=g,n.end=i)),i}function g(e,t){var o="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&le.nodeName(e,t)?le.merge([e],o):o}function u(e,t){for(var o=0,n=e.length;n>o;o++)Ae.set(e[o],"globalEval",!t||Ae.get(t[o],"globalEval"))}function p(e,t,o,n,i){for(var l,s,r,a,c,p,h=t.createDocumentFragment(),d=[],y=0,_=e.length;_>y;y++)if(l=e[y],l||0===l)if("object"===le.type(l))le.merge(d,l.nodeType?[l]:l);else if(Fe.test(l)){for(s=s||h.appendChild(t.createElement("div")),r=(Le.exec(l)||["",""])[1].toLowerCase(),a=we[r]||we._default,s.innerHTML=a[1]+le.htmlPrefilter(l)+a[2],p=a[0];p--;)s=s.lastChild;le.merge(d,s.childNodes),s=h.firstChild,s.textContent=""}else d.push(t.createTextNode(l));for(h.textContent="",y=0;l=d[y++];)if(n&&le.inArray(l,n)>-1)i&&i.push(l);else if(c=le.contains(l.ownerDocument,l),s=g(h.appendChild(l),"script"),c&&u(s),o)for(p=0;l=s[p++];)Pe.test(l.type||"")&&o.push(l);return h}function h(){return!0}function d(){return!1}function y(){try{return $.activeElement}catch(e){}}function _(e,t,o,n,i,l){var s,r;if("object"==typeof t){"string"!=typeof o&&(n=n||o,o=void 0);for(r in t)_(e,r,o,n,t[r],l);return e}if(null==n&&null==i?(i=o,n=o=void 0):null==i&&("string"==typeof o?(i=n,n=void 0):(i=n,n=o,o=void 0)),i===!1)i=d;else if(!i)return e;return 1===l&&(s=i,i=function(e){return le().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=le.guid++)),e.each(function(){le.event.add(this,t,i,n,o)})}function T(e,t){return le.nodeName(e,"table")&&le.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function E(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=We.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){var o,n,i,l,s,r,a,c;if(1===t.nodeType){if(Ae.hasData(e)&&(l=Ae.access(e),s=Ae.set(t,l),c=l.events)){delete s.handle,s.events={};for(i in c)for(o=0,n=c[i].length;n>o;o++)le.event.add(t,i,c[i][o])}Ie.hasData(e)&&(r=Ie.access(e),a=le.extend({},r),Ie.set(t,a))}}function k(e,t){var o=t.nodeName.toLowerCase();"input"===o&&De.test(e.type)?t.checked=e.checked:"input"!==o&&"textarea"!==o||(t.defaultValue=e.defaultValue)}function B(e,t,o,n){t=Q.apply([],t);var i,l,s,r,a,c,u=0,h=e.length,d=h-1,y=t[0],_=le.isFunction(y);if(_||h>1&&"string"==typeof y&&!ne.checkClone&&Ye.test(y))return e.each(function(i){var l=e.eq(i);_&&(t[0]=y.call(this,i,l.html())),B(l,t,o,n)});if(h&&(i=p(t,e[0].ownerDocument,!1,e,n),l=i.firstChild,1===i.childNodes.length&&(i=l),l||n)){for(s=le.map(g(i,"script"),E),r=s.length;h>u;u++)a=i,u!==d&&(a=le.clone(a,!0,!0),r&&le.merge(s,g(a,"script"))),o.call(e[u],a,u);if(r)for(c=s[s.length-1].ownerDocument,le.map(s,f),u=0;r>u;u++)a=s[u],Pe.test(a.type||"")&&!Ae.access(a,"globalEval")&&le.contains(c,a)&&(a.src?le._evalUrl&&le._evalUrl(a.src):le.globalEval(a.textContent.replace(Ke,"")))}return e}function S(e,t,o){for(var n,i=t?le.filter(t,e):e,l=0;null!=(n=i[l]);l++)o||1!==n.nodeType||le.cleanData(g(n)),n.parentNode&&(o&&le.contains(n.ownerDocument,n)&&u(g(n,"script")),n.parentNode.removeChild(n));return e}function C(e,t){var o=le(t.createElement(e)).appendTo(t.body),n=le.css(o[0],"display");return o.detach(),n}function A(e){var t=$,o=je[e];return o||(o=C(e,t),"none"!==o&&o||(Xe=(Xe||le("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Xe[0].contentDocument,t.write(),t.close(),o=C(e,t),Xe.detach()),je[e]=o),o}function I(e,t,o){var n,i,l,s,r=e.style;return o=o||qe(e),s=o?o.getPropertyValue(t)||o[t]:void 0,""!==s&&void 0!==s||le.contains(e.ownerDocument,e)||(s=le.style(e,t)),o&&!ne.pixelMarginRight()&&$e.test(s)&&ze.test(t)&&(n=r.width,i=r.minWidth,l=r.maxWidth,r.minWidth=r.maxWidth=r.width=s,s=o.width,r.width=n,r.minWidth=i,r.maxWidth=l),void 0!==s?s+"":s}function v(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function O(e){if(e in nt)return e;for(var t=e[0].toUpperCase()+e.slice(1),o=ot.length;o--;)if(e=ot[o]+t,e in nt)return e}function R(e,t,o){var n=Ne.exec(t);return n?Math.max(0,n[2]-(o||0))+(n[3]||"px"):t}function N(e,t,o,n,i){for(var l=o===(n?"border":"content")?4:"width"===t?1:0,s=0;4>l;l+=2)"margin"===o&&(s+=le.css(e,o+be[l],!0,i)),n?("content"===o&&(s-=le.css(e,"padding"+be[l],!0,i)),"margin"!==o&&(s-=le.css(e,"border"+be[l]+"Width",!0,i))):(s+=le.css(e,"padding"+be[l],!0,i),"padding"!==o&&(s+=le.css(e,"border"+be[l]+"Width",!0,i)));return s}function b(t,o,n){var i=!0,l="width"===o?t.offsetWidth:t.offsetHeight,s=qe(t),r="border-box"===le.css(t,"boxSizing",!1,s);if($.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(l=Math.round(100*t.getBoundingClientRect()[o])),0>=l||null==l){if(l=I(t,o,s),(0>l||null==l)&&(l=t.style[o]),$e.test(l))return l;i=r&&(ne.boxSizingReliable()||l===t.style[o]),l=parseFloat(l)||0}return l+N(t,o,n||(r?"border":"content"),i,s)+"px"}function M(e,t){for(var o,n,i,l=[],s=0,r=e.length;r>s;s++)n=e[s],n.style&&(l[s]=Ae.get(n,"olddisplay"),o=n.style.display,t?(l[s]||"none"!==o||(n.style.display=""),""===n.style.display&&Me(n)&&(l[s]=Ae.access(n,"olddisplay",A(n.nodeName)))):(i=Me(n),"none"===o&&i||Ae.set(n,"olddisplay",i?o:le.css(n,"display"))));for(s=0;r>s;s++)n=e[s],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?l[s]||"":"none"));return e}function D(e,t,o,n,i){return new D.prototype.init(e,t,o,n,i)}function L(){return e.setTimeout(function(){it=void 0}),it=le.now()}function P(e,t){var o,n=0,i={height:e};for(t=t?1:0;4>n;n+=2-t)o=be[n],i["margin"+o]=i["padding"+o]=e;return t&&(i.opacity=i.width=e),i}function w(e,t,o){for(var n,i=(U.tweeners[t]||[]).concat(U.tweeners["*"]),l=0,s=i.length;s>l;l++)if(n=i[l].call(o,t,e))return n}function F(e,t,o){var n,i,l,s,r,a,c,g,u=this,p={},h=e.style,d=e.nodeType&&Me(e),y=Ae.get(e,"fxshow");o.queue||(r=le._queueHooks(e,"fx"),null==r.unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,u.always(function(){u.always(function(){r.unqueued--,le.queue(e,"fx").length||r.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(o.overflow=[h.overflow,h.overflowX,h.overflowY],c=le.css(e,"display"),g="none"===c?Ae.get(e,"olddisplay")||A(e.nodeName):c,"inline"===g&&"none"===le.css(e,"float")&&(h.display="inline-block")),o.overflow&&(h.overflow="hidden",u.always(function(){h.overflow=o.overflow[0],h.overflowX=o.overflow[1],h.overflowY=o.overflow[2]}));for(n in t)if(i=t[n],st.exec(i)){if(delete t[n],l=l||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!y||void 0===y[n])continue;d=!0}p[n]=y&&y[n]||le.style(e,n)}else c=void 0;if(le.isEmptyObject(p))"inline"===("none"===c?A(e.nodeName):c)&&(h.display=c);else{y?"hidden"in y&&(d=y.hidden):y=Ae.access(e,"fxshow",{}),l&&(y.hidden=!d),d?le(e).show():u.done(function(){le(e).hide()}),u.done(function(){var t;Ae.remove(e,"fxshow");for(t in p)le.style(e,t,p[t])});for(n in p)s=w(d?y[n]:0,n,u),n in y||(y[n]=s.start,d&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function x(e,t){var o,n,i,l,s;for(o in e)if(n=le.camelCase(o),i=t[n],l=e[o],le.isArray(l)&&(i=l[1],l=e[o]=l[0]),o!==n&&(e[n]=l,delete e[o]),s=le.cssHooks[n],s&&"expand"in s){l=s.expand(l),delete e[n];for(o in l)o in e||(e[o]=l[o],t[o]=i)}else t[n]=i}function U(e,t,o){var n,i,l=0,s=U.prefilters.length,r=le.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;for(var t=it||L(),o=Math.max(0,c.startTime+c.duration-t),n=o/c.duration||0,l=1-n,s=0,a=c.tweens.length;a>s;s++)c.tweens[s].run(l);return r.notifyWith(e,[c,l,o]),1>l&&a?o:(r.resolveWith(e,[c]),!1)},c=r.promise({elem:e,props:le.extend({},t),opts:le.extend(!0,{specialEasing:{},easing:le.easing._default},o),originalProperties:t,originalOptions:o,startTime:it||L(),duration:o.duration,tweens:[],createTween:function(t,o){var n=le.Tween(e,c.opts,t,o,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var o=0,n=t?c.tweens.length:0;if(i)return this;for(i=!0;n>o;o++)c.tweens[o].run(1);return t?(r.notifyWith(e,[c,1,0]),r.resolveWith(e,[c,t])):r.rejectWith(e,[c,t]),this}}),g=c.props;for(x(g,c.opts.specialEasing);s>l;l++)if(n=U.prefilters[l].call(c,e,g,c.opts))return le.isFunction(n.stop)&&(le._queueHooks(c.elem,c.opts.queue).stop=le.proxy(n.stop,n)),n;return le.map(g,w,c),le.isFunction(c.opts.start)&&c.opts.start.call(e,c),le.fx.timer(le.extend(a,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e){return e.getAttribute&&e.getAttribute("class")||""}function G(e){return function(t,o){"string"!=typeof t&&(o=t,t="*");var n,i=0,l=t.toLowerCase().match(ke)||[];if(le.isFunction(o))for(;n=l[i++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(o)):(e[n]=e[n]||[]).push(o)}}function V(e,t,o,n){function i(r){var a;return l[r]=!0,le.each(e[r]||[],function(e,r){var c=r(t,o,n);return"string"!=typeof c||s||l[c]?s?!(a=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),a}var l={},s=e===It;return i(t.dataTypes[0])||!l["*"]&&i("*")}function Y(e,t){var o,n,i=le.ajaxSettings.flatOptions||{};for(o in t)void 0!==t[o]&&((i[o]?e:n||(n={}))[o]=t[o]);return n&&le.extend(!0,e,n),e}function W(e,t,o){for(var n,i,l,s,r=e.contents,a=e.dataTypes;"*"===a[0];)a.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(i in r)if(r[i]&&r[i].test(n)){a.unshift(i);break}if(a[0]in o)l=a[0];else{for(i in o){if(!a[0]||e.converters[i+" "+a[0]]){l=i;break}s||(s=i)}l=l||s}return l?(l!==a[0]&&a.unshift(l),o[l]):void 0}function K(e,t,o,n){var i,l,s,r,a,c={},g=e.dataTypes.slice();if(g[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(l=g.shift();l;)if(e.responseFields[l]&&(o[e.responseFields[l]]=t),!a&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=l,l=g.shift())if("*"===l)l=a;else if("*"!==a&&a!==l){if(s=c[a+" "+l]||c["* "+l],!s)for(i in c)if(r=i.split(" "),r[1]===l&&(s=c[a+" "+r[0]]||c["* "+r[0]])){s===!0?s=c[i]:c[i]!==!0&&(l=r[0],g.unshift(r[1]));break}if(s!==!0)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+a+" to "+l}}}return{state:"success",data:t}}function X(e,t,o,n){var i;if(le.isArray(t))le.each(t,function(t,i){o||Nt.test(e)?n(e,i):X(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,o,n)});else if(o||"object"!==le.type(t))n(e,t);else for(i in t)X(e+"["+i+"]",t[i],o,n)}function j(e){return le.isWindow(e)?e:9===e.nodeType&&e.defaultView}var z=[],$=e.document,q=z.slice,Q=z.concat,J=z.push,Z=z.indexOf,ee={},te=ee.toString,oe=ee.hasOwnProperty,ne={},ie="2.2.3",le=function(e,t){return new le.fn.init(e,t)},se=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,re=/^-ms-/,ae=/-([\da-z])/gi,ce=function(e,t){return t.toUpperCase()};le.fn=le.prototype={jquery:ie,constructor:le,selector:"",length:0,toArray:function(){return q.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:q.call(this)},pushStack:function(e){var t=le.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return le.each(this,e)},map:function(e){return this.pushStack(le.map(this,function(t,o){return e.call(t,o,t)}))},slice:function(){return this.pushStack(q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,o=+e+(0>e?t:0);return this.pushStack(o>=0&&t>o?[this[o]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:z.sort,splice:z.splice},le.extend=le.fn.extend=function(){var e,t,o,n,i,l,s=arguments[0]||{},r=1,a=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[r]||{},r++),"object"==typeof s||le.isFunction(s)||(s={}),r===a&&(s=this,r--);a>r;r++)if(null!=(e=arguments[r]))for(t in e)o=s[t],n=e[t],s!==n&&(c&&n&&(le.isPlainObject(n)||(i=le.isArray(n)))?(i?(i=!1,l=o&&le.isArray(o)?o:[]):l=o&&le.isPlainObject(o)?o:{},s[t]=le.extend(c,l,n)):void 0!==n&&(s[t]=n));return s},le.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===le.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!le.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==le.type(e)||e.nodeType||le.isWindow(e))return!1;if(e.constructor&&!oe.call(e,"constructor")&&!oe.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||oe.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,o=eval;e=le.trim(e),e&&(1===e.indexOf("use strict")?(t=$.createElement("script"),t.text=e,$.head.appendChild(t).parentNode.removeChild(t)):o(e))},camelCase:function(e){return e.replace(re,"ms-").replace(ae,ce)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(o(e))for(n=e.length;n>i&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(se,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(o(Object(e))?le.merge(n,"string"==typeof e?[e]:e):J.call(n,e)),n},inArray:function(e,t,o){return null==t?-1:Z.call(t,e,o)},merge:function(e,t){for(var o=+t.length,n=0,i=e.length;o>n;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,o){for(var n,i=[],l=0,s=e.length,r=!o;s>l;l++)n=!t(e[l],l),n!==r&&i.push(e[l]);return i},map:function(e,t,n){var i,l,s=0,r=[];if(o(e))for(i=e.length;i>s;s++)l=t(e[s],s,n),null!=l&&r.push(l);else for(s in e)l=t(e[s],s,n),null!=l&&r.push(l);return Q.apply([],r)},guid:1,proxy:function(e,t){var o,n,i;return"string"==typeof t&&(o=e[t],t=e,e=o),le.isFunction(e)?(n=q.call(arguments,2),i=function(){return e.apply(t||this,n.concat(q.call(arguments)))},i.guid=e.guid=e.guid||le.guid++,i):void 0},now:Date.now,support:ne}),"function"==typeof Symbol&&(le.fn[Symbol.iterator]=z[Symbol.iterator]),le.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ge=function(e){function t(e,t,o,n){var i,l,s,r,a,c,u,h,d=t&&t.ownerDocument,y=t?t.nodeType:9;if(o=o||[],"string"!=typeof e||!e||1!==y&&9!==y&&11!==y)return o;if(!n&&((t?t.ownerDocument||t:H)!==M&&b(t),t=t||M,L)){if(11!==y&&(c=Te.exec(e)))if(i=c[1]){if(9===y){if(!(s=t.getElementById(i)))return o;if(s.id===i)return o.push(s),o}else if(d&&(s=d.getElementById(i))&&x(t,s)&&s.id===i)return o.push(s),o}else{if(c[2])return J.apply(o,t.getElementsByTagName(e)),o;if((i=c[3])&&k.getElementsByClassName&&t.getElementsByClassName)return J.apply(o,t.getElementsByClassName(i)),o}if(k.qsa&&!K[e+" "]&&(!P||!P.test(e))){if(1!==y)d=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((r=t.getAttribute("id"))?r=r.replace(fe,"\\$&"):t.setAttribute("id",r=U),u=A(e),l=u.length,a=pe.test(r)?"#"+r:"[id='"+r+"']";l--;)u[l]=a+" "+p(u[l]);h=u.join(","),d=Ee.test(e)&&g(t.parentNode)||t}if(h)try{return J.apply(o,d.querySelectorAll(h)),o}catch(e){}finally{r===U&&t.removeAttribute("id")}}}return v(e.replace(re,"$1"),t,o,n)}function o(){function e(o,n){return t.push(o+" ")>B.cacheLength&&delete e[t.shift()],e[o+" "]=n}var t=[];return e}function n(e){return e[U]=!0,e}function i(e){var t=M.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function l(e,t){for(var o=e.split("|"),n=o.length;n--;)B.attrHandle[o[n]]=t}function s(e,t){var o=t&&e,n=o&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||j)-(~e.sourceIndex||j);if(n)return n;if(o)for(;o=o.nextSibling;)if(o===t)return-1;return e?1:-1}function r(e){return function(t){var o=t.nodeName.toLowerCase();return"input"===o&&t.type===e}}function a(e){return function(t){var o=t.nodeName.toLowerCase();return("input"===o||"button"===o)&&t.type===e}}function c(e){return n(function(t){return t=+t,n(function(o,n){for(var i,l=e([],o.length,t),s=l.length;s--;)o[i=l[s]]&&(o[i]=!(n[i]=o[i]))})})}function g(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function u(){}function p(e){for(var t=0,o=e.length,n="";o>t;t++)n+=e[t].value;return n}function h(e,t,o){var n=t.dir,i=o&&"parentNode"===n,l=V++;return t.first?function(t,o,l){for(;t=t[n];)if(1===t.nodeType||i)return e(t,o,l)}:function(t,o,s){var r,a,c,g=[G,l];if(s){for(;t=t[n];)if((1===t.nodeType||i)&&e(t,o,s))return!0}else for(;t=t[n];)if(1===t.nodeType||i){if(c=t[U]||(t[U]={}),a=c[t.uniqueID]||(c[t.uniqueID]={}),(r=a[n])&&r[0]===G&&r[1]===l)return g[2]=r[2];if(a[n]=g,g[2]=e(t,o,s))return!0}}}function d(e){return e.length>1?function(t,o,n){for(var i=e.length;i--;)if(!e[i](t,o,n))return!1;return!0}:e[0]}function y(e,o,n){for(var i=0,l=o.length;l>i;i++)t(e,o[i],n);return n}function _(e,t,o,n,i){for(var l,s=[],r=0,a=e.length,c=null!=t;a>r;r++)(l=e[r])&&(o&&!o(l,n,i)||(s.push(l),c&&t.push(r)));return s}function T(e,t,o,i,l,s){return i&&!i[U]&&(i=T(i)),l&&!l[U]&&(l=T(l,s)),n(function(n,s,r,a){var c,g,u,p=[],h=[],d=s.length,T=n||y(t||"*",r.nodeType?[r]:r,[]),E=!e||!n&&t?T:_(T,p,e,r,a),f=o?l||(n?e:d||i)?[]:s:E;if(o&&o(E,f,r,a),i)for(c=_(f,h),i(c,[],r,a),g=c.length;g--;)(u=c[g])&&(f[h[g]]=!(E[h[g]]=u));if(n){if(l||e){if(l){for(c=[],g=f.length;g--;)(u=f[g])&&c.push(E[g]=u);l(null,f=[],c,a)}for(g=f.length;g--;)(u=f[g])&&(c=l?ee(n,u):p[g])>-1&&(n[c]=!(s[c]=u))}}else f=_(f===s?f.splice(d,f.length):f),l?l(null,s,f,a):J.apply(s,f)})}function E(e){for(var t,o,n,i=e.length,l=B.relative[e[0].type],s=l||B.relative[" "],r=l?1:0,a=h(function(e){return e===t},s,!0),c=h(function(e){return ee(t,e)>-1},s,!0),g=[function(e,o,n){var i=!l&&(n||o!==O)||((t=o).nodeType?a(e,o,n):c(e,o,n));return t=null,i}];i>r;r++)if(o=B.relative[e[r].type])g=[h(d(g),o)];else{if(o=B.filter[e[r].type].apply(null,e[r].matches),o[U]){for(n=++r;i>n&&!B.relative[e[n].type];n++);return T(r>1&&d(g),r>1&&p(e.slice(0,r-1).concat({value:" "===e[r-2].type?"*":""})).replace(re,"$1"),o,n>r&&E(e.slice(r,n)),i>n&&E(e=e.slice(n)),i>n&&p(e))}g.push(o)}return d(g)}function f(e,o){var i=o.length>0,l=e.length>0,s=function(n,s,r,a,c){var g,u,p,h=0,d="0",y=n&&[],T=[],E=O,f=n||l&&B.find.TAG("*",c),m=G+=null==E?1:Math.random()||.1,k=f.length;for(c&&(O=s===M||s||c);d!==k&&null!=(g=f[d]);d++){if(l&&g){for(u=0,s||g.ownerDocument===M||(b(g),r=!L);p=e[u++];)if(p(g,s||M,r)){a.push(g);break}c&&(G=m)}i&&((g=!p&&g)&&h--,n&&y.push(g))}if(h+=d,i&&d!==h){for(u=0;p=o[u++];)p(y,T,s,r);if(n){if(h>0)for(;d--;)y[d]||T[d]||(T[d]=q.call(a));T=_(T)}J.apply(a,T),c&&!n&&T.length>0&&h+o.length>1&&t.uniqueSort(a)}return c&&(G=m,O=E),y};return i?n(s):s}var m,k,B,S,C,A,I,v,O,R,N,b,M,D,L,P,w,F,x,U="sizzle"+1*new Date,H=e.document,G=0,V=0,Y=o(),W=o(),K=o(),X=function(e,t){return e===t&&(N=!0),0},j=1<<31,z={}.hasOwnProperty,$=[],q=$.pop,Q=$.push,J=$.push,Z=$.slice,ee=function(e,t){for(var o=0,n=e.length;n>o;o++)if(e[o]===t)return o;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",oe="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+oe+"*("+ne+")(?:"+oe+"*([*^$|!~]?=)"+oe+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+oe+"*\\]",le=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",se=new RegExp(oe+"+","g"),re=new RegExp("^"+oe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+oe+"+$","g"),ae=new RegExp("^"+oe+"*,"+oe+"*"),ce=new RegExp("^"+oe+"*([>+~]|"+oe+")"+oe+"*"),ge=new RegExp("="+oe+"*([^\\]'\"]*?)"+oe+"*\\]","g"),ue=new RegExp(le),pe=new RegExp("^"+ne+"$"),he={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+le),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+oe+"*(even|odd|(([+-]|)(\\d*)n|)"+oe+"*(?:([+-]|)"+oe+"*(\\d+)|))"+oe+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+oe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+oe+"*((?:-\\d)?\\d*)"+oe+"*\\)|)(?=[^-]|$)","i")},de=/^(?:input|select|textarea|button)$/i,ye=/^h\d$/i,_e=/^[^{]+\{\s*\[native \w/,Te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ee=/[+~]/,fe=/'|\\/g,me=new RegExp("\\\\([\\da-f]{1,6}"+oe+"?|("+oe+")|.)","ig"),ke=function(e,t,o){var n="0x"+t-65536;return n!==n||o?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Be=function(){b()};try{J.apply($=Z.call(H.childNodes),H.childNodes),$[H.childNodes.length].nodeType}catch(e){J={apply:$.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var o=e.length,n=0;e[o++]=t[n++];);e.length=o-1}}}k=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},b=t.setDocument=function(e){var t,o,n=e?e.ownerDocument||e:H;return n!==M&&9===n.nodeType&&n.documentElement?(M=n,D=M.documentElement,L=!C(M),(o=M.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",Be,!1):o.attachEvent&&o.attachEvent("onunload",Be)),k.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),k.getElementsByTagName=i(function(e){return e.appendChild(M.createComment("")),!e.getElementsByTagName("*").length}),k.getElementsByClassName=_e.test(M.getElementsByClassName),k.getById=i(function(e){return D.appendChild(e).id=U,!M.getElementsByName||!M.getElementsByName(U).length}),k.getById?(B.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var o=t.getElementById(e);return o?[o]:[]}},B.filter.ID=function(e){var t=e.replace(me,ke);return function(e){return e.getAttribute("id")===t}}):(delete B.find.ID,B.filter.ID=function(e){var t=e.replace(me,ke);return function(e){var o="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return o&&o.value===t}}),B.find.TAG=k.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):k.qsa?t.querySelectorAll(e):void 0}:function(e,t){var o,n=[],i=0,l=t.getElementsByTagName(e);if("*"===e){for(;o=l[i++];)1===o.nodeType&&n.push(o);return n}return l},B.find.CLASS=k.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&L?t.getElementsByClassName(e):void 0},w=[],P=[],(k.qsa=_e.test(M.querySelectorAll))&&(i(function(e){D.appendChild(e).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+oe+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+oe+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+U+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+U+"+*").length||P.push(".#.+[+~]")}),i(function(e){var t=M.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+oe+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(k.matchesSelector=_e.test(F=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(e){k.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),w.push("!=",le)}),P=P.length&&new RegExp(P.join("|")),w=w.length&&new RegExp(w.join("|")),t=_e.test(D.compareDocumentPosition),x=t||_e.test(D.contains)?function(e,t){var o=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(o.contains?o.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=t?function(e,t){if(e===t)return N=!0,0;var o=!e.compareDocumentPosition-!t.compareDocumentPosition;return o?o:(o=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&o||!k.sortDetached&&t.compareDocumentPosition(e)===o?e===M||e.ownerDocument===H&&x(H,e)?-1:t===M||t.ownerDocument===H&&x(H,t)?1:R?ee(R,e)-ee(R,t):0:4&o?-1:1)}:function(e,t){if(e===t)return N=!0,0;var o,n=0,i=e.parentNode,l=t.parentNode,r=[e],a=[t];if(!i||!l)return e===M?-1:t===M?1:i?-1:l?1:R?ee(R,e)-ee(R,t):0;if(i===l)return s(e,t);for(o=e;o=o.parentNode;)r.unshift(o);for(o=t;o=o.parentNode;)a.unshift(o);for(;r[n]===a[n];)n++;return n?s(r[n],a[n]):r[n]===H?-1:a[n]===H?1:0},M):M},t.matches=function(e,o){return t(e,null,null,o)},t.matchesSelector=function(e,o){if((e.ownerDocument||e)!==M&&b(e),o=o.replace(ge,"='$1']"),k.matchesSelector&&L&&!K[o+" "]&&(!w||!w.test(o))&&(!P||!P.test(o)))try{var n=F.call(e,o);if(n||k.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(o,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&b(e),x(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&b(e);var o=B.attrHandle[t.toLowerCase()],n=o&&z.call(B.attrHandle,t.toLowerCase())?o(e,t,!L):void 0;return void 0!==n?n:k.attributes||!L?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,o=[],n=0,i=0;if(N=!k.detectDuplicates,R=!k.sortStable&&e.slice(0),e.sort(X),N){for(;t=e[i++];)t===e[i]&&(n=o.push(i));for(;n--;)e.splice(o[n],1)}return R=null,e},S=t.getText=function(e){var t,o="",n=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)o+=S(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[n++];)o+=S(t);return o},B=t.selectors={cacheLength:50,createPseudo:n,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(me,ke),e[3]=(e[3]||e[4]||e[5]||"").replace(me,ke),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,o=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":o&&ue.test(o)&&(t=A(o,!0))&&(t=o.indexOf(")",o.length-t)-o.length)&&(e[0]=e[0].slice(0,t),e[2]=o.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(me,ke).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Y[e+" "];return t||(t=new RegExp("(^|"+oe+")"+e+"("+oe+"|$)"))&&Y(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,o,n){return function(i){var l=t.attr(i,e);return null==l?"!="===o:!o||(l+="","="===o?l===n:"!="===o?l!==n:"^="===o?n&&0===l.indexOf(n):"*="===o?n&&l.indexOf(n)>-1:"$="===o?n&&l.slice(-n.length)===n:"~="===o?(" "+l.replace(se," ")+" ").indexOf(n)>-1:"|="===o&&(l===n||l.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,o,n,i){var l="nth"!==e.slice(0,3),s="last"!==e.slice(-4),r="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,o,a){var c,g,u,p,h,d,y=l!==s?"nextSibling":"previousSibling",_=t.parentNode,T=r&&t.nodeName.toLowerCase(),E=!a&&!r,f=!1;if(_){if(l){for(;y;){for(p=t;p=p[y];)if(r?p.nodeName.toLowerCase()===T:1===p.nodeType)return!1;d=y="only"===e&&!d&&"nextSibling"}return!0}if(d=[s?_.firstChild:_.lastChild],s&&E){for(p=_,u=p[U]||(p[U]={}),g=u[p.uniqueID]||(u[p.uniqueID]={}),c=g[e]||[],h=c[0]===G&&c[1],f=h&&c[2],p=h&&_.childNodes[h];p=++h&&p&&p[y]||(f=h=0)||d.pop();)if(1===p.nodeType&&++f&&p===t){g[e]=[G,h,f];break}}else if(E&&(p=t,u=p[U]||(p[U]={}),g=u[p.uniqueID]||(u[p.uniqueID]={}),c=g[e]||[],h=c[0]===G&&c[1],f=h),f===!1)for(;(p=++h&&p&&p[y]||(f=h=0)||d.pop())&&((r?p.nodeName.toLowerCase()!==T:1!==p.nodeType)||!++f||(E&&(u=p[U]||(p[U]={}),g=u[p.uniqueID]||(u[p.uniqueID]={}),g[e]=[G,f]),p!==t)););return f-=i,f===n||f%n===0&&f/n>=0}}},PSEUDO:function(e,o){var i,l=B.pseudos[e]||B.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return l[U]?l(o):l.length>1?(i=[e,e,"",o],B.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,i=l(e,o),s=i.length;s--;)n=ee(e,i[s]),e[n]=!(t[n]=i[s])}):function(e){return l(e,0,i)}):l}},pseudos:{not:n(function(e){var t=[],o=[],i=I(e.replace(re,"$1"));return i[U]?n(function(e,t,o,n){for(var l,s=i(e,null,n,[]),r=e.length;r--;)(l=s[r])&&(e[r]=!(t[r]=l))}):function(e,n,l){return t[0]=e,i(t,null,l,o),t[0]=null,!o.pop()}}),has:n(function(e){return function(o){return t(e,o).length>0}}),contains:n(function(e){return e=e.replace(me,ke),function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:n(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(me,ke).toLowerCase(),function(t){var o;do if(o=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return o=o.toLowerCase(),o===e||0===o.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var o=e.location&&e.location.hash;return o&&o.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!B.pseudos.empty(e)},header:function(e){return ye.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,o){
return[0>o?o+t:o]}),even:c(function(e,t){for(var o=0;t>o;o+=2)e.push(o);return e}),odd:c(function(e,t){for(var o=1;t>o;o+=2)e.push(o);return e}),lt:c(function(e,t,o){for(var n=0>o?o+t:o;--n>=0;)e.push(n);return e}),gt:c(function(e,t,o){for(var n=0>o?o+t:o;++n<t;)e.push(n);return e})}},B.pseudos.nth=B.pseudos.eq;for(m in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})B.pseudos[m]=r(m);for(m in{submit:!0,reset:!0})B.pseudos[m]=a(m);return u.prototype=B.filters=B.pseudos,B.setFilters=new u,A=t.tokenize=function(e,o){var n,i,l,s,r,a,c,g=W[e+" "];if(g)return o?0:g.slice(0);for(r=e,a=[],c=B.preFilter;r;){n&&!(i=ae.exec(r))||(i&&(r=r.slice(i[0].length)||r),a.push(l=[])),n=!1,(i=ce.exec(r))&&(n=i.shift(),l.push({value:n,type:i[0].replace(re," ")}),r=r.slice(n.length));for(s in B.filter)!(i=he[s].exec(r))||c[s]&&!(i=c[s](i))||(n=i.shift(),l.push({value:n,type:s,matches:i}),r=r.slice(n.length));if(!n)break}return o?r.length:r?t.error(e):W(e,a).slice(0)},I=t.compile=function(e,t){var o,n=[],i=[],l=K[e+" "];if(!l){for(t||(t=A(e)),o=t.length;o--;)l=E(t[o]),l[U]?n.push(l):i.push(l);l=K(e,f(i,n)),l.selector=e}return l},v=t.select=function(e,t,o,n){var i,l,s,r,a,c="function"==typeof e&&e,u=!n&&A(e=c.selector||e);if(o=o||[],1===u.length){if(l=u[0]=u[0].slice(0),l.length>2&&"ID"===(s=l[0]).type&&k.getById&&9===t.nodeType&&L&&B.relative[l[1].type]){if(t=(B.find.ID(s.matches[0].replace(me,ke),t)||[])[0],!t)return o;c&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(i=he.needsContext.test(e)?0:l.length;i--&&(s=l[i],!B.relative[r=s.type]);)if((a=B.find[r])&&(n=a(s.matches[0].replace(me,ke),Ee.test(l[0].type)&&g(t.parentNode)||t))){if(l.splice(i,1),e=n.length&&p(l),!e)return J.apply(o,n),o;break}}return(c||I(e,u))(n,t,!L,o,!t||Ee.test(e)&&g(t.parentNode)||t),o},k.sortStable=U.split("").sort(X).join("")===U,k.detectDuplicates=!!N,b(),k.sortDetached=i(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||l("type|href|height|width",function(e,t,o){return o?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),k.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||l("value",function(e,t,o){return o||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||l(te,function(e,t,o){var n;return o?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);le.find=ge,le.expr=ge.selectors,le.expr[":"]=le.expr.pseudos,le.uniqueSort=le.unique=ge.uniqueSort,le.text=ge.getText,le.isXMLDoc=ge.isXML,le.contains=ge.contains;var ue=function(e,t,o){for(var n=[],i=void 0!==o;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&le(e).is(o))break;n.push(e)}return n},pe=function(e,t){for(var o=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&o.push(e);return o},he=le.expr.match.needsContext,de=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ye=/^.[^:#\[\.,]*$/;le.filter=function(e,t,o){var n=t[0];return o&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?le.find.matchesSelector(n,e)?[n]:[]:le.find.matches(e,le.grep(t,function(e){return 1===e.nodeType}))},le.fn.extend({find:function(e){var t,o=this.length,n=[],i=this;if("string"!=typeof e)return this.pushStack(le(e).filter(function(){for(t=0;o>t;t++)if(le.contains(i[t],this))return!0}));for(t=0;o>t;t++)le.find(e,i[t],n);return n=this.pushStack(o>1?le.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&he.test(e)?le(e):e||[],!1).length}});var _e,Te=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Ee=le.fn.init=function(e,t,o){var n,i;if(!e)return this;if(o=o||_e,"string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Te.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||o).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof le?t[0]:t,le.merge(this,le.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:$,!0)),de.test(n[1])&&le.isPlainObject(t))for(n in t)le.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=$.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=$,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):le.isFunction(e)?void 0!==o.ready?o.ready(e):e(le):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),le.makeArray(e,this))};Ee.prototype=le.fn,_e=le($);var fe=/^(?:parents|prev(?:Until|All))/,me={children:!0,contents:!0,next:!0,prev:!0};le.fn.extend({has:function(e){var t=le(e,this),o=t.length;return this.filter(function(){for(var e=0;o>e;e++)if(le.contains(this,t[e]))return!0})},closest:function(e,t){for(var o,n=0,i=this.length,l=[],s=he.test(e)||"string"!=typeof e?le(e,t||this.context):0;i>n;n++)for(o=this[n];o&&o!==t;o=o.parentNode)if(o.nodeType<11&&(s?s.index(o)>-1:1===o.nodeType&&le.find.matchesSelector(o,e))){l.push(o);break}return this.pushStack(l.length>1?le.uniqueSort(l):l)},index:function(e){return e?"string"==typeof e?Z.call(le(e),this[0]):Z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(le.uniqueSort(le.merge(this.get(),le(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),le.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ue(e,"parentNode")},parentsUntil:function(e,t,o){return ue(e,"parentNode",o)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ue(e,"nextSibling")},prevAll:function(e){return ue(e,"previousSibling")},nextUntil:function(e,t,o){return ue(e,"nextSibling",o)},prevUntil:function(e,t,o){return ue(e,"previousSibling",o)},siblings:function(e){return pe((e.parentNode||{}).firstChild,e)},children:function(e){return pe(e.firstChild)},contents:function(e){return e.contentDocument||le.merge([],e.childNodes)}},function(e,t){le.fn[e]=function(o,n){var i=le.map(this,t,o);return"Until"!==e.slice(-5)&&(n=o),n&&"string"==typeof n&&(i=le.filter(n,i)),this.length>1&&(me[e]||le.uniqueSort(i),fe.test(e)&&i.reverse()),this.pushStack(i)}});var ke=/\S+/g;le.Callbacks=function(e){e="string"==typeof e?l(e):le.extend({},e);var t,o,n,i,s=[],r=[],a=-1,c=function(){for(i=e.once,n=t=!0;r.length;a=-1)for(o=r.shift();++a<s.length;)s[a].apply(o[0],o[1])===!1&&e.stopOnFalse&&(a=s.length,o=!1);e.memory||(o=!1),t=!1,i&&(s=o?[]:"")},g={add:function(){return s&&(o&&!t&&(a=s.length-1,r.push(o)),function t(o){le.each(o,function(o,n){le.isFunction(n)?e.unique&&g.has(n)||s.push(n):n&&n.length&&"string"!==le.type(n)&&t(n)})}(arguments),o&&!t&&c()),this},remove:function(){return le.each(arguments,function(e,t){for(var o;(o=le.inArray(t,s,o))>-1;)s.splice(o,1),a>=o&&a--}),this},has:function(e){return e?le.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return i=r=[],s=o="",this},disabled:function(){return!s},lock:function(){return i=r=[],o||(s=o=""),this},locked:function(){return!!i},fireWith:function(e,o){return i||(o=o||[],o=[e,o.slice?o.slice():o],r.push(o),t||c()),this},fire:function(){return g.fireWith(this,arguments),this},fired:function(){return!!n}};return g},le.extend({Deferred:function(e){var t=[["resolve","done",le.Callbacks("once memory"),"resolved"],["reject","fail",le.Callbacks("once memory"),"rejected"],["notify","progress",le.Callbacks("memory")]],o="pending",n={state:function(){return o},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return le.Deferred(function(o){le.each(t,function(t,l){var s=le.isFunction(e[t])&&e[t];i[l[1]](function(){var e=s&&s.apply(this,arguments);e&&le.isFunction(e.promise)?e.promise().progress(o.notify).done(o.resolve).fail(o.reject):o[l[0]+"With"](this===n?o.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?le.extend(e,n):n}},i={};return n.pipe=n.then,le.each(t,function(e,l){var s=l[2],r=l[3];n[l[1]]=s.add,r&&s.add(function(){o=r},t[1^e][2].disable,t[2][2].lock),i[l[0]]=function(){return i[l[0]+"With"](this===i?n:this,arguments),this},i[l[0]+"With"]=s.fireWith}),n.promise(i),e&&e.call(i,i),i},when:function(e){var t,o,n,i=0,l=q.call(arguments),s=l.length,r=1!==s||e&&le.isFunction(e.promise)?s:0,a=1===r?e:le.Deferred(),c=function(e,o,n){return function(i){o[e]=this,n[e]=arguments.length>1?q.call(arguments):i,n===t?a.notifyWith(o,n):--r||a.resolveWith(o,n)}};if(s>1)for(t=new Array(s),o=new Array(s),n=new Array(s);s>i;i++)l[i]&&le.isFunction(l[i].promise)?l[i].promise().progress(c(i,o,t)).done(c(i,n,l)).fail(a.reject):--r;return r||a.resolveWith(n,l),a.promise()}});var Be;le.fn.ready=function(e){return le.ready.promise().done(e),this},le.extend({isReady:!1,readyWait:1,holdReady:function(e){e?le.readyWait++:le.ready(!0)},ready:function(e){(e===!0?--le.readyWait:le.isReady)||(le.isReady=!0,e!==!0&&--le.readyWait>0||(Be.resolveWith($,[le]),le.fn.triggerHandler&&(le($).triggerHandler("ready"),le($).off("ready"))))}}),le.ready.promise=function(t){return Be||(Be=le.Deferred(),"complete"===$.readyState||"loading"!==$.readyState&&!$.documentElement.doScroll?e.setTimeout(le.ready):($.addEventListener("DOMContentLoaded",s),e.addEventListener("load",s))),Be.promise(t)},le.ready.promise();var Se=function(e,t,o,n,i,l,s){var r=0,a=e.length,c=null==o;if("object"===le.type(o)){i=!0;for(r in o)Se(e,t,r,o[r],!0,l,s)}else if(void 0!==n&&(i=!0,le.isFunction(n)||(s=!0),c&&(s?(t.call(e,n),t=null):(c=t,t=function(e,t,o){return c.call(le(e),o)})),t))for(;a>r;r++)t(e[r],o,s?n:n.call(e[r],r,t(e[r],o)));return i?e:c?t.call(e):a?t(e[0],o):l},Ce=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};r.uid=1,r.prototype={register:function(e,t){var o=t||{};return e.nodeType?e[this.expando]=o:Object.defineProperty(e,this.expando,{value:o,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Ce(e))return{};var t=e[this.expando];return t||(t={},Ce(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,o){var n,i=this.cache(e);if("string"==typeof t)i[t]=o;else for(n in t)i[n]=t[n];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,o){var n;return void 0===t||t&&"string"==typeof t&&void 0===o?(n=this.get(e,t),void 0!==n?n:this.get(e,le.camelCase(t))):(this.set(e,t,o),void 0!==o?o:t)},remove:function(e,t){var o,n,i,l=e[this.expando];if(void 0!==l){if(void 0===t)this.register(e);else{le.isArray(t)?n=t.concat(t.map(le.camelCase)):(i=le.camelCase(t),t in l?n=[t,i]:(n=i,n=n in l?[n]:n.match(ke)||[])),o=n.length;for(;o--;)delete l[n[o]]}(void 0===t||le.isEmptyObject(l))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!le.isEmptyObject(t)}};var Ae=new r,Ie=new r,ve=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Oe=/[A-Z]/g;le.extend({hasData:function(e){return Ie.hasData(e)||Ae.hasData(e)},data:function(e,t,o){return Ie.access(e,t,o)},removeData:function(e,t){Ie.remove(e,t)},_data:function(e,t,o){return Ae.access(e,t,o)},_removeData:function(e,t){Ae.remove(e,t)}}),le.fn.extend({data:function(e,t){var o,n,i,l=this[0],s=l&&l.attributes;if(void 0===e){if(this.length&&(i=Ie.get(l),1===l.nodeType&&!Ae.get(l,"hasDataAttrs"))){for(o=s.length;o--;)s[o]&&(n=s[o].name,0===n.indexOf("data-")&&(n=le.camelCase(n.slice(5)),a(l,n,i[n])));Ae.set(l,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Ie.set(this,e)}):Se(this,function(t){var o,n;if(l&&void 0===t){if(o=Ie.get(l,e)||Ie.get(l,e.replace(Oe,"-$&").toLowerCase()),void 0!==o)return o;if(n=le.camelCase(e),o=Ie.get(l,n),void 0!==o)return o;if(o=a(l,n,void 0),void 0!==o)return o}else n=le.camelCase(e),this.each(function(){var o=Ie.get(this,n);Ie.set(this,n,t),e.indexOf("-")>-1&&void 0!==o&&Ie.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ie.remove(this,e)})}}),le.extend({queue:function(e,t,o){var n;return e?(t=(t||"fx")+"queue",n=Ae.get(e,t),o&&(!n||le.isArray(o)?n=Ae.access(e,t,le.makeArray(o)):n.push(o)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var o=le.queue(e,t),n=o.length,i=o.shift(),l=le._queueHooks(e,t),s=function(){le.dequeue(e,t)};"inprogress"===i&&(i=o.shift(),n--),i&&("fx"===t&&o.unshift("inprogress"),delete l.stop,i.call(e,s,l)),!n&&l&&l.empty.fire()},_queueHooks:function(e,t){var o=t+"queueHooks";return Ae.get(e,o)||Ae.access(e,o,{empty:le.Callbacks("once memory").add(function(){Ae.remove(e,[t+"queue",o])})})}}),le.fn.extend({queue:function(e,t){var o=2;return"string"!=typeof e&&(t=e,e="fx",o--),arguments.length<o?le.queue(this[0],e):void 0===t?this:this.each(function(){var o=le.queue(this,e,t);le._queueHooks(this,e),"fx"===e&&"inprogress"!==o[0]&&le.dequeue(this,e)})},dequeue:function(e){return this.each(function(){le.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var o,n=1,i=le.Deferred(),l=this,s=this.length,r=function(){--n||i.resolveWith(l,[l])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)o=Ae.get(l[s],e+"queueHooks"),o&&o.empty&&(n++,o.empty.add(r));return r(),i.promise(t)}});var Re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ne=new RegExp("^(?:([+-])=|)("+Re+")([a-z%]*)$","i"),be=["Top","Right","Bottom","Left"],Me=function(e,t){return e=t||e,"none"===le.css(e,"display")||!le.contains(e.ownerDocument,e)},De=/^(?:checkbox|radio)$/i,Le=/<([\w:-]+)/,Pe=/^$|\/(?:java|ecma)script/i,we={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};we.optgroup=we.option,we.tbody=we.tfoot=we.colgroup=we.caption=we.thead,we.th=we.td;var Fe=/<|&#?\w+;/;!function(){var e=$.createDocumentFragment(),t=e.appendChild($.createElement("div")),o=$.createElement("input");o.setAttribute("type","radio"),o.setAttribute("checked","checked"),o.setAttribute("name","t"),t.appendChild(o),ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var xe=/^key/,Ue=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,He=/^([^.]*)(?:\.(.+)|)/;le.event={global:{},add:function(e,t,o,n,i){var l,s,r,a,c,g,u,p,h,d,y,_=Ae.get(e);if(_)for(o.handler&&(l=o,o=l.handler,i=l.selector),o.guid||(o.guid=le.guid++),(a=_.events)||(a=_.events={}),(s=_.handle)||(s=_.handle=function(t){return"undefined"!=typeof le&&le.event.triggered!==t.type?le.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(ke)||[""],c=t.length;c--;)r=He.exec(t[c])||[],h=y=r[1],d=(r[2]||"").split(".").sort(),h&&(u=le.event.special[h]||{},h=(i?u.delegateType:u.bindType)||h,u=le.event.special[h]||{},g=le.extend({type:h,origType:y,data:n,handler:o,guid:o.guid,selector:i,needsContext:i&&le.expr.match.needsContext.test(i),namespace:d.join(".")},l),(p=a[h])||(p=a[h]=[],p.delegateCount=0,u.setup&&u.setup.call(e,n,d,s)!==!1||e.addEventListener&&e.addEventListener(h,s)),u.add&&(u.add.call(e,g),g.handler.guid||(g.handler.guid=o.guid)),i?p.splice(p.delegateCount++,0,g):p.push(g),le.event.global[h]=!0)},remove:function(e,t,o,n,i){var l,s,r,a,c,g,u,p,h,d,y,_=Ae.hasData(e)&&Ae.get(e);if(_&&(a=_.events)){for(t=(t||"").match(ke)||[""],c=t.length;c--;)if(r=He.exec(t[c])||[],h=y=r[1],d=(r[2]||"").split(".").sort(),h){for(u=le.event.special[h]||{},h=(n?u.delegateType:u.bindType)||h,p=a[h]||[],r=r[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=l=p.length;l--;)g=p[l],!i&&y!==g.origType||o&&o.guid!==g.guid||r&&!r.test(g.namespace)||n&&n!==g.selector&&("**"!==n||!g.selector)||(p.splice(l,1),g.selector&&p.delegateCount--,u.remove&&u.remove.call(e,g));s&&!p.length&&(u.teardown&&u.teardown.call(e,d,_.handle)!==!1||le.removeEvent(e,h,_.handle),delete a[h])}else for(h in a)le.event.remove(e,h+t[c],o,n,!0);le.isEmptyObject(a)&&Ae.remove(e,"handle events")}},dispatch:function(e){e=le.event.fix(e);var t,o,n,i,l,s=[],r=q.call(arguments),a=(Ae.get(this,"events")||{})[e.type]||[],c=le.event.special[e.type]||{};if(r[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(s=le.event.handlers.call(this,e,a),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(l=i.handlers[o++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(l.namespace)||(e.handleObj=l,e.data=l.data,n=((le.event.special[l.origType]||{}).handle||l.handler).apply(i.elem,r),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var o,n,i,l,s=[],r=t.delegateCount,a=e.target;if(r&&a.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;a!==this;a=a.parentNode||this)if(1===a.nodeType&&(a.disabled!==!0||"click"!==e.type)){for(n=[],o=0;r>o;o++)l=t[o],i=l.selector+" ",void 0===n[i]&&(n[i]=l.needsContext?le(i,this).index(a)>-1:le.find(i,this,null,[a]).length),n[i]&&n.push(l);n.length&&s.push({elem:a,handlers:n})}return r<t.length&&s.push({elem:this,handlers:t.slice(r)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var o,n,i,l=t.button;return null==e.pageX&&null!=t.clientX&&(o=e.target.ownerDocument||$,n=o.documentElement,i=o.body,e.pageX=t.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)),e.which||void 0===l||(e.which=1&l?1:2&l?3:4&l?2:0),e}},fix:function(e){if(e[le.expando])return e;var t,o,n,i=e.type,l=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Ue.test(i)?this.mouseHooks:xe.test(i)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,e=new le.Event(l),t=n.length;t--;)o=n[t],e[o]=l[o];return e.target||(e.target=$),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,l):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==y()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===y()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&le.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return le.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},le.removeEvent=function(e,t,o){e.removeEventListener&&e.removeEventListener(t,o)},le.Event=function(e,t){return this instanceof le.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:d):this.type=e,t&&le.extend(this,t),this.timeStamp=e&&e.timeStamp||le.now(),void(this[le.expando]=!0)):new le.Event(e,t)},le.Event.prototype={constructor:le.Event,isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation(),this.stopPropagation()}},le.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){le.event.special[e]={delegateType:t,bindType:t,handle:function(e){var o,n=this,i=e.relatedTarget,l=e.handleObj;return i&&(i===n||le.contains(n,i))||(e.type=l.origType,o=l.handler.apply(this,arguments),e.type=t),o}}}),le.fn.extend({on:function(e,t,o,n){return _(this,e,t,o,n)},one:function(e,t,o,n){return _(this,e,t,o,n,1)},off:function(e,t,o){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,le(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(o=t,t=void 0),o===!1&&(o=d),this.each(function(){le.event.remove(this,e,o,t)})}});var Ge=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ve=/<script|<style|<link/i,Ye=/checked\s*(?:[^=]|=\s*.checked.)/i,We=/^true\/(.*)/,Ke=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;le.extend({htmlPrefilter:function(e){return e.replace(Ge,"<$1></$2>")},clone:function(e,t,o){var n,i,l,s,r=e.cloneNode(!0),a=le.contains(e.ownerDocument,e);if(!(ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||le.isXMLDoc(e)))for(s=g(r),l=g(e),n=0,i=l.length;i>n;n++)k(l[n],s[n]);if(t)if(o)for(l=l||g(e),s=s||g(r),n=0,i=l.length;i>n;n++)m(l[n],s[n]);else m(e,r);return s=g(r,"script"),s.length>0&&u(s,!a&&g(e,"script")),r},cleanData:function(e){for(var t,o,n,i=le.event.special,l=0;void 0!==(o=e[l]);l++)if(Ce(o)){if(t=o[Ae.expando]){if(t.events)for(n in t.events)i[n]?le.event.remove(o,n):le.removeEvent(o,n,t.handle);o[Ae.expando]=void 0}o[Ie.expando]&&(o[Ie.expando]=void 0)}}}),le.fn.extend({domManip:B,detach:function(e){return S(this,e,!0)},remove:function(e){return S(this,e)},text:function(e){return Se(this,function(e){return void 0===e?le.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return B(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.appendChild(e)}})},prepend:function(){return B(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return B(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return B(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(le.cleanData(g(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return le.clone(this,e,t)})},html:function(e){return Se(this,function(e){var t=this[0]||{},o=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ve.test(e)&&!we[(Le.exec(e)||["",""])[1].toLowerCase()]){e=le.htmlPrefilter(e);try{for(;n>o;o++)t=this[o]||{},1===t.nodeType&&(le.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return B(this,arguments,function(t){var o=this.parentNode;le.inArray(this,e)<0&&(le.cleanData(g(this)),o&&o.replaceChild(t,this))},e)}}),le.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){le.fn[e]=function(e){for(var o,n=[],i=le(e),l=i.length-1,s=0;l>=s;s++)o=s===l?this:this.clone(!0),le(i[s])[t](o),J.apply(n,o.get());return this.pushStack(n)}});var Xe,je={HTML:"block",BODY:"block"},ze=/^margin/,$e=new RegExp("^("+Re+")(?!px)[a-z%]+$","i"),qe=function(t){var o=t.ownerDocument.defaultView;return o&&o.opener||(o=e),o.getComputedStyle(t)},Qe=function(e,t,o,n){var i,l,s={};for(l in t)s[l]=e.style[l],e.style[l]=t[l];i=o.apply(e,n||[]);for(l in t)e.style[l]=s[l];return i},Je=$.documentElement;!function(){function t(){r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",r.innerHTML="",Je.appendChild(s);var t=e.getComputedStyle(r);o="1%"!==t.top,l="2px"===t.marginLeft,n="4px"===t.width,r.style.marginRight="50%",i="4px"===t.marginRight,Je.removeChild(s)}var o,n,i,l,s=$.createElement("div"),r=$.createElement("div");r.style&&(r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===r.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(r),le.extend(ne,{pixelPosition:function(){return t(),o},boxSizingReliable:function(){return null==n&&t(),n},pixelMarginRight:function(){return null==n&&t(),i},reliableMarginLeft:function(){return null==n&&t(),l},reliableMarginRight:function(){var t,o=r.appendChild($.createElement("div"));return o.style.cssText=r.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",o.style.marginRight=o.style.width="0",r.style.width="1px",Je.appendChild(s),t=!parseFloat(e.getComputedStyle(o).marginRight),Je.removeChild(s),r.removeChild(o),t}}))}();var Ze=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},ot=["Webkit","O","Moz","ms"],nt=$.createElement("div").style;le.extend({cssHooks:{opacity:{get:function(e,t){if(t){var o=I(e,"opacity");return""===o?"1":o}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,o,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,l,s,r=le.camelCase(t),a=e.style;return t=le.cssProps[r]||(le.cssProps[r]=O(r)||r),s=le.cssHooks[t]||le.cssHooks[r],void 0===o?s&&"get"in s&&void 0!==(i=s.get(e,!1,n))?i:a[t]:(l=typeof o,"string"===l&&(i=Ne.exec(o))&&i[1]&&(o=c(e,t,i),l="number"),void(null!=o&&o===o&&("number"===l&&(o+=i&&i[3]||(le.cssNumber[r]?"":"px")),ne.clearCloneStyle||""!==o||0!==t.indexOf("background")||(a[t]="inherit"),s&&"set"in s&&void 0===(o=s.set(e,o,n))||(a[t]=o))))}},css:function(e,t,o,n){var i,l,s,r=le.camelCase(t);return t=le.cssProps[r]||(le.cssProps[r]=O(r)||r),s=le.cssHooks[t]||le.cssHooks[r],s&&"get"in s&&(i=s.get(e,!0,o)),void 0===i&&(i=I(e,t,n)),"normal"===i&&t in tt&&(i=tt[t]),""===o||o?(l=parseFloat(i),o===!0||isFinite(l)?l||0:i):i}}),le.each(["height","width"],function(e,t){le.cssHooks[t]={get:function(e,o,n){return o?Ze.test(le.css(e,"display"))&&0===e.offsetWidth?Qe(e,et,function(){return b(e,t,n)}):b(e,t,n):void 0},set:function(e,o,n){var i,l=n&&qe(e),s=n&&N(e,t,n,"border-box"===le.css(e,"boxSizing",!1,l),l);return s&&(i=Ne.exec(o))&&"px"!==(i[3]||"px")&&(e.style[t]=o,o=le.css(e,t)),R(e,o,s)}}}),le.cssHooks.marginLeft=v(ne.reliableMarginLeft,function(e,t){return t?(parseFloat(I(e,"marginLeft"))||e.getBoundingClientRect().left-Qe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),le.cssHooks.marginRight=v(ne.reliableMarginRight,function(e,t){return t?Qe(e,{display:"inline-block"},I,[e,"marginRight"]):void 0}),le.each({margin:"",padding:"",border:"Width"},function(e,t){le.cssHooks[e+t]={expand:function(o){for(var n=0,i={},l="string"==typeof o?o.split(" "):[o];4>n;n++)i[e+be[n]+t]=l[n]||l[n-2]||l[0];return i}},ze.test(e)||(le.cssHooks[e+t].set=R)}),le.fn.extend({css:function(e,t){return Se(this,function(e,t,o){var n,i,l={},s=0;if(le.isArray(t)){for(n=qe(e),i=t.length;i>s;s++)l[t[s]]=le.css(e,t[s],!1,n);return l}return void 0!==o?le.style(e,t,o):le.css(e,t)},e,t,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Me(this)?le(this).show():le(this).hide()})}}),le.Tween=D,D.prototype={constructor:D,init:function(e,t,o,n,i,l){this.elem=e,this.prop=o,this.easing=i||le.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=l||(le.cssNumber[o]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,o=D.propHooks[this.prop];return this.options.duration?this.pos=t=le.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=le.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){le.fx.step[e.prop]?le.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[le.cssProps[e.prop]]&&!le.cssHooks[e.prop]?e.elem[e.prop]=e.now:le.style(e.elem,e.prop,e.now+e.unit)}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},le.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},le.fx=D.prototype.init,le.fx.step={};var it,lt,st=/^(?:toggle|show|hide)$/,rt=/queueHooks$/;le.Animation=le.extend(U,{tweeners:{"*":[function(e,t){var o=this.createTween(e,t);return c(o.elem,e,Ne.exec(t),o),o}]},tweener:function(e,t){le.isFunction(e)?(t=e,e=["*"]):e=e.match(ke);for(var o,n=0,i=e.length;i>n;n++)o=e[n],U.tweeners[o]=U.tweeners[o]||[],U.tweeners[o].unshift(t)},prefilters:[F],prefilter:function(e,t){t?U.prefilters.unshift(e):U.prefilters.push(e)}}),le.speed=function(e,t,o){var n=e&&"object"==typeof e?le.extend({},e):{complete:o||!o&&t||le.isFunction(e)&&e,duration:e,easing:o&&t||t&&!le.isFunction(t)&&t};return n.duration=le.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in le.fx.speeds?le.fx.speeds[n.duration]:le.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){le.isFunction(n.old)&&n.old.call(this),n.queue&&le.dequeue(this,n.queue)},n},le.fn.extend({fadeTo:function(e,t,o,n){return this.filter(Me).css("opacity",0).show().end().animate({opacity:t},e,o,n)},animate:function(e,t,o,n){var i=le.isEmptyObject(e),l=le.speed(t,o,n),s=function(){var t=U(this,le.extend({},e),l);(i||Ae.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||l.queue===!1?this.each(s):this.queue(l.queue,s)},stop:function(e,t,o){var n=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof e&&(o=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",l=le.timers,s=Ae.get(this);if(i)s[i]&&s[i].stop&&n(s[i]);else for(i in s)s[i]&&s[i].stop&&rt.test(i)&&n(s[i]);for(i=l.length;i--;)l[i].elem!==this||null!=e&&l[i].queue!==e||(l[i].anim.stop(o),t=!1,l.splice(i,1));!t&&o||le.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,o=Ae.get(this),n=o[e+"queue"],i=o[e+"queueHooks"],l=le.timers,s=n?n.length:0;for(o.finish=!0,le.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=l.length;t--;)l[t].elem===this&&l[t].queue===e&&(l[t].anim.stop(!0),l.splice(t,1));for(t=0;s>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete o.finish})}}),le.each(["toggle","show","hide"],function(e,t){var o=le.fn[t];le.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(P(t,!0),e,n,i)}}),le.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){le.fn[e]=function(e,o,n){return this.animate(t,e,o,n)}}),le.timers=[],le.fx.tick=function(){var e,t=0,o=le.timers;for(it=le.now();t<o.length;t++)e=o[t],
e()||o[t]!==e||o.splice(t--,1);o.length||le.fx.stop(),it=void 0},le.fx.timer=function(e){le.timers.push(e),e()?le.fx.start():le.timers.pop()},le.fx.interval=13,le.fx.start=function(){lt||(lt=e.setInterval(le.fx.tick,le.fx.interval))},le.fx.stop=function(){e.clearInterval(lt),lt=null},le.fx.speeds={slow:600,fast:200,_default:400},le.fn.delay=function(t,o){return t=le.fx?le.fx.speeds[t]||t:t,o=o||"fx",this.queue(o,function(o,n){var i=e.setTimeout(o,t);n.stop=function(){e.clearTimeout(i)}})},function(){var e=$.createElement("input"),t=$.createElement("select"),o=t.appendChild($.createElement("option"));e.type="checkbox",ne.checkOn=""!==e.value,ne.optSelected=o.selected,t.disabled=!0,ne.optDisabled=!o.disabled,e=$.createElement("input"),e.value="t",e.type="radio",ne.radioValue="t"===e.value}();var at,ct=le.expr.attrHandle;le.fn.extend({attr:function(e,t){return Se(this,le.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){le.removeAttr(this,e)})}}),le.extend({attr:function(e,t,o){var n,i,l=e.nodeType;if(3!==l&&8!==l&&2!==l)return"undefined"==typeof e.getAttribute?le.prop(e,t,o):(1===l&&le.isXMLDoc(e)||(t=t.toLowerCase(),i=le.attrHooks[t]||(le.expr.match.bool.test(t)?at:void 0)),void 0!==o?null===o?void le.removeAttr(e,t):i&&"set"in i&&void 0!==(n=i.set(e,o,t))?n:(e.setAttribute(t,o+""),o):i&&"get"in i&&null!==(n=i.get(e,t))?n:(n=le.find.attr(e,t),null==n?void 0:n))},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&le.nodeName(e,"input")){var o=e.value;return e.setAttribute("type",t),o&&(e.value=o),t}}}},removeAttr:function(e,t){var o,n,i=0,l=t&&t.match(ke);if(l&&1===e.nodeType)for(;o=l[i++];)n=le.propFix[o]||o,le.expr.match.bool.test(o)&&(e[n]=!1),e.removeAttribute(o)}}),at={set:function(e,t,o){return t===!1?le.removeAttr(e,o):e.setAttribute(o,o),o}},le.each(le.expr.match.bool.source.match(/\w+/g),function(e,t){var o=ct[t]||le.find.attr;ct[t]=function(e,t,n){var i,l;return n||(l=ct[t],ct[t]=i,i=null!=o(e,t,n)?t.toLowerCase():null,ct[t]=l),i}});var gt=/^(?:input|select|textarea|button)$/i,ut=/^(?:a|area)$/i;le.fn.extend({prop:function(e,t){return Se(this,le.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[le.propFix[e]||e]})}}),le.extend({prop:function(e,t,o){var n,i,l=e.nodeType;if(3!==l&&8!==l&&2!==l)return 1===l&&le.isXMLDoc(e)||(t=le.propFix[t]||t,i=le.propHooks[t]),void 0!==o?i&&"set"in i&&void 0!==(n=i.set(e,o,t))?n:e[t]=o:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=le.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||ut.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ne.optSelected||(le.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),le.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){le.propFix[this.toLowerCase()]=this});var pt=/[\t\r\n\f]/g;le.fn.extend({addClass:function(e){var t,o,n,i,l,s,r,a=0;if(le.isFunction(e))return this.each(function(t){le(this).addClass(e.call(this,t,H(this)))});if("string"==typeof e&&e)for(t=e.match(ke)||[];o=this[a++];)if(i=H(o),n=1===o.nodeType&&(" "+i+" ").replace(pt," ")){for(s=0;l=t[s++];)n.indexOf(" "+l+" ")<0&&(n+=l+" ");r=le.trim(n),i!==r&&o.setAttribute("class",r)}return this},removeClass:function(e){var t,o,n,i,l,s,r,a=0;if(le.isFunction(e))return this.each(function(t){le(this).removeClass(e.call(this,t,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(ke)||[];o=this[a++];)if(i=H(o),n=1===o.nodeType&&(" "+i+" ").replace(pt," ")){for(s=0;l=t[s++];)for(;n.indexOf(" "+l+" ")>-1;)n=n.replace(" "+l+" "," ");r=le.trim(n),i!==r&&o.setAttribute("class",r)}return this},toggleClass:function(e,t){var o=typeof e;return"boolean"==typeof t&&"string"===o?t?this.addClass(e):this.removeClass(e):le.isFunction(e)?this.each(function(o){le(this).toggleClass(e.call(this,o,H(this),t),t)}):this.each(function(){var t,n,i,l;if("string"===o)for(n=0,i=le(this),l=e.match(ke)||[];t=l[n++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==o||(t=H(this),t&&Ae.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Ae.get(this,"__className__")||""))})},hasClass:function(e){var t,o,n=0;for(t=" "+e+" ";o=this[n++];)if(1===o.nodeType&&(" "+H(o)+" ").replace(pt," ").indexOf(t)>-1)return!0;return!1}});var ht=/\r/g,dt=/[\x20\t\r\n\f]+/g;le.fn.extend({val:function(e){var t,o,n,i=this[0];return arguments.length?(n=le.isFunction(e),this.each(function(o){var i;1===this.nodeType&&(i=n?e.call(this,o,le(this).val()):e,null==i?i="":"number"==typeof i?i+="":le.isArray(i)&&(i=le.map(i,function(e){return null==e?"":e+""})),t=le.valHooks[this.type]||le.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=le.valHooks[i.type]||le.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(o=t.get(i,"value"))?o:(o=i.value,"string"==typeof o?o.replace(ht,""):null==o?"":o)):void 0}}),le.extend({valHooks:{option:{get:function(e){var t=le.find.attr(e,"value");return null!=t?t:le.trim(le.text(e)).replace(dt," ")}},select:{get:function(e){for(var t,o,n=e.options,i=e.selectedIndex,l="select-one"===e.type||0>i,s=l?null:[],r=l?i+1:n.length,a=0>i?r:l?i:0;r>a;a++)if(o=n[a],(o.selected||a===i)&&(ne.optDisabled?!o.disabled:null===o.getAttribute("disabled"))&&(!o.parentNode.disabled||!le.nodeName(o.parentNode,"optgroup"))){if(t=le(o).val(),l)return t;s.push(t)}return s},set:function(e,t){for(var o,n,i=e.options,l=le.makeArray(t),s=i.length;s--;)n=i[s],(n.selected=le.inArray(le.valHooks.option.get(n),l)>-1)&&(o=!0);return o||(e.selectedIndex=-1),l}}}}),le.each(["radio","checkbox"],function(){le.valHooks[this]={set:function(e,t){return le.isArray(t)?e.checked=le.inArray(le(e).val(),t)>-1:void 0}},ne.checkOn||(le.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var yt=/^(?:focusinfocus|focusoutblur)$/;le.extend(le.event,{trigger:function(t,o,n,i){var l,s,r,a,c,g,u,p=[n||$],h=oe.call(t,"type")?t.type:t,d=oe.call(t,"namespace")?t.namespace.split("."):[];if(s=r=n=n||$,3!==n.nodeType&&8!==n.nodeType&&!yt.test(h+le.event.triggered)&&(h.indexOf(".")>-1&&(d=h.split("."),h=d.shift(),d.sort()),c=h.indexOf(":")<0&&"on"+h,t=t[le.expando]?t:new le.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),o=null==o?[t]:le.makeArray(o,[t]),u=le.event.special[h]||{},i||!u.trigger||u.trigger.apply(n,o)!==!1)){if(!i&&!u.noBubble&&!le.isWindow(n)){for(a=u.delegateType||h,yt.test(a+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),r=s;r===(n.ownerDocument||$)&&p.push(r.defaultView||r.parentWindow||e)}for(l=0;(s=p[l++])&&!t.isPropagationStopped();)t.type=l>1?a:u.bindType||h,g=(Ae.get(s,"events")||{})[t.type]&&Ae.get(s,"handle"),g&&g.apply(s,o),g=c&&s[c],g&&g.apply&&Ce(s)&&(t.result=g.apply(s,o),t.result===!1&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||u._default&&u._default.apply(p.pop(),o)!==!1||!Ce(n)||c&&le.isFunction(n[h])&&!le.isWindow(n)&&(r=n[c],r&&(n[c]=null),le.event.triggered=h,n[h](),le.event.triggered=void 0,r&&(n[c]=r)),t.result}},simulate:function(e,t,o){var n=le.extend(new le.Event,o,{type:e,isSimulated:!0});le.event.trigger(n,null,t),n.isDefaultPrevented()&&o.preventDefault()}}),le.fn.extend({trigger:function(e,t){return this.each(function(){le.event.trigger(e,t,this)})},triggerHandler:function(e,t){var o=this[0];return o?le.event.trigger(e,t,o,!0):void 0}}),le.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){le.fn[t]=function(e,o){return arguments.length>0?this.on(t,null,e,o):this.trigger(t)}}),le.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ne.focusin="onfocusin"in e,ne.focusin||le.each({focus:"focusin",blur:"focusout"},function(e,t){var o=function(e){le.event.simulate(t,e.target,le.event.fix(e))};le.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=Ae.access(n,t);i||n.addEventListener(e,o,!0),Ae.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=Ae.access(n,t)-1;i?Ae.access(n,t,i):(n.removeEventListener(e,o,!0),Ae.remove(n,t))}}});var _t=e.location,Tt=le.now(),Et=/\?/;le.parseJSON=function(e){return JSON.parse(e+"")},le.parseXML=function(t){var o;if(!t||"string"!=typeof t)return null;try{o=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){o=void 0}return o&&!o.getElementsByTagName("parsererror").length||le.error("Invalid XML: "+t),o};var ft=/#.*$/,mt=/([?&])_=[^&]*/,kt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,St=/^(?:GET|HEAD)$/,Ct=/^\/\//,At={},It={},vt="*/".concat("*"),Ot=$.createElement("a");Ot.href=_t.href,le.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t.href,type:"GET",isLocal:Bt.test(_t.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":le.parseJSON,"text xml":le.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Y(Y(e,le.ajaxSettings),t):Y(le.ajaxSettings,e)},ajaxPrefilter:G(At),ajaxTransport:G(It),ajax:function(t,o){function n(t,o,n,r){var c,u,E,f,k,S=o;2!==m&&(m=2,a&&e.clearTimeout(a),i=void 0,s=r||"",B.readyState=t>0?4:0,c=t>=200&&300>t||304===t,n&&(f=W(p,B,n)),f=K(p,f,B,c),c?(p.ifModified&&(k=B.getResponseHeader("Last-Modified"),k&&(le.lastModified[l]=k),k=B.getResponseHeader("etag"),k&&(le.etag[l]=k)),204===t||"HEAD"===p.type?S="nocontent":304===t?S="notmodified":(S=f.state,u=f.data,E=f.error,c=!E)):(E=S,!t&&S||(S="error",0>t&&(t=0))),B.status=t,B.statusText=(o||S)+"",c?y.resolveWith(h,[u,S,B]):y.rejectWith(h,[B,S,E]),B.statusCode(T),T=void 0,g&&d.trigger(c?"ajaxSuccess":"ajaxError",[B,p,c?u:E]),_.fireWith(h,[B,S]),g&&(d.trigger("ajaxComplete",[B,p]),--le.active||le.event.trigger("ajaxStop")))}"object"==typeof t&&(o=t,t=void 0),o=o||{};var i,l,s,r,a,c,g,u,p=le.ajaxSetup({},o),h=p.context||p,d=p.context&&(h.nodeType||h.jquery)?le(h):le.event,y=le.Deferred(),_=le.Callbacks("once memory"),T=p.statusCode||{},E={},f={},m=0,k="canceled",B={readyState:0,getResponseHeader:function(e){var t;if(2===m){if(!r)for(r={};t=kt.exec(s);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===m?s:null},setRequestHeader:function(e,t){var o=e.toLowerCase();return m||(e=f[o]=f[o]||e,E[e]=t),this},overrideMimeType:function(e){return m||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>m)for(t in e)T[t]=[T[t],e[t]];else B.always(e[B.status]);return this},abort:function(e){var t=e||k;return i&&i.abort(t),n(0,t),this}};if(y.promise(B).complete=_.add,B.success=B.done,B.error=B.fail,p.url=((t||p.url||_t.href)+"").replace(ft,"").replace(Ct,_t.protocol+"//"),p.type=o.method||o.type||p.method||p.type,p.dataTypes=le.trim(p.dataType||"*").toLowerCase().match(ke)||[""],null==p.crossDomain){c=$.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Ot.protocol+"//"+Ot.host!=c.protocol+"//"+c.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=le.param(p.data,p.traditional)),V(At,p,o,B),2===m)return B;g=le.event&&p.global,g&&0===le.active++&&le.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!St.test(p.type),l=p.url,p.hasContent||(p.data&&(l=p.url+=(Et.test(l)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=mt.test(l)?l.replace(mt,"$1_="+Tt++):l+(Et.test(l)?"&":"?")+"_="+Tt++)),p.ifModified&&(le.lastModified[l]&&B.setRequestHeader("If-Modified-Since",le.lastModified[l]),le.etag[l]&&B.setRequestHeader("If-None-Match",le.etag[l])),(p.data&&p.hasContent&&p.contentType!==!1||o.contentType)&&B.setRequestHeader("Content-Type",p.contentType),B.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+vt+"; q=0.01":""):p.accepts["*"]);for(u in p.headers)B.setRequestHeader(u,p.headers[u]);if(p.beforeSend&&(p.beforeSend.call(h,B,p)===!1||2===m))return B.abort();k="abort";for(u in{success:1,error:1,complete:1})B[u](p[u]);if(i=V(It,p,o,B)){if(B.readyState=1,g&&d.trigger("ajaxSend",[B,p]),2===m)return B;p.async&&p.timeout>0&&(a=e.setTimeout(function(){B.abort("timeout")},p.timeout));try{m=1,i.send(E,n)}catch(e){if(!(2>m))throw e;n(-1,e)}}else n(-1,"No Transport");return B},getJSON:function(e,t,o){return le.get(e,t,o,"json")},getScript:function(e,t){return le.get(e,void 0,t,"script")}}),le.each(["get","post"],function(e,t){le[t]=function(e,o,n,i){return le.isFunction(o)&&(i=i||n,n=o,o=void 0),le.ajax(le.extend({url:e,type:t,dataType:i,data:o,success:n},le.isPlainObject(e)&&e))}}),le._evalUrl=function(e){return le.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},le.fn.extend({wrapAll:function(e){var t;return le.isFunction(e)?this.each(function(t){le(this).wrapAll(e.call(this,t))}):(this[0]&&(t=le(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return le.isFunction(e)?this.each(function(t){le(this).wrapInner(e.call(this,t))}):this.each(function(){var t=le(this),o=t.contents();o.length?o.wrapAll(e):t.append(e)})},wrap:function(e){var t=le.isFunction(e);return this.each(function(o){le(this).wrapAll(t?e.call(this,o):e)})},unwrap:function(){return this.parent().each(function(){le.nodeName(this,"body")||le(this).replaceWith(this.childNodes)}).end()}}),le.expr.filters.hidden=function(e){return!le.expr.filters.visible(e)},le.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Rt=/%20/g,Nt=/\[\]$/,bt=/\r?\n/g,Mt=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;le.param=function(e,t){var o,n=[],i=function(e,t){t=le.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=le.ajaxSettings&&le.ajaxSettings.traditional),le.isArray(e)||e.jquery&&!le.isPlainObject(e))le.each(e,function(){i(this.name,this.value)});else for(o in e)X(o,e[o],t,i);return n.join("&").replace(Rt,"+")},le.fn.extend({serialize:function(){return le.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=le.prop(this,"elements");return e?le.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!le(this).is(":disabled")&&Dt.test(this.nodeName)&&!Mt.test(e)&&(this.checked||!De.test(e))}).map(function(e,t){var o=le(this).val();return null==o?null:le.isArray(o)?le.map(o,function(e){return{name:t.name,value:e.replace(bt,"\r\n")}}):{name:t.name,value:o.replace(bt,"\r\n")}}).get()}}),le.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Lt={0:200,1223:204},Pt=le.ajaxSettings.xhr();ne.cors=!!Pt&&"withCredentials"in Pt,ne.ajax=Pt=!!Pt,le.ajaxTransport(function(t){var o,n;return ne.cors||Pt&&!t.crossDomain?{send:function(i,l){var s,r=t.xhr();if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)r[s]=t.xhrFields[s];t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)r.setRequestHeader(s,i[s]);o=function(e){return function(){o&&(o=n=r.onload=r.onerror=r.onabort=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?l(0,"error"):l(r.status,r.statusText):l(Lt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),n=r.onerror=o("error"),void 0!==r.onabort?r.onabort=n:r.onreadystatechange=function(){4===r.readyState&&e.setTimeout(function(){o&&n()})},o=o("abort");try{r.send(t.hasContent&&t.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}:void 0}),le.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return le.globalEval(e),e}}}),le.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),le.ajaxTransport("script",function(e){if(e.crossDomain){var t,o;return{send:function(n,i){t=le("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",o=function(e){t.remove(),o=null,e&&i("error"===e.type?404:200,e.type)}),$.head.appendChild(t[0])},abort:function(){o&&o()}}}});var wt=[],Ft=/(=)\?(?=&|$)|\?\?/;le.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=wt.pop()||le.expando+"_"+Tt++;return this[e]=!0,e}}),le.ajaxPrefilter("json jsonp",function(t,o,n){var i,l,s,r=t.jsonp!==!1&&(Ft.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ft.test(t.data)&&"data");return r||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=le.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(Ft,"$1"+i):t.jsonp!==!1&&(t.url+=(Et.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||le.error(i+" was not called"),s[0]},t.dataTypes[0]="json",l=e[i],e[i]=function(){s=arguments},n.always(function(){void 0===l?le(e).removeProp(i):e[i]=l,t[i]&&(t.jsonpCallback=o.jsonpCallback,wt.push(i)),s&&le.isFunction(l)&&l(s[0]),s=l=void 0}),"script"):void 0}),le.parseHTML=function(e,t,o){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(o=t,t=!1),t=t||$;var n=de.exec(e),i=!o&&[];return n?[t.createElement(n[1])]:(n=p([e],t,i),i&&i.length&&le(i).remove(),le.merge([],n.childNodes))};var xt=le.fn.load;le.fn.load=function(e,t,o){if("string"!=typeof e&&xt)return xt.apply(this,arguments);var n,i,l,s=this,r=e.indexOf(" ");return r>-1&&(n=le.trim(e.slice(r)),e=e.slice(0,r)),le.isFunction(t)?(o=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&le.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){l=arguments,s.html(n?le("<div>").append(le.parseHTML(e)).find(n):e)}).always(o&&function(e,t){s.each(function(){o.apply(this,l||[e.responseText,t,e])})}),this},le.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){le.fn[t]=function(e){return this.on(t,e)}}),le.expr.filters.animated=function(e){return le.grep(le.timers,function(t){return e===t.elem}).length},le.offset={setOffset:function(e,t,o){var n,i,l,s,r,a,c,g=le.css(e,"position"),u=le(e),p={};"static"===g&&(e.style.position="relative"),r=u.offset(),l=le.css(e,"top"),a=le.css(e,"left"),c=("absolute"===g||"fixed"===g)&&(l+a).indexOf("auto")>-1,c?(n=u.position(),s=n.top,i=n.left):(s=parseFloat(l)||0,i=parseFloat(a)||0),le.isFunction(t)&&(t=t.call(e,o,le.extend({},r))),null!=t.top&&(p.top=t.top-r.top+s),null!=t.left&&(p.left=t.left-r.left+i),"using"in t?t.using.call(e,p):u.css(p)}},le.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){le.offset.setOffset(this,e,t)});var t,o,n=this[0],i={top:0,left:0},l=n&&n.ownerDocument;return l?(t=l.documentElement,le.contains(t,n)?(i=n.getBoundingClientRect(),o=j(l),{top:i.top+o.pageYOffset-t.clientTop,left:i.left+o.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,o=this[0],n={top:0,left:0};return"fixed"===le.css(o,"position")?t=o.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),le.nodeName(e[0],"html")||(n=e.offset()),n.top+=le.css(e[0],"borderTopWidth",!0),n.left+=le.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-le.css(o,"marginTop",!0),left:t.left-n.left-le.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===le.css(e,"position");)e=e.offsetParent;return e||Je})}}),le.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var o="pageYOffset"===t;le.fn[e]=function(n){return Se(this,function(e,n,i){var l=j(e);return void 0===i?l?l[t]:e[n]:void(l?l.scrollTo(o?l.pageXOffset:i,o?i:l.pageYOffset):e[n]=i)},e,n,arguments.length)}}),le.each(["top","left"],function(e,t){le.cssHooks[t]=v(ne.pixelPosition,function(e,o){return o?(o=I(e,t),$e.test(o)?le(e).position()[t]+"px":o):void 0})}),le.each({Height:"height",Width:"width"},function(e,t){le.each({padding:"inner"+e,content:t,"":"outer"+e},function(o,n){le.fn[n]=function(n,i){var l=arguments.length&&(o||"boolean"!=typeof n),s=o||(n===!0||i===!0?"margin":"border");return Se(this,function(t,o,n){var i;return le.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===n?le.css(t,o,s):le.style(t,o,n,s)},t,l?n:void 0,l,null)}})}),le.fn.extend({bind:function(e,t,o){return this.on(e,null,t,o)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,o,n){return this.on(t,e,o,n)},undelegate:function(e,t,o){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",o)},size:function(){return this.length}}),le.fn.andSelf=le.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return le});var Ut=e.jQuery,Ht=e.$;return le.noConflict=function(t){return e.$===le&&(e.$=Ht),t&&e.jQuery===le&&(e.jQuery=Ut),le},t||(e.jQuery=e.$=le),le}),function(){function e(e){function t(t,o,n,i,l,s){for(;l>=0&&s>l;l+=e){var r=i?i[l]:l;n=o(n,t[r],r,t)}return n}return function(o,n,i,l){n=f(n,l,4);var s=!I(o)&&E.keys(o),r=(s||o).length,a=e>0?0:r-1;return arguments.length<3&&(i=o[s?s[a]:a],a+=e),t(o,n,i,s,a,r)}}function t(e){return function(t,o,n){o=m(o,n);for(var i=A(t),l=e>0?0:i-1;l>=0&&i>l;l+=e)if(o(t[l],l,t))return l;return-1}}function o(e,t,o){return function(n,i,l){var s=0,r=A(n);if("number"==typeof l)e>0?s=l>=0?l:Math.max(l+r,s):r=l>=0?Math.min(l+1,r):l+r+1;else if(o&&l&&r)return l=o(n,i),n[l]===i?l:-1;if(i!==i)return l=t(g.call(n,s,r),E.isNaN),l>=0?l+s:-1;for(l=e>0?s:r-1;l>=0&&r>l;l+=e)if(n[l]===i)return l;return-1}}function n(e,t){var o=b.length,n=e.constructor,i=E.isFunction(n)&&n.prototype||r,l="constructor";for(E.has(e,l)&&!E.contains(t,l)&&t.push(l);o--;)l=b[o],l in e&&e[l]!==i[l]&&!E.contains(t,l)&&t.push(l)}var i=this,l=i._,s=Array.prototype,r=Object.prototype,a=Function.prototype,c=s.push,g=s.slice,u=r.toString,p=r.hasOwnProperty,h=Array.isArray,d=Object.keys,y=a.bind,_=Object.create,T=function(){},E=function(e){return e instanceof E?e:this instanceof E?void(this._wrapped=e):new E(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=E),exports._=E):i._=E,E.VERSION="1.8.3";var f=function(e,t,o){if(void 0===t)return e;switch(null==o?3:o){case 1:return function(o){return e.call(t,o)};case 2:return function(o,n){return e.call(t,o,n)};case 3:return function(o,n,i){return e.call(t,o,n,i)};case 4:return function(o,n,i,l){return e.call(t,o,n,i,l)}}return function(){return e.apply(t,arguments)}},m=function(e,t,o){return null==e?E.identity:E.isFunction(e)?f(e,t,o):E.isObject(e)?E.matcher(e):E.property(e)};E.iteratee=function(e,t){return m(e,t,1/0)};var k=function(e,t){return function(o){var n=arguments.length;if(2>n||null==o)return o;for(var i=1;n>i;i++)for(var l=arguments[i],s=e(l),r=s.length,a=0;r>a;a++){var c=s[a];t&&void 0!==o[c]||(o[c]=l[c])}return o}},B=function(e){if(!E.isObject(e))return{};if(_)return _(e);T.prototype=e;var t=new T;return T.prototype=null,t},S=function(e){return function(t){return null==t?void 0:t[e]}},C=Math.pow(2,53)-1,A=S("length"),I=function(e){var t=A(e);return"number"==typeof t&&t>=0&&C>=t};E.each=E.forEach=function(e,t,o){t=f(t,o);var n,i;if(I(e))for(n=0,i=e.length;i>n;n++)t(e[n],n,e);else{var l=E.keys(e);for(n=0,i=l.length;i>n;n++)t(e[l[n]],l[n],e)}return e},E.map=E.collect=function(e,t,o){t=m(t,o);for(var n=!I(e)&&E.keys(e),i=(n||e).length,l=Array(i),s=0;i>s;s++){var r=n?n[s]:s;l[s]=t(e[r],r,e)}return l},E.reduce=E.foldl=E.inject=e(1),E.reduceRight=E.foldr=e(-1),E.find=E.detect=function(e,t,o){var n;return n=I(e)?E.findIndex(e,t,o):E.findKey(e,t,o),void 0!==n&&n!==-1?e[n]:void 0},E.filter=E.select=function(e,t,o){var n=[];return t=m(t,o),E.each(e,function(e,o,i){t(e,o,i)&&n.push(e)}),n},E.reject=function(e,t,o){return E.filter(e,E.negate(m(t)),o)},E.every=E.all=function(e,t,o){t=m(t,o);for(var n=!I(e)&&E.keys(e),i=(n||e).length,l=0;i>l;l++){var s=n?n[l]:l;if(!t(e[s],s,e))return!1}return!0},E.some=E.any=function(e,t,o){t=m(t,o);for(var n=!I(e)&&E.keys(e),i=(n||e).length,l=0;i>l;l++){var s=n?n[l]:l;if(t(e[s],s,e))return!0}return!1},E.contains=E.includes=E.include=function(e,t,o,n){return I(e)||(e=E.values(e)),("number"!=typeof o||n)&&(o=0),E.indexOf(e,t,o)>=0},E.invoke=function(e,t){var o=g.call(arguments,2),n=E.isFunction(t);return E.map(e,function(e){var i=n?t:e[t];return null==i?i:i.apply(e,o)})},E.pluck=function(e,t){return E.map(e,E.property(t))},E.where=function(e,t){return E.filter(e,E.matcher(t))},E.findWhere=function(e,t){return E.find(e,E.matcher(t))},E.max=function(e,t,o){var n,i,l=-1/0,s=-1/0;if(null==t&&null!=e){e=I(e)?e:E.values(e);for(var r=0,a=e.length;a>r;r++)n=e[r],n>l&&(l=n)}else t=m(t,o),E.each(e,function(e,o,n){i=t(e,o,n),(i>s||i===-1/0&&l===-1/0)&&(l=e,s=i)});return l},E.min=function(e,t,o){var n,i,l=1/0,s=1/0;if(null==t&&null!=e){e=I(e)?e:E.values(e);for(var r=0,a=e.length;a>r;r++)n=e[r],l>n&&(l=n)}else t=m(t,o),E.each(e,function(e,o,n){i=t(e,o,n),(s>i||1/0===i&&1/0===l)&&(l=e,s=i)});return l},E.shuffle=function(e){for(var t,o=I(e)?e:E.values(e),n=o.length,i=Array(n),l=0;n>l;l++)t=E.random(0,l),t!==l&&(i[l]=i[t]),i[t]=o[l];return i},E.sample=function(e,t,o){return null==t||o?(I(e)||(e=E.values(e)),e[E.random(e.length-1)]):E.shuffle(e).slice(0,Math.max(0,t))},E.sortBy=function(e,t,o){return t=m(t,o),E.pluck(E.map(e,function(e,o,n){return{value:e,index:o,criteria:t(e,o,n)}}).sort(function(e,t){var o=e.criteria,n=t.criteria;if(o!==n){if(o>n||void 0===o)return 1;if(n>o||void 0===n)return-1}return e.index-t.index}),"value")};var v=function(e){return function(t,o,n){var i={};return o=m(o,n),E.each(t,function(n,l){var s=o(n,l,t);e(i,n,s)}),i}};E.groupBy=v(function(e,t,o){E.has(e,o)?e[o].push(t):e[o]=[t]}),E.indexBy=v(function(e,t,o){e[o]=t}),E.countBy=v(function(e,t,o){E.has(e,o)?e[o]++:e[o]=1}),E.toArray=function(e){return e?E.isArray(e)?g.call(e):I(e)?E.map(e,E.identity):E.values(e):[]},E.size=function(e){return null==e?0:I(e)?e.length:E.keys(e).length},E.partition=function(e,t,o){t=m(t,o);var n=[],i=[];return E.each(e,function(e,o,l){(t(e,o,l)?n:i).push(e)}),[n,i]},E.first=E.head=E.take=function(e,t,o){return null==e?void 0:null==t||o?e[0]:E.initial(e,e.length-t)},E.initial=function(e,t,o){return g.call(e,0,Math.max(0,e.length-(null==t||o?1:t)))},E.last=function(e,t,o){return null==e?void 0:null==t||o?e[e.length-1]:E.rest(e,Math.max(0,e.length-t))},E.rest=E.tail=E.drop=function(e,t,o){return g.call(e,null==t||o?1:t)},E.compact=function(e){return E.filter(e,E.identity)};var O=function(e,t,o,n){for(var i=[],l=0,s=n||0,r=A(e);r>s;s++){var a=e[s];if(I(a)&&(E.isArray(a)||E.isArguments(a))){t||(a=O(a,t,o));var c=0,g=a.length;for(i.length+=g;g>c;)i[l++]=a[c++]}else o||(i[l++]=a)}return i};E.flatten=function(e,t){return O(e,t,!1)},E.without=function(e){return E.difference(e,g.call(arguments,1))},E.uniq=E.unique=function(e,t,o,n){E.isBoolean(t)||(n=o,o=t,t=!1),null!=o&&(o=m(o,n));for(var i=[],l=[],s=0,r=A(e);r>s;s++){var a=e[s],c=o?o(a,s,e):a;t?(s&&l===c||i.push(a),l=c):o?E.contains(l,c)||(l.push(c),i.push(a)):E.contains(i,a)||i.push(a)}return i},E.union=function(){return E.uniq(O(arguments,!0,!0))},E.intersection=function(e){for(var t=[],o=arguments.length,n=0,i=A(e);i>n;n++){var l=e[n];if(!E.contains(t,l)){for(var s=1;o>s&&E.contains(arguments[s],l);s++);s===o&&t.push(l)}}return t},E.difference=function(e){var t=O(arguments,!0,!0,1);return E.filter(e,function(e){return!E.contains(t,e)})},E.zip=function(){return E.unzip(arguments)},E.unzip=function(e){for(var t=e&&E.max(e,A).length||0,o=Array(t),n=0;t>n;n++)o[n]=E.pluck(e,n);return o},E.object=function(e,t){for(var o={},n=0,i=A(e);i>n;n++)t?o[e[n]]=t[n]:o[e[n][0]]=e[n][1];return o},E.findIndex=t(1),E.findLastIndex=t(-1),E.sortedIndex=function(e,t,o,n){o=m(o,n,1);for(var i=o(t),l=0,s=A(e);s>l;){var r=Math.floor((l+s)/2);o(e[r])<i?l=r+1:s=r}return l},E.indexOf=o(1,E.findIndex,E.sortedIndex),E.lastIndexOf=o(-1,E.findLastIndex),E.range=function(e,t,o){null==t&&(t=e||0,e=0),o=o||1;for(var n=Math.max(Math.ceil((t-e)/o),0),i=Array(n),l=0;n>l;l++,e+=o)i[l]=e;return i};var R=function(e,t,o,n,i){if(!(n instanceof t))return e.apply(o,i);var l=B(e.prototype),s=e.apply(l,i);return E.isObject(s)?s:l};E.bind=function(e,t){if(y&&e.bind===y)return y.apply(e,g.call(arguments,1));if(!E.isFunction(e))throw new TypeError("Bind must be called on a function");var o=g.call(arguments,2),n=function(){return R(e,n,t,this,o.concat(g.call(arguments)))};return n},E.partial=function(e){var t=g.call(arguments,1),o=function(){for(var n=0,i=t.length,l=Array(i),s=0;i>s;s++)l[s]=t[s]===E?arguments[n++]:t[s];for(;n<arguments.length;)l.push(arguments[n++]);return R(e,o,this,this,l)};return o},E.bindAll=function(e){var t,o,n=arguments.length;if(1>=n)throw new Error("bindAll must be passed function names");for(t=1;n>t;t++)o=arguments[t],e[o]=E.bind(e[o],e);return e},E.memoize=function(e,t){var o=function(n){var i=o.cache,l=""+(t?t.apply(this,arguments):n);return E.has(i,l)||(i[l]=e.apply(this,arguments)),i[l]};return o.cache={},o},E.delay=function(e,t){var o=g.call(arguments,2);return setTimeout(function(){return e.apply(null,o)},t)},E.defer=E.partial(E.delay,E,1),E.throttle=function(e,t,o){var n,i,l,s=null,r=0;o||(o={});var a=function(){r=o.leading===!1?0:E.now(),s=null,l=e.apply(n,i),s||(n=i=null)};return function(){var c=E.now();r||o.leading!==!1||(r=c);var g=t-(c-r);return n=this,i=arguments,0>=g||g>t?(s&&(clearTimeout(s),s=null),r=c,l=e.apply(n,i),s||(n=i=null)):s||o.trailing===!1||(s=setTimeout(a,g)),l}},E.debounce=function(e,t,o){var n,i,l,s,r,a=function(){var c=E.now()-s;t>c&&c>=0?n=setTimeout(a,t-c):(n=null,o||(r=e.apply(l,i),n||(l=i=null)))};return function(){l=this,i=arguments,s=E.now();var c=o&&!n;return n||(n=setTimeout(a,t)),c&&(r=e.apply(l,i),l=i=null),r}},E.wrap=function(e,t){return E.partial(t,e)},E.negate=function(e){return function(){return!e.apply(this,arguments)}},E.compose=function(){var e=arguments,t=e.length-1;return function(){for(var o=t,n=e[t].apply(this,arguments);o--;)n=e[o].call(this,n);return n}},E.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},E.before=function(e,t){var o;return function(){return--e>0&&(o=t.apply(this,arguments)),1>=e&&(t=null),o}},E.once=E.partial(E.before,2);var N=!{toString:null}.propertyIsEnumerable("toString"),b=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];E.keys=function(e){if(!E.isObject(e))return[];if(d)return d(e);var t=[];for(var o in e)E.has(e,o)&&t.push(o);return N&&n(e,t),t},E.allKeys=function(e){if(!E.isObject(e))return[];var t=[];for(var o in e)t.push(o);return N&&n(e,t),t},E.values=function(e){for(var t=E.keys(e),o=t.length,n=Array(o),i=0;o>i;i++)n[i]=e[t[i]];return n},E.mapObject=function(e,t,o){t=m(t,o);
for(var n,i=E.keys(e),l=i.length,s={},r=0;l>r;r++)n=i[r],s[n]=t(e[n],n,e);return s},E.pairs=function(e){for(var t=E.keys(e),o=t.length,n=Array(o),i=0;o>i;i++)n[i]=[t[i],e[t[i]]];return n},E.invert=function(e){for(var t={},o=E.keys(e),n=0,i=o.length;i>n;n++)t[e[o[n]]]=o[n];return t},E.functions=E.methods=function(e){var t=[];for(var o in e)E.isFunction(e[o])&&t.push(o);return t.sort()},E.extend=k(E.allKeys),E.extendOwn=E.assign=k(E.keys),E.findKey=function(e,t,o){t=m(t,o);for(var n,i=E.keys(e),l=0,s=i.length;s>l;l++)if(n=i[l],t(e[n],n,e))return n},E.pick=function(e,t,o){var n,i,l={},s=e;if(null==s)return l;E.isFunction(t)?(i=E.allKeys(s),n=f(t,o)):(i=O(arguments,!1,!1,1),n=function(e,t,o){return t in o},s=Object(s));for(var r=0,a=i.length;a>r;r++){var c=i[r],g=s[c];n(g,c,s)&&(l[c]=g)}return l},E.omit=function(e,t,o){if(E.isFunction(t))t=E.negate(t);else{var n=E.map(O(arguments,!1,!1,1),String);t=function(e,t){return!E.contains(n,t)}}return E.pick(e,t,o)},E.defaults=k(E.allKeys,!0),E.create=function(e,t){var o=B(e);return t&&E.extendOwn(o,t),o},E.clone=function(e){return E.isObject(e)?E.isArray(e)?e.slice():E.extend({},e):e},E.tap=function(e,t){return t(e),e},E.isMatch=function(e,t){var o=E.keys(t),n=o.length;if(null==e)return!n;for(var i=Object(e),l=0;n>l;l++){var s=o[l];if(t[s]!==i[s]||!(s in i))return!1}return!0};var M=function(e,t,o,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof E&&(e=e._wrapped),t instanceof E&&(t=t._wrapped);var i=u.call(e);if(i!==u.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var l="[object Array]"===i;if(!l){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,r=t.constructor;if(s!==r&&!(E.isFunction(s)&&s instanceof s&&E.isFunction(r)&&r instanceof r)&&"constructor"in e&&"constructor"in t)return!1}o=o||[],n=n||[];for(var a=o.length;a--;)if(o[a]===e)return n[a]===t;if(o.push(e),n.push(t),l){if(a=e.length,a!==t.length)return!1;for(;a--;)if(!M(e[a],t[a],o,n))return!1}else{var c,g=E.keys(e);if(a=g.length,E.keys(t).length!==a)return!1;for(;a--;)if(c=g[a],!E.has(t,c)||!M(e[c],t[c],o,n))return!1}return o.pop(),n.pop(),!0};E.isEqual=function(e,t){return M(e,t)},E.isEmpty=function(e){return null==e||(I(e)&&(E.isArray(e)||E.isString(e)||E.isArguments(e))?0===e.length:0===E.keys(e).length)},E.isElement=function(e){return!(!e||1!==e.nodeType)},E.isArray=h||function(e){return"[object Array]"===u.call(e)},E.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},E.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){E["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}}),E.isArguments(arguments)||(E.isArguments=function(e){return E.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(E.isFunction=function(e){return"function"==typeof e||!1}),E.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},E.isNaN=function(e){return E.isNumber(e)&&e!==+e},E.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===u.call(e)},E.isNull=function(e){return null===e},E.isUndefined=function(e){return void 0===e},E.has=function(e,t){return null!=e&&p.call(e,t)},E.noConflict=function(){return i._=l,this},E.identity=function(e){return e},E.constant=function(e){return function(){return e}},E.noop=function(){},E.property=S,E.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},E.matcher=E.matches=function(e){return e=E.extendOwn({},e),function(t){return E.isMatch(t,e)}},E.times=function(e,t,o){var n=Array(Math.max(0,e));t=f(t,o,1);for(var i=0;e>i;i++)n[i]=t(i);return n},E.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},E.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=E.invert(D),P=function(e){var t=function(t){return e[t]},o="(?:"+E.keys(e).join("|")+")",n=RegExp(o),i=RegExp(o,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(i,t):e}};E.escape=P(D),E.unescape=P(L),E.result=function(e,t,o){var n=null==e?void 0:e[t];return void 0===n&&(n=o),E.isFunction(n)?n.call(e):n};var w=0;E.uniqueId=function(e){var t=++w+"";return e?e+t:t},E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,x={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,H=function(e){return"\\"+x[e]};E.template=function(e,t,o){!t&&o&&(t=o),t=E.defaults({},t,E.templateSettings);var n=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),i=0,l="__p+='";e.replace(n,function(t,o,n,s,r){return l+=e.slice(i,r).replace(U,H),i=r+t.length,o?l+="'+\n((__t=("+o+"))==null?'':_.escape(__t))+\n'":n?l+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(l+="';\n"+s+"\n__p+='"),t}),l+="';\n",t.variable||(l="with(obj||{}){\n"+l+"}\n"),l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";try{var s=new Function(t.variable||"obj","_",l)}catch(e){throw e.source=l,e}var r=function(e){return s.call(this,e,E)},a=t.variable||"obj";return r.source="function("+a+"){\n"+l+"}",r},E.chain=function(e){var t=E(e);return t._chain=!0,t};var G=function(e,t){return e._chain?E(t).chain():t};E.mixin=function(e){E.each(E.functions(e),function(t){var o=E[t]=e[t];E.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),G(this,o.apply(E,e))}})},E.mixin(E),E.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];E.prototype[e]=function(){var o=this._wrapped;return t.apply(o,arguments),"shift"!==e&&"splice"!==e||0!==o.length||delete o[0],G(this,o)}}),E.each(["concat","join","slice"],function(e){var t=s[e];E.prototype[e]=function(){return G(this,t.apply(this._wrapped,arguments))}}),E.prototype.value=function(){return this._wrapped},E.prototype.valueOf=E.prototype.toJSON=E.prototype.value,E.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return E})}.call(this),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var o in t)if(void 0!==e.style[o])return{end:t[o]};return!1}e.fn.emulateTransitionEnd=function(t){var o=!1,n=this;e(this).one("bsTransitionEnd",function(){o=!0});var i=function(){o||e(n).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var o=e(this),i=o.data("bs.alert");i||o.data("bs.alert",i=new n(this)),"string"==typeof t&&i[t].call(o)})}var o='[data-dismiss="alert"]',n=function(t){e(t).on("click",o,this.close)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function o(){s.detach().trigger("closed.bs.alert").remove()}var i=e(this),l=i.attr("data-target");l||(l=i.attr("href"),l=l&&l.replace(/.*(?=#[^\s]*$)/,""));var s=e(l);t&&t.preventDefault(),s.length||(s=i.closest(".alert")),s.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",o,n.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.button"),l="object"==typeof t&&t;i||n.data("bs.button",i=new o(this,l)),"toggle"==t?i.toggle():t&&i.setState(t)})}var o=function(t,n){this.$element=e(t),this.options=e.extend({},o.DEFAULTS,n),this.isLoading=!1};o.VERSION="3.3.6",o.DEFAULTS={loadingText:"loading..."},o.prototype.setState=function(t){var o="disabled",n=this.$element,i=n.is("input")?"val":"html",l=n.data();t+="Text",null==l.resetText&&n.data("resetText",n[i]()),setTimeout(e.proxy(function(){n[i](null==l[t]?this.options[t]:l[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(o).attr(o,o)):this.isLoading&&(this.isLoading=!1,n.removeClass(o).removeAttr(o))},this),0)},o.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var o=this.$element.find("input");"radio"==o.prop("type")?(o.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==o.prop("type")&&(o.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),o.prop("checked",this.$element.hasClass("active")),e&&o.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=o,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(o){var n=e(o.target);n.hasClass("btn")||(n=n.closest(".btn")),t.call(n,"toggle"),e(o.target).is('input[type="radio"]')||e(o.target).is('input[type="checkbox"]')||o.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.carousel"),l=e.extend({},o.DEFAULTS,n.data(),"object"==typeof t&&t),s="string"==typeof t?t:l.slide;i||n.data("bs.carousel",i=new o(this,l)),"number"==typeof t?i.to(t):s?i[s]():l.interval&&i.pause().cycle()})}var o=function(t,o){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=o,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};o.VERSION="3.3.6",o.TRANSITION_DURATION=600,o.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},o.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},o.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},o.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},o.prototype.getItemForDirection=function(e,t){var o=this.getItemIndex(t),n="prev"==e&&0===o||"next"==e&&o==this.$items.length-1;if(n&&!this.options.wrap)return t;var i="prev"==e?-1:1,l=(o+i)%this.$items.length;return this.$items.eq(l)},o.prototype.to=function(e){var t=this,o=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):o==e?this.pause().cycle():this.slide(e>o?"next":"prev",this.$items.eq(e))},o.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},o.prototype.next=function(){return this.sliding?void 0:this.slide("next")},o.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},o.prototype.slide=function(t,n){var i=this.$element.find(".item.active"),l=n||this.getItemForDirection(t,i),s=this.interval,r="next"==t?"left":"right",a=this;if(l.hasClass("active"))return this.sliding=!1;var c=l[0],g=e.Event("slide.bs.carousel",{relatedTarget:c,direction:r});if(this.$element.trigger(g),!g.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(l)]);u&&u.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:c,direction:r});return e.support.transition&&this.$element.hasClass("slide")?(l.addClass(t),l[0].offsetWidth,i.addClass(r),l.addClass(r),i.one("bsTransitionEnd",function(){l.removeClass([t,r].join(" ")).addClass("active"),i.removeClass(["active",r].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(p)},0)}).emulateTransitionEnd(o.TRANSITION_DURATION)):(i.removeClass("active"),l.addClass("active"),this.sliding=!1,this.$element.trigger(p)),s&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=o,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var i=function(o){var n,i=e(this),l=e(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(l.hasClass("carousel")){var s=e.extend({},l.data(),i.data()),r=i.attr("data-slide-to");r&&(s.interval=!1),t.call(l,s),r&&l.data("bs.carousel").to(r),o.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var o=e(this);t.call(o,o.data())})})}(jQuery),+function(e){"use strict";function t(t){var o,n=t.attr("data-target")||(o=t.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function o(t){return this.each(function(){var o=e(this),i=o.data("bs.collapse"),l=e.extend({},n.DEFAULTS,o.data(),"object"==typeof t&&t);!i&&l.toggle&&/show|hide/.test(t)&&(l.toggle=!1),i||o.data("bs.collapse",i=new n(this,l)),"string"==typeof t&&i[t]()})}var n=function(t,o){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,o),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.6",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"),t&&t.transitioning))){var l=e.Event("show.bs.collapse");if(this.$element.trigger(l),!l.isDefaultPrevented()){i&&i.length&&(o.call(i,"hide"),t||i.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return r.call(this);var a=e.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[s](this.$element[0][a])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var o=this.dimension();this.$element[o](this.$element[o]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[o](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(n.TRANSITION_DURATION):i.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(o,n){var i=e(n);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var o=e.hasClass("in");e.attr("aria-expanded",o),t.toggleClass("collapsed",!o).attr("aria-expanded",o)};var i=e.fn.collapse;e.fn.collapse=o,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var i=e(this);i.attr("data-target")||n.preventDefault();var l=t(i),s=l.data("bs.collapse"),r=s?"toggle":i.data();o.call(l,r)})}(jQuery),+function(e){"use strict";function t(t){var o=t.attr("data-target");o||(o=t.attr("href"),o=o&&/#[A-Za-z]/.test(o)&&o.replace(/.*(?=#[^\s]*$)/,""));var n=o&&e(o);return n&&n.length?n:t.parent()}function o(o){o&&3===o.which||(e(i).remove(),e(l).each(function(){var n=e(this),i=t(n),l={relatedTarget:this};i.hasClass("open")&&(o&&"click"==o.type&&/input|textarea/i.test(o.target.tagName)&&e.contains(i[0],o.target)||(i.trigger(o=e.Event("hide.bs.dropdown",l)),o.isDefaultPrevented()||(n.attr("aria-expanded","false"),i.removeClass("open").trigger(e.Event("hidden.bs.dropdown",l)))))}))}function n(t){return this.each(function(){var o=e(this),n=o.data("bs.dropdown");n||o.data("bs.dropdown",n=new s(this)),"string"==typeof t&&n[t].call(o)})}var i=".dropdown-backdrop",l='[data-toggle="dropdown"]',s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.6",s.prototype.toggle=function(n){var i=e(this);if(!i.is(".disabled, :disabled")){var l=t(i),s=l.hasClass("open");if(o(),!s){"ontouchstart"in document.documentElement&&!l.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",o);var r={relatedTarget:this};if(l.trigger(n=e.Event("show.bs.dropdown",r)),n.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),l.toggleClass("open").trigger(e.Event("shown.bs.dropdown",r))}return!1}},s.prototype.keydown=function(o){if(/(38|40|27|32)/.test(o.which)&&!/input|textarea/i.test(o.target.tagName)){var n=e(this);if(o.preventDefault(),o.stopPropagation(),!n.is(".disabled, :disabled")){var i=t(n),s=i.hasClass("open");if(!s&&27!=o.which||s&&27==o.which)return 27==o.which&&i.find(l).trigger("focus"),n.trigger("click");var r=" li:not(.disabled):visible a",a=i.find(".dropdown-menu"+r);if(a.length){var c=a.index(o.target);38==o.which&&c>0&&c--,40==o.which&&c<a.length-1&&c++,~c||(c=0),a.eq(c).trigger("focus")}}}};var r=e.fn.dropdown;e.fn.dropdown=n,e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",l,s.prototype.toggle).on("keydown.bs.dropdown.data-api",l,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,n){return this.each(function(){var i=e(this),l=i.data("bs.modal"),s=e.extend({},o.DEFAULTS,i.data(),"object"==typeof t&&t);l||i.data("bs.modal",l=new o(this,s)),"string"==typeof t?l[t](n):s.show&&l.show(n)})}var o=function(t,o){this.options=o,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};o.VERSION="3.3.6",o.TRANSITION_DURATION=300,o.BACKDROP_TRANSITION_DURATION=150,o.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},o.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},o.prototype.show=function(t){var n=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),i&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var l=e.Event("shown.bs.modal",{relatedTarget:t});i?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(l)}).emulateTransitionEnd(o.TRANSITION_DURATION):n.$element.trigger("focus").trigger(l)}))},o.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(o.TRANSITION_DURATION):this.hideModal())},o.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},o.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},o.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},o.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},o.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},o.prototype.backdrop=function(t){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var l=e.support.transition&&i;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),l&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;l?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):s()}else t&&t()},o.prototype.handleUpdate=function(){this.adjustDialog()},o.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},o.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},o.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},o.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},o.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},o.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=o,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(o){var n=e(this),i=n.attr("href"),l=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=l.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},l.data(),n.data());n.is("a")&&o.preventDefault(),l.one("show.bs.modal",function(e){e.isDefaultPrevented()||l.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(l,s,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.tooltip"),l="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||n.data("bs.tooltip",i=new o(this,l)),"string"==typeof t&&i[t]())})}var o=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};o.VERSION="3.3.6",o.TRANSITION_DURATION=150,o.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},o.prototype.init=function(t,o,n){if(this.enabled=!0,this.type=t,this.$element=e(o),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),l=i.length;l--;){var s=i[l];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var r="hover"==s?"mouseenter":"focusin",a="hover"==s?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},o.prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},o.prototype.getDelegateOptions=function(){var t={},o=this.getDefaults();return this._options&&e.each(this._options,function(e,n){o[e]!=n&&(t[e]=n)}),t},o.prototype.enter=function(t){var o=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return o||(o=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,o)),t instanceof e.Event&&(o.inState["focusin"==t.type?"focus":"hover"]=!0),o.tip().hasClass("in")||"in"==o.hoverState?void(o.hoverState="in"):(clearTimeout(o.timeout),o.hoverState="in",o.options.delay&&o.options.delay.show?void(o.timeout=setTimeout(function(){"in"==o.hoverState&&o.show()},o.options.delay.show)):o.show())},o.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},o.prototype.leave=function(t){var o=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return o||(o=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,o)),t instanceof e.Event&&(o.inState["focusout"==t.type?"focus":"hover"]=!1),o.isInStateTrue()?void 0:(clearTimeout(o.timeout),o.hoverState="out",o.options.delay&&o.options.delay.hide?void(o.timeout=setTimeout(function(){"out"==o.hoverState&&o.hide()},o.options.delay.hide)):o.hide())},o.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var i=this,l=this.tip(),s=this.getUID(this.type);this.setContent(),l.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&l.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,l[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,c=a.test(r);c&&(r=r.replace(a,"")||"top"),l.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?l.appendTo(this.options.container):l.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var g=this.getPosition(),u=l[0].offsetWidth,p=l[0].offsetHeight;if(c){var h=r,d=this.getPosition(this.$viewport);r="bottom"==r&&g.bottom+p>d.bottom?"top":"top"==r&&g.top-p<d.top?"bottom":"right"==r&&g.right+u>d.width?"left":"left"==r&&g.left-u<d.left?"right":r,l.removeClass(h).addClass(r)}var y=this.getCalculatedOffset(r,g,u,p);this.applyPlacement(y,r);var _=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?l.one("bsTransitionEnd",_).emulateTransitionEnd(o.TRANSITION_DURATION):_()}},o.prototype.applyPlacement=function(t,o){var n=this.tip(),i=n[0].offsetWidth,l=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),r=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(r)&&(r=0),t.top+=s,t.left+=r,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var a=n[0].offsetWidth,c=n[0].offsetHeight;"top"==o&&c!=l&&(t.top=t.top+l-c);var g=this.getViewportAdjustedDelta(o,t,a,c);g.left?t.left+=g.left:t.top+=g.top;var u=/top|bottom/.test(o),p=u?2*g.left-i+a:2*g.top-l+c,h=u?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(p,n[0][h],u)},o.prototype.replaceArrow=function(e,t,o){this.arrow().css(o?"left":"top",50*(1-e/t)+"%").css(o?"top":"left","")},o.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},o.prototype.hide=function(t){function n(){"in"!=i.hoverState&&l.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,l=e(this.$tip),s=e.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(l.removeClass("in"),e.support.transition&&l.hasClass("fade")?l.one("bsTransitionEnd",n).emulateTransitionEnd(o.TRANSITION_DURATION):n(),
this.hoverState=null,this)},o.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},o.prototype.hasContent=function(){return this.getTitle()},o.prototype.getPosition=function(t){t=t||this.$element;var o=t[0],n="BODY"==o.tagName,i=o.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var l=n?{top:0,left:0}:t.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},r=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,s,r,l)},o.prototype.getCalculatedOffset=function(e,t,o,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-o/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-o/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-o}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},o.prototype.getViewportAdjustedDelta=function(e,t,o,n){var i={top:0,left:0};if(!this.$viewport)return i;var l=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var r=t.top-l-s.scroll,a=t.top+l-s.scroll+n;r<s.top?i.top=s.top-r:a>s.top+s.height&&(i.top=s.top+s.height-a)}else{var c=t.left-l,g=t.left+l+o;c<s.left?i.left=s.left-c:g>s.right&&(i.left=s.left+s.width-g)}return i},o.prototype.getTitle=function(){var e,t=this.$element,o=this.options;return e=t.attr("data-original-title")||("function"==typeof o.title?o.title.call(t[0]):o.title)},o.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},o.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},o.prototype.enable=function(){this.enabled=!0},o.prototype.disable=function(){this.enabled=!1},o.prototype.toggleEnabled=function(){this.enabled=!this.enabled},o.prototype.toggle=function(t){var o=this;t&&(o=e(t.currentTarget).data("bs."+this.type),o||(o=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,o))),t?(o.inState.click=!o.inState.click,o.isInStateTrue()?o.enter(o):o.leave(o)):o.tip().hasClass("in")?o.leave(o):o.enter(o)},o.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var n=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=o,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.popover"),l="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||n.data("bs.popover",i=new o(this,l)),"string"==typeof t&&i[t]())})}var o=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");o.VERSION="3.3.6",o.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),o.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),o.prototype.constructor=o,o.prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),o=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof o?"html":"append":"text"](o),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},o.prototype.hasContent=function(){return this.getTitle()||this.getContent()},o.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=o,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),+function(e){"use strict";function t(o,n){this.$body=e(document.body),this.$scrollElement=e(e(o).is(document.body)?window:o),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function o(o){return this.each(function(){var n=e(this),i=n.data("bs.scrollspy"),l="object"==typeof o&&o;i||n.data("bs.scrollspy",i=new t(this,l)),"string"==typeof o&&i[o]()})}t.VERSION="3.3.6",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,o="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(o="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),l=/^#./.test(i)&&e(i);return l&&l.length&&l.is(":visible")&&[[l[o]().top+n,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,o=this.getScrollHeight(),n=this.options.offset+o-this.$scrollElement.height(),i=this.offsets,l=this.targets,s=this.activeTarget;if(this.scrollHeight!=o&&this.refresh(),t>=n)return s!=(e=l[l.length-1])&&this.activate(e);if(s&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)s!=l[e]&&t>=i[e]&&(void 0===i[e+1]||t<i[e+1])&&this.activate(l[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var o=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(o).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=e.fn.scrollspy;e.fn.scrollspy=o,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);o.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.tab");i||n.data("bs.tab",i=new o(this)),"string"==typeof t&&i[t]()})}var o=function(t){this.element=e(t)};o.VERSION="3.3.6",o.TRANSITION_DURATION=150,o.prototype.show=function(){var t=this.element,o=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=o.find(".active:last a"),l=e.Event("hide.bs.tab",{relatedTarget:t[0]}),s=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(l),t.trigger(s),!s.isDefaultPrevented()&&!l.isDefaultPrevented()){var r=e(n);this.activate(t.closest("li"),o),this.activate(r,r.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},o.prototype.activate=function(t,n,i){function l(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var s=n.find("> .active"),r=i&&e.support.transition&&(s.length&&s.hasClass("fade")||!!n.find("> .fade").length);s.length&&r?s.one("bsTransitionEnd",l).emulateTransitionEnd(o.TRANSITION_DURATION):l(),s.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=o,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var i=function(o){o.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.affix"),l="object"==typeof t&&t;i||n.data("bs.affix",i=new o(this,l)),"string"==typeof t&&i[t]()})}var o=function(t,n){this.options=e.extend({},o.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};o.VERSION="3.3.6",o.RESET="affix affix-top affix-bottom",o.DEFAULTS={offset:0,target:window},o.prototype.getState=function(e,t,o,n){var i=this.$target.scrollTop(),l=this.$element.offset(),s=this.$target.height();if(null!=o&&"top"==this.affixed)return o>i&&"top";if("bottom"==this.affixed)return null!=o?!(i+this.unpin<=l.top)&&"bottom":!(e-n>=i+s)&&"bottom";var r=null==this.affixed,a=r?i:l.top,c=r?s:t;return null!=o&&o>=i?"top":null!=n&&a+c>=e-n&&"bottom"},o.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(o.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},o.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},o.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,i=n.top,l=n.bottom,s=Math.max(e(document).height(),e(document.body).height());"object"!=typeof n&&(l=i=n),"function"==typeof i&&(i=n.top(this.$element)),"function"==typeof l&&(l=n.bottom(this.$element));var r=this.getState(s,t,i,l);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var a="affix"+(r?"-"+r:""),c=e.Event(a+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(o.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:s-t-l})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=o,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var o=e(this),n=o.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(o,n)})})}(jQuery),define("bootstrap",["jquery"],function(e){return function(){var t;return t||e.$}}(this));var $jscomp=$jscomp||{};$jscomp.scope={};var COMPILED=!0,goog=goog||{};goog.global=this,goog.isDef=function(e){return void 0!==e},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.exportPath_=function(e,t,o){e=e.split("."),o=o||goog.global,e[0]in o||"undefined"==typeof o.execScript||o.execScript("var "+e[0]);for(var n;e.length&&(n=e.shift());)!e.length&&goog.isDef(t)?o[n]=t:o=o[n]&&o[n]!==Object.prototype[n]?o[n]:o[n]={}},goog.define=function(e,t){var o=t;if(!COMPILED){var n=goog.global.CLOSURE_UNCOMPILED_DEFINES,i=goog.global.CLOSURE_DEFINES;n&&void 0===n.nodeType&&Object.prototype.hasOwnProperty.call(n,e)?o=n[e]:i&&void 0===i.nodeType&&Object.prototype.hasOwnProperty.call(i,e)&&(o=i[e])}goog.exportPath_(e,o)},goog.DEBUG=!1,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var o=e;(o=o.substring(0,o.lastIndexOf(".")))&&!goog.getObjectByName(o);)goog.implicitNamespaces_[o]=!0}goog.exportPath_(e,t)},goog.getScriptNonce=function(){return null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)||""),goog.cspNonce_},goog.NONCE_PATTERN_=/^[\w+\/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:null},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e].exports;if(!goog.implicitNamespaces_[e])return e=goog.getObjectByName(e),null!=e?e:null}return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!!e&&("function"==typeof e.getCurrentModulePath&&!!e.getCurrentModulePath())},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.module.declareNamespace=function(e){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.module.declareNamespace may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.module.declareNamespace may only be called once per module.");if(e in goog.loadedModules_)throw Error('Module with namespace "'+e+'" already exists.')}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||"function"!=typeof t.getCurrentModulePath)throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){for(var o=e.split("."),n=t||goog.global,i=0;i<o.length;i++)if(n=n[o[i]],!goog.isDefAndNotNull(n))return null;return n},goog.globalize=function(e,t){var o,n=t||goog.global;for(o in e)n[o]=e[o]},goog.addDependency=function(e,t,o,n){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(e,t,o,n)},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(e)}finally{goog.moduleLoaderState_=t}}return null}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(e))var o=e.call(void 0,{});else{if(!goog.isString(e))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),o=goog.loadModuleFromSource_.call(void 0,e)}var n=goog.moduleLoaderState_.moduleName;if(!goog.isString(n)||!n)throw Error('Invalid module name "'+n+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,o):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof o&&null!=o&&Object.seal(o),goog.loadedModules_[n]={exports:o,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(e){return null}},goog.transpile_=function(a,b,c){var d=goog.global.$jscomp;d||(goog.global.$jscomp=d={});var e=d.transpile;if(!e){var f=goog.basePath+goog.TRANSPILER,g=goog.loadFileSync_(f);if(g){if(function(){eval(g+"\n//# sourceURL="+f)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,d=goog.global.$jscomp,e=d.transpile}}return e||(e=d.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),e(a,b,c)},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var o=Object.prototype.toString.call(e);if("[object Window]"==o)return"object";if("[object Array]"==o||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==o||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if("function"==typeof e.clone)return e.clone();t="array"==t?[]:{};for(var o in e)t[o]=goog.cloneObject(e[o]);return t}return e},goog.bindNative_=function(e,t,o){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,o){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,n),e.apply(t,o)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,o){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var o=Array.prototype.slice.call(arguments,1);return function(){var t=o.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var o in t)e[o]=t[o]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(e){}if("undefined"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,o=t.createElement("SCRIPT");o.type="text/javascript",o.defer=!1,o.appendChild(t.createTextNode(e)),t.head.appendChild(o),t.head.removeChild(o)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var o=function(e){return goog.cssNameMapping_[e]||e},n=function(e){e=e.split("-");for(var t=[],n=0;n<e.length;n++)t.push(o(e[n]));return t.join("-")};return n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?o:n:function(e){return e},n=t?e+"-"+n(t):n(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(n):n},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){return t&&(e=e.replace(/\{\$([^}]+)}/g,function(e,o){return null!=t&&o in t?t[o]:e})),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,o){goog.exportPath_(e,t,o)},goog.exportProperty=function(e,t,o){e[t]=o},goog.inherits=function(e,t){function o(){}o.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new o,e.prototype.constructor=e,e.base=function(e,o,n){for(var i=Array(arguments.length-2),l=2;l<arguments.length;l++)i[l-2]=arguments[l];return t.prototype[o].apply(e,i)}},goog.base=function(e,t,o){var n=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!n)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if("undefined"!=typeof n.superClass_){for(var i=Array(arguments.length-1),l=1;l<arguments.length;l++)i[l-1]=arguments[l];return n.superClass_.constructor.apply(e,i)}if("string"!=typeof t&&"symbol"!=typeof t)throw Error("method names provided to goog.base must be a string or a symbol");for(i=Array(arguments.length-2),l=2;l<arguments.length;l++)i[l-2]=arguments[l];l=!1;for(var s=e.constructor;s;s=s.superClass_&&s.superClass_.constructor)if(s.prototype[t]===n)l=!0;else if(l)return s.prototype[t].apply(e,i);if(e[t]===n)return e.constructor.prototype[t].apply(e,i);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var o=t.constructor,n=t.statics;return o&&o!=Object.prototype.constructor||(o=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),o=goog.defineClass.createSealingConstructor_(o,e),e&&goog.inherits(o,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(o.prototype,t),null!=n&&(n instanceof Function?n(o):goog.defineClass.applyProperties_(o,n)),o},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var o=!goog.defineClass.isUnsealable_(t),n=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===n&&o&&Object.seal instanceof Function&&Object.seal(t),t};return n},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)o=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.isDocumentLoading_=function(){var e=goog.global.document;return e.attachEvent?"complete"!=e.readyState:"loading"==e.readyState},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var e=goog.global.document,t=e.currentScript;for(e=t?[t]:e.getElementsByTagName("SCRIPT"),t=e.length-1;0<=t;--t){var o=e[t].src,n=o.lastIndexOf("?");if(n=-1==n?o.length:n,"base.js"==o.substr(n-7,7)){goog.basePath=o.substr(0,n-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null,this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(t,o){e?d[t]=!0:o()?(c=t,d[t]=!1):e=d[t]=!0}function b(a){try{return!!eval(a)}catch(e){return!1}}var c="es3",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",function(){return b("[1,].length==1")}),a("es6",function(){var e=f.match(/Edge\/(\d+)(\.\d)*/i);return!(e&&15>Number(e[1]))&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')}),a("es6-impl",function(){return!0}),a("es7",function(){return b("2 ** 2 == 4")}),a("es8",function(){return b("async () => 1, true")}),a("es9",function(){return b("({...rest} = {}), true")}),a("es_next",function(){return!1}),{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(e,t){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!this.requiresTranspilation_){var o=this.createRequiresTranspilation_();this.requiresTranspilation_=o.map,this.transpilationTarget_=this.transpilationTarget_||o.target}if(e in this.requiresTranspilation_)return!!this.requiresTranspilation_[e]||!(!goog.inHtmlDocument_()||"es6"!=t||"noModule"in goog.global.document.createElement("script"));throw Error("Unknown language mode: "+e)},goog.Transpiler.prototype.transpile=function(e,t){return goog.transpile_(e,t,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(e,t){function o(){n&&(goog.global.setTimeout(n,0),n=null)}var n=t;if(e.length){for(var i=[],l=0;l<e.length;l++){var s=this.getPathFromDeps_(e[l]);if(!s)throw Error("Unregonized namespace: "+e[l]);i.push(this.dependencies_[s])}s=goog.require;var r=0;for(l=0;l<e.length;l++)s(e[l]),i[l].onLoad(function(){++r==e.length&&o()})}else o()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(e,t){var o=this.getPathFromDeps_(e);if(o&&(t||this.areDepsLoaded_(this.dependencies_[o].requires))){var n=this.deferredCallbacks_[o];n&&(delete this.deferredCallbacks_[o],n())}},goog.DebugLoader_.prototype.setDependencyFactory=function(e){this.factory_=e},goog.DebugLoader_.prototype.load_=function(e){if(!this.getPathFromDeps_(e))throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e);var t=this,o=[],n=function(e){var i=t.getPathFromDeps_(e);if(!i)throw Error("Bad dependency path or symbol: "+e);if(!t.written_[i]){for(t.written_[i]=!0,e=t.dependencies_[i],i=0;i<e.requires.length;i++)goog.isProvided_(e.requires[i])||n(e.requires[i]);o.push(e)}};n(e),e=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(o),this.paused_||e||this.loadDeps_()},goog.DebugLoader_.prototype.loadDeps_=function(){for(var e=this,t=this.paused_;this.depsToLoad_.length&&!t;)(function(){var o=!1,n=e.depsToLoad_.shift(),i=!1;e.loading_(n);var l={pause:function(){if(o)throw Error("Cannot call pause after the call to load.");t=!0},resume:function(){o?e.resume_():t=!1},loaded:function(){if(i)throw Error("Double call to loaded.");i=!0,e.loaded_(n)},pending:function(){for(var t=[],o=0;o<e.loadingDeps_.length;o++)t.push(e.loadingDeps_[o]);return t},setModuleState:function(e){goog.moduleLoaderState_={type:e,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(e,t,o){o&&(goog.loadedModules_[o]={exports:t,type:goog.ModuleType.ES6,moduleId:o||""})},registerGoogModuleExports:function(e,t){goog.loadedModules_[e]={exports:t,type:goog.ModuleType.GOOG,
moduleId:e}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(t){if(o)throw Error("Cannot register with defer after the call to load.");e.defer_(n,t)},areDepsLoaded:function(){return e.areDepsLoaded_(n.requires)}};try{n.load(l)}finally{o=!0}})();t&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(e){this.loadingDeps_.push(e)},goog.DebugLoader_.prototype.loaded_=function(e){for(var t=0;t<this.loadingDeps_.length;t++)if(this.loadingDeps_[t]==e){this.loadingDeps_.splice(t,1);break}for(t=0;t<this.deferredQueue_.length;t++)if(this.deferredQueue_[t]==e.path){this.deferredQueue_.splice(t,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);e.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(e){for(var t=0;t<e.length;t++){var o=this.getPathFromDeps_(e[t]);if(!o||!(o in this.deferredCallbacks_||goog.isProvided_(e[t])))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(e){return e in this.idToPath_?this.idToPath_[e]:e in this.dependencies_?e:null},goog.DebugLoader_.prototype.defer_=function(e,t){this.deferredCallbacks_[e.path]=t,this.deferredQueue_.push(e.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(e,t,o){},goog.LoadController.prototype.setModuleState=function(e){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(e){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(e,t,o,n,i){this.path=e,this.relativePath=t,this.provides=o,this.requires=n,this.loadFlags=i,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var e=this.path,t=e.indexOf("://");return 0<=t&&(e=e.substring(t+3),t=e.indexOf("/"),0<=t&&(e=e.substring(t+1))),e},goog.Dependency.prototype.onLoad=function(e){this.loaded_?e():this.loadCallbacks_.push(e)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var e=this.loadCallbacks_;this.loadCallbacks_=[];for(var t=0;t<e.length;t++)e[t]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(e){var t=Math.random().toString(32);return goog.Dependency.callbackMap_[t]=e,t},goog.Dependency.unregisterCallback_=function(e){delete goog.Dependency.callbackMap_[e]},goog.Dependency.callback_=function(e,t){if(!(e in goog.Dependency.callbackMap_))throw Error("Callback key "+e+" does not exist (was base.js loaded more than once?).");for(var o=goog.Dependency.callbackMap_[e],n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);o.apply(void 0,n)},goog.Dependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document;if("complete"==t.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path))return void e.loaded();throw Error('Cannot write "'+this.path+'" after document load')}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var o=goog.Dependency.registerCallback_(function(t){goog.DebugLoader_.IS_OLD_IE_&&"complete"!=t.readyState||(goog.Dependency.unregisterCallback_(o),e.loaded())}),n=!goog.DebugLoader_.IS_OLD_IE_&&goog.getScriptNonce()?' nonce="'+goog.getScriptNonce()+'"':"";t.write('<script src="'+this.path+'" '+(goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload")+"=\"goog.Dependency.callback_('"+o+'\', this)" type="text/javascript" '+(goog.Dependency.defer_?"defer":"")+n+"></"+"script>")}else{var i=t.createElement("script");i.defer=goog.Dependency.defer_,i.async=!1,i.type="text/javascript",(n=goog.getScriptNonce())&&i.setAttribute("nonce",n),goog.DebugLoader_.IS_OLD_IE_?(e.pause(),i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(e.loaded(),e.resume())}):i.onload=function(){i.onload=null,e.loaded()},i.src=this.path,t.head.appendChild(i)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),"deps.js"==this.relativePath?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),e.loaded()):e.pause()},goog.Es6ModuleDependency=function(e,t,o,n,i){goog.Dependency.call(this,e,t,o,n,i)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(e){function t(e,t){t?n.write('<script type="module" crossorigin>'+t+"</"+"script>"):n.write('<script type="module" crossorigin src="'+e+'"></'+'script>')}function o(e,t){var o=n.createElement("script");o.defer=!0,o.async=!1,o.type="module",o.setAttribute("crossorigin",!0);var i=goog.getScriptNonce();i&&o.setAttribute("nonce",i),t?o.textContent=t:o.src=e,n.head.appendChild(o)}if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var n=goog.global.document,i=this;if(goog.isDocumentLoading_()){var l=t;goog.Dependency.defer_=!0}else l=o;var s=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(s),e.setModuleState(goog.ModuleType.ES6)});l(void 0,'goog.Dependency.callback_("'+s+'")'),l(this.path,void 0);var r=goog.Dependency.registerCallback_(function(t){goog.Dependency.unregisterCallback_(r),e.registerEs6ModuleExports(i.path,t,goog.moduleLoaderState_.moduleName)});l(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+r+'", m)');var a=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(a),e.clearModuleState(),e.loaded()});l(void 0,'goog.Dependency.callback_("'+a+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),e.pause()},goog.TransformedDependency=function(e,t,o,n,i){goog.Dependency.call(this,e,t,o,n,i),this.contents_=null},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(e){function t(){i.contents_=goog.loadFileSync_(i.path),i.contents_&&(i.contents_=i.transform(i.contents_),i.contents_&&(i.contents_+="\n//# sourceURL="+i.path))}function o(){if(t(),i.contents_){l&&e.setModuleState(goog.ModuleType.ES6);try{var o=i.contents_;if(i.contents_=null,goog.globalEval(o),l)var n=goog.moduleLoaderState_.moduleName}finally{l&&e.clearModuleState()}l&&goog.global.$jscomp.require.ensure([i.getPathName()],function(){e.registerEs6ModuleExports(i.path,goog.global.$jscomp.require(i.getPathName()),n)}),e.loaded()}}function n(){var e=goog.global.document,t=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(t),o()});e.write('<script type="text/javascript">'+goog.protectScriptTag_('goog.Dependency.callback_("'+t+'");')+"</"+"script>")}var i=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)t(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,e.loaded()):e.pause();else{var l=this.loadFlags.module==goog.ModuleType.ES6,s=1<e.pending().length,r=s&&goog.DebugLoader_.IS_OLD_IE_;if(s=goog.Dependency.defer_&&(s||goog.isDocumentLoading_()),r||s)e.defer(function(){o()});else{var a=goog.global.document;if(r=goog.inHtmlDocument_()&&"ActiveXObject"in goog.global,l&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!r){goog.Dependency.defer_=!0,e.pause();var c=a.onreadystatechange;a.onreadystatechange=function(){"interactive"==a.readyState&&(a.onreadystatechange=c,o(),e.resume()),goog.isFunction(c)&&c.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?n():o()}}},goog.TransformedDependency.prototype.transform=function(e){},goog.TranspiledDependency=function(e,t,o,n,i,l){goog.TransformedDependency.call(this,e,t,o,n,i),this.transpiler=l},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(e){return this.transpiler.transpile(e,this.getPathName())},goog.GoogModuleDependency=function(e,t,o,n,i,l,s){goog.TransformedDependency.call(this,e,t,o,n,i),this.needsTranspile_=l,this.transpiler_=s},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(e){return this.needsTranspile_&&(e=this.transpiler_.transpile(e,this.getPathName())),goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+this.path+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+e+"\n;return exports});\n//# sourceURL="+this.path+"\n"},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(e,t,o,n){t=t||[],e=e.replace(/\\/g,"/");var i=goog.normalizePath_(goog.basePath+e);for(n&&"boolean"!=typeof n||(n=n?{module:goog.ModuleType.GOOG}:{}),o=this.factory_.createDependency(i,e,t,o,n,goog.transpiler_.needsTranspile(n.lang||"es3",n.module)),this.dependencies_[i]=o,o=0;o<t.length;o++)this.idToPath_[t[o]]=i;this.idToPath_[e]=i},goog.DependencyFactory=function(e){this.transpiler=e},goog.DependencyFactory.prototype.createDependency=function(e,t,o,n,i,l){return i.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(e,t,o,n,i,l,this.transpiler):l?new goog.TranspiledDependency(e,t,o,n,i,this.transpiler):i.module==goog.ModuleType.ES6?new goog.Es6ModuleDependency(e,t,o,n,i):new goog.Dependency(e,t,o,n,i)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(e){goog.debugLoader_.setDependencyFactory(e)},goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(e,t){goog.debugLoader_.bootstrap(e,t)}),goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){goog.debug.Error.call(this,goog.asserts.subs_(e,t)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,t){for(var o=e.split("%s"),n="",i=o.length-1,l=0;l<i;l++)n+=o[l]+(l<t.length?t[l]:"%s");return n+o[i]},goog.asserts.doAssertFailure_=function(e,t,o,n){var i="Assertion failed";if(o){i+=": "+o;var l=n}else e&&(i+=": "+e,l=t);e=new goog.asserts.AssertionError(""+i,l||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,o){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,o,n){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],o,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,t,o){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof e&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=!1,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,o){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,o)}:function(e,t,o){if(o=null==o?0:0>o?Math.max(0,e.length+o):o,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,o):-1;for(;o<e.length;o++)if(o in e&&e[o]===t)return o;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,o){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==o?e.length-1:o)}:function(e,t,o){if(o=null==o?e.length-1:o,0>o&&(o=Math.max(0,e.length+o)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,o):-1;for(;0<=o;o--)if(o in e&&e[o]===t)return o;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,o){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,o)}:function(e,t,o){for(var n=e.length,i=goog.isString(e)?e.split(""):e,l=0;l<n;l++)l in i&&t.call(o,i[l],l,e)},goog.array.forEachRight=function(e,t,o){var n=e.length,i=goog.isString(e)?e.split(""):e;for(--n;0<=n;--n)n in i&&t.call(o,i[n],n,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,o){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,o)}:function(e,t,o){for(var n=e.length,i=[],l=0,s=goog.isString(e)?e.split(""):e,r=0;r<n;r++)if(r in s){var a=s[r];t.call(o,a,r,e)&&(i[l++]=a)}return i},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,o){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,o)}:function(e,t,o){for(var n=e.length,i=Array(n),l=goog.isString(e)?e.split(""):e,s=0;s<n;s++)s in l&&(i[s]=t.call(o,l[s],s,e));return i},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,o,n){return goog.asserts.assert(null!=e.length),n&&(t=goog.bind(t,n)),Array.prototype.reduce.call(e,t,o)}:function(e,t,o,n){var i=o;return goog.array.forEach(e,function(o,l){i=t.call(n,i,o,l,e)}),i},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,o,n){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),n&&(t=goog.bind(t,n)),Array.prototype.reduceRight.call(e,t,o)}:function(e,t,o,n){var i=o;return goog.array.forEachRight(e,function(o,l){i=t.call(n,i,o,l,e)}),i},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,o){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,o)}:function(e,t,o){for(var n=e.length,i=goog.isString(e)?e.split(""):e,l=0;l<n;l++)if(l in i&&t.call(o,i[l],l,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,o){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,o)}:function(e,t,o){for(var n=e.length,i=goog.isString(e)?e.split(""):e,l=0;l<n;l++)if(l in i&&!t.call(o,i[l],l,e))return!1;return!0},goog.array.count=function(e,t,o){var n=0;return goog.array.forEach(e,function(e,i,l){t.call(o,e,i,l)&&++n},o),n},goog.array.find=function(e,t,o){return t=goog.array.findIndex(e,t,o),0>t?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,o){for(var n=e.length,i=goog.isString(e)?e.split(""):e,l=0;l<n;l++)if(l in i&&t.call(o,i[l],l,e))return l;return-1},goog.array.findRight=function(e,t,o){return t=goog.array.findIndexRight(e,t,o),0>t?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,o){var n=e.length,i=goog.isString(e)?e.split(""):e;for(--n;0<=n;n--)if(n in i&&t.call(o,i[n],n,e))return n;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,o){goog.array.splice(e,o,0,t)},goog.array.insertArrayAt=function(e,t,o){goog.partial(goog.array.splice,e,o,0).apply(null,t)},goog.array.insertBefore=function(e,t,o){var n;2==arguments.length||0>(n=goog.array.indexOf(e,o))?e.push(t):goog.array.insertAt(e,t,n)},goog.array.remove=function(e,t){var o,n=goog.array.indexOf(e,t);return(o=0<=n)&&goog.array.removeAt(e,n),o},goog.array.removeLast=function(e,t){var o=goog.array.lastIndexOf(e,t);return 0<=o&&(goog.array.removeAt(e,o),!0)},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,o){return t=goog.array.findIndex(e,t,o),0<=t&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(e,t,o){var n=0;return goog.array.forEachRight(e,function(i,l){t.call(o,i,l,e)&&goog.array.removeAt(e,l)&&n++}),n},goog.array.concat=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var o=Array(t),n=0;n<t;n++)o[n]=e[n];return o}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var o=1;o<arguments.length;o++){var n=arguments[o];if(goog.isArrayLike(n)){var i=e.length||0,l=n.length||0;e.length=i+l;for(var s=0;s<l;s++)e[i+s]=n[s]}else e.push(n)}},goog.array.splice=function(e,t,o,n){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,o){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,o)},goog.array.removeDuplicates=function(e,t,o){t=t||e;var n=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e};o=o||n,n={};for(var i=0,l=0;l<e.length;){var s=e[l++],r=o(s);Object.prototype.hasOwnProperty.call(n,r)||(n[r]=!0,t[i++]=s)}t.length=i},goog.array.binarySearch=function(e,t,o){return goog.array.binarySearch_(e,o||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,o){return goog.array.binarySearch_(e,t,!0,void 0,o)},goog.array.binarySearch_=function(e,t,o,n,i){for(var l,s=0,r=e.length;s<r;){var a=s+r>>1,c=o?t.call(i,e[a],a,e):t(n,e[a]);0<c?s=a+1:(r=a,l=!c)}return l?s:~s},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var o=Array(e.length),n=0;n<e.length;n++)o[n]={index:n,value:e[n]};var i=t||goog.array.defaultCompare;for(goog.array.sort(o,function(e,t){return i(e.value,t.value)||e.index-t.index}),n=0;n<e.length;n++)e[n]=o[n].value},goog.array.sortByKey=function(e,t,o){var n=o||goog.array.defaultCompare;goog.array.sort(e,function(e,o){return n(t(e),t(o))})},goog.array.sortObjectsByKey=function(e,t,o){goog.array.sortByKey(e,function(e){return e[t]},o)},goog.array.isSorted=function(e,t,o){t=t||goog.array.defaultCompare;for(var n=1;n<e.length;n++){var i=t(e[n-1],e[n]);if(0<i||0==i&&o)return!1}return!0},goog.array.equals=function(e,t,o){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var n=e.length;o=o||goog.array.defaultCompareEquality;for(var i=0;i<n;i++)if(!o(e[i],t[i]))return!1;return!0},goog.array.compare3=function(e,t,o){o=o||goog.array.defaultCompare;for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var l=o(e[i],t[i]);if(0!=l)return l}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,o){return o=goog.array.binarySearch(e,t,o),0>o&&(goog.array.insertAt(e,t,-(o+1)),!0)},goog.array.binaryRemove=function(e,t,o){return t=goog.array.binarySearch(e,t,o),0<=t&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,o){for(var n={},i=0;i<e.length;i++){var l=e[i],s=t.call(o,l,i,e);goog.isDef(s)&&(n[s]||(n[s]=[])).push(l)}return n},goog.array.toObject=function(e,t,o){var n={};return goog.array.forEach(e,function(i,l){n[t.call(o,i,l,e)]=i}),n},goog.array.range=function(e,t,o){var n=[],i=0,l=e;if(o=o||1,void 0!==t&&(i=e,l=t),0>o*(l-i))return[];if(0<o)for(e=i;e<l;e+=o)n.push(e);else for(e=i;e>l;e+=o)n.push(e);return n},goog.array.repeat=function(e,t){for(var o=[],n=0;n<t;n++)o[n]=e;return o},goog.array.flatten=function(e){for(var t=[],o=0;o<arguments.length;o++){var n=arguments[o];if(goog.isArray(n))for(var i=0;i<n.length;i+=8192){var l=goog.array.slice(n,i,i+8192);l=goog.array.flatten.apply(null,l);for(var s=0;s<l.length;s++)t.push(l[s])}else t.push(n)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(t%=e.length,0<t?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,o){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=o&&o<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,o,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],o=arguments[0].length,n=1;n<arguments.length;n++)arguments[n].length<o&&(o=arguments[n].length);for(n=0;n<o;n++){for(var i=[],l=0;l<arguments.length;l++)i.push(arguments[l][n]);t.push(i)}return t},goog.array.shuffle=function(e,t){for(var o=t||Math.random,n=e.length-1;0<n;n--){var i=Math.floor(o()*(n+1)),l=e[n];e[n]=e[i],e[i]=l}},goog.array.copyByIndex=function(e,t){var o=[];return goog.array.forEach(t,function(t){o.push(e[t])}),o},goog.array.concatMap=function(e,t,o){return goog.array.concat.apply([],goog.array.map(e,t,o))},goog.math={},goog.math.randomInt=function(e){return Math.floor(Math.random()*e)};goog.math.uniformRandom=function(e,t){return e+Math.random()*(t-e)};goog.math.clamp=function(e,t,o){return Math.min(Math.max(e,t),o)},goog.math.modulo=function(e,t){var o=e%t;return 0>o*t?o+t:o},goog.math.lerp=function(e,t,o){return e+o*(t-e)},goog.math.nearlyEquals=function(e,t,o){return Math.abs(e-t)<=(o||1e-6)},goog.math.standardAngle=function(e){return goog.math.modulo(e,360)},goog.math.standardAngleInRadians=function(e){return goog.math.modulo(e,2*Math.PI)},goog.math.toRadians=function(e){return e*Math.PI/180},goog.math.toDegrees=function(e){return 180*e/Math.PI},goog.math.angleDx=function(e,t){return t*Math.cos(goog.math.toRadians(e))},goog.math.angleDy=function(e,t){return t*Math.sin(goog.math.toRadians(e))},goog.math.angle=function(e,t,o,n){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(n-t,o-e)))},goog.math.angleDifference=function(e,t){var o=goog.math.standardAngle(t)-goog.math.standardAngle(e);return 180<o?o-=360:-180>=o&&(o=360+o),o},goog.math.sign=function(e){return 0<e?1:0>e?-1:e},goog.math.longestCommonSubsequence=function(e,t,o,n){o=o||function(e,t){return e==t},n=n||function(t,o){return e[t]};for(var i=e.length,l=t.length,s=[],r=0;r<i+1;r++)s[r]=[],s[r][0]=0;for(var a=0;a<l+1;a++)s[0][a]=0;for(r=1;r<=i;r++)for(a=1;a<=l;a++)o(e[r-1],t[a-1])?s[r][a]=s[r-1][a-1]+1:s[r][a]=Math.max(s[r-1][a],s[r][a-1]);var c=[];for(r=i,a=l;0<r&&0<a;)o(e[r-1],t[a-1])?(c.unshift(n(r-1,a-1)),r--,a--):s[r-1][a]>s[r][a-1]?r--:a--;return c},goog.math.sum=function(e){return goog.array.reduce(arguments,function(e,t){return e+t},0)},goog.math.average=function(e){return goog.math.sum.apply(null,arguments)/arguments.length},goog.math.sampleVariance=function(e){var t=arguments.length;if(2>t)return 0;var o=goog.math.average.apply(null,arguments);return goog.math.sum.apply(null,goog.array.map(arguments,function(e){return Math.pow(e-o,2)}))/(t-1)},goog.math.standardDeviation=function(e){return Math.sqrt(goog.math.sampleVariance.apply(null,arguments))},goog.math.isInt=function(e){return isFinite(e)&&0==e%1},goog.math.isFiniteNumber=function(e){return isFinite(e)},goog.math.isNegativeZero=function(e){return 0==e&&0>1/e},goog.math.log10Floor=function(e){if(0<e){var t=Math.round(Math.log(e)*Math.LOG10E);return t-(parseFloat("1e"+t)>e?1:0)}return 0==e?-(1/0):NaN},goog.math.safeFloor=function(e,t){return goog.asserts.assert(!goog.isDef(t)||0<t),Math.floor(e+(t||2e-15))},goog.math.safeCeil=function(e,t){return goog.asserts.assert(!goog.isDef(t)||0<t),Math.ceil(e-(t||2e-15))},goog.string={},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.endsWith=function(e,t){var o=e.length-t.length;return 0<=o&&e.indexOf(t,o)==o},goog.string.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.subs=function(e,t){for(var o=e.split("%s"),n="",i=Array.prototype.slice.call(arguments,1);i.length&&1<o.length;)n+=o.shift()+i.shift();return n+o.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"�">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(e,t){var o=String(e).toLowerCase(),n=String(t).toLowerCase();return o<n?-1:o==n?0:1},goog.string.numberAwareCompare_=function(e,t,o){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=e.toLowerCase().match(o),i=t.toLowerCase().match(o),l=Math.min(n.length,i.length),s=0;s<l;s++){o=n[s];var r=i[s];if(o!=r)return e=parseInt(o,10),!isNaN(e)&&(t=parseInt(r,10),!isNaN(t)&&e-t)?e-t:o<r?-1:1}return n.length!=i.length?n.length-i.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&-1!=e.indexOf("e")&&(e=e.replace(goog.string.E_RE_,"&#101;"))}return e},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e;
},goog.string.unescapeEntitiesUsingDom_=function(e,t){var o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,function(e,t){var i=o[e];if(i)return i;if("#"==t.charAt(0)){var l=Number("0"+t.substr(1));isNaN(l)||(i=String.fromCharCode(l))}return i||(n.innerHTML=e+" ",i=n.firstChild.nodeValue.slice(0,-1)),o[e]=i})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==t.charAt(0)){var o=Number("0"+t.substr(1));if(!isNaN(o))return String.fromCharCode(o)}return e}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var o=t.length,n=0;n<o;n++){var i=1==o?t:t.charAt(n);if(e.charAt(0)==i&&e.charAt(e.length-1)==i)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,o){return o&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),o&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,o,n){if(o&&(e=goog.string.unescapeEntities(e)),n&&e.length>t){n>t&&(n=t);var i=e.length-n;e=e.substring(0,t-n)+"..."+e.substring(i)}else e.length>t&&(n=Math.floor(t/2),i=e.length-n,e=e.substring(0,n+t%2)+"..."+e.substring(i));return o&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],o=0;o<e.length;o++){var n=e.charAt(o),i=n.charCodeAt(0);t[o+1]=goog.string.specialEscapeChars_[n]||(31<i&&127>i?n:goog.string.escapeChar(n))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],o=0;o<e.length;o++)t[o]=goog.string.escapeChar(e.charAt(o));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var o=e;else 256>t?(o="\\x",(16>t||256<t)&&(o+="0")):(o="\\u",4096>t&&(o+="0")),o+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=o},goog.string.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.caseInsensitiveContains=function(e,t){return goog.string.contains(e.toLowerCase(),t.toLowerCase())},goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,o){var n=e;return 0<=t&&t<e.length&&0<o&&(n=e.substr(0,t)+e.substr(t+o,e.length-t-o)),n},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){var o=new RegExp(goog.string.regExpEscape(t),"g");return e.replace(o,"")},goog.string.replaceAll=function(e,t,o){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,o.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,o){return e=goog.isDef(o)?e.toFixed(o):String(e),o=e.indexOf("."),-1==o&&(o=e.length),goog.string.repeat("0",Math.max(0,t-o))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(e,t){for(var o=0,n=goog.string.trim(String(e)).split("."),i=goog.string.trim(String(t)).split("."),l=Math.max(n.length,i.length),s=0;0==o&&s<l;s++){var r=n[s]||"",a=i[s]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;o=0==r[1].length?0:parseInt(r[1],10);var c=0==a[1].length?0:parseInt(a[1],10);o=goog.string.compareElements_(o,c)||goog.string.compareElements_(0==r[2].length,0==a[2].length)||goog.string.compareElements_(r[2],a[2]),r=r[3],a=a[3]}while(0==o)}return o},goog.string.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.string.hashCode=function(e){for(var t=0,o=0;o<e.length;++o)t=31*t+e.charCodeAt(o)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){var o=goog.isString(t)?goog.string.regExpEscape(t):"\\s";return e.replace(new RegExp("(^"+(o?"|["+o+"]+":"")+")([a-z])","g"),function(e,t,o){return t+o.toUpperCase()})},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,o){e=e.split(t);for(var n=[];0<o&&e.length;)n.push(e.shift()),o--;return e.length&&n.push(e.join(t)),n},goog.string.lastComponent=function(e,t){if(!t)return e;"string"==typeof t&&(t=[t]);for(var o=-1,n=0;n<t.length;n++)if(""!=t[n]){var i=e.lastIndexOf(t[n]);i>o&&(o=i)}return-1==o?e:e.slice(o+1)},goog.string.editDistance=function(e,t){var o=[],n=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var i=0;i<t.length+1;i++)o[i]=i;for(i=0;i<e.length;i++){n[0]=i+1;for(var l=0;l<t.length;l++)n[l+1]=Math.min(n[l]+1,o[l+1]+1,o[l]+Number(e[i]!=t[l]));for(l=0;l<o.length;l++)o[l]=n[l]}return n[t.length]},goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,o=RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),n=[];t=o.exec(e);)n.push([t[1],t[2],t[3]||void 0]);return n},goog.object={},goog.object.is=function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t},goog.object.forEach=function(e,t,o){for(var n in e)t.call(o,e[n],n,e)},goog.object.filter=function(e,t,o){var n,i={};for(n in e)t.call(o,e[n],n,e)&&(i[n]=e[n]);return i},goog.object.map=function(e,t,o){var n,i={};for(n in e)i[n]=t.call(o,e[n],n,e);return i},goog.object.some=function(e,t,o){for(var n in e)if(t.call(o,e[n],n,e))return!0;return!1},goog.object.every=function(e,t,o){for(var n in e)if(!t.call(o,e[n],n,e))return!1;return!0},goog.object.getCount=function(e){var t,o=0;for(t in e)o++;return o},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,o=[],n=0;for(t in e)o[n++]=e[t];return o},goog.object.getKeys=function(e){var t,o=[],n=0;for(t in e)o[n++]=t;return o},goog.object.getValueByKeys=function(e,t){var o=goog.isArrayLike(t),n=o?t:arguments;for(o=o?0:1;o<n.length;o++){if(null==e)return;e=e[n[o]]}return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var o in e)if(e[o]==t)return!0;return!1},goog.object.findKey=function(e,t,o){for(var n in e)if(t.call(o,e[n],n,e))return n},goog.object.findValue=function(e,t,o){return(t=goog.object.findKey(e,t,o))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var o;return(o=t in e)&&delete e[t],o},goog.object.add=function(e,t,o){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,o)},goog.object.get=function(e,t,o){return null!==e&&t in e?e[t]:o},goog.object.set=function(e,t,o){e[t]=o},goog.object.setIfUndefined=function(e,t,o){return t in e?e[t]:e[t]=o},goog.object.setWithReturnValueIfNotSet=function(e,t,o){return t in e?e[t]:(o=o(),e[t]=o)},goog.object.equals=function(e,t){for(var o in e)if(!(o in t)||e[o]!==t[o])return!1;for(o in t)if(!(o in e))return!1;return!0},goog.object.clone=function(e){var t,o={};for(t in e)o[t]=e[t];return o},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(goog.isFunction(e.clone))return e.clone();t="array"==t?[]:{};for(var o in e)t[o]=goog.object.unsafeClone(e[o]);return t}return e},goog.object.transpose=function(e){var t,o={};for(t in e)o[e[t]]=t;return o},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var o,n,i=1;i<arguments.length;i++){n=arguments[i];for(o in n)e[o]=n[o];for(var l=0;l<goog.object.PROTOTYPE_FIELDS_.length;l++)o=goog.object.PROTOTYPE_FIELDS_[l],Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var o={},n=0;n<t;n+=2)o[arguments[n]]=arguments[n+1];return o},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var o={},n=0;n<t;n++)o[arguments[n]]=!0;return o},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t,o){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var n={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||o);){for(var i=Object.getOwnPropertyNames(e),l=0;l<i.length;l++)n[i[l]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(n)},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdge_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdge_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdge_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdge_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,n),o[e]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var o={};goog.array.forEach(t,function(e){o[e[0]]=e[1]});var n=goog.partial(goog.object.containsKey,o);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];t="";var o=/MSIE +([\d\.]+)/.exec(e);if(o&&o[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==o[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=o[1];return t},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var t=goog.labs.userAgent.engine.getEngineTuple_(e);if(t)return"Gecko"==t[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):t[1];e=e[0];var o;if(e&&(o=e[2])&&(o=/Trident\/([^\s;]+)/.exec(o)))return o[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var o=e[t];if("Edge"==o[0])return o}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){var o=goog.array.find(e,function(e){return t==e[0]});return o&&o[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")};goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")};goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?(t=/Windows (?:NT|Phone) ([0-9.]+)/,t=(e=t.exec(e))?e[1]:"0.0"):goog.labs.userAgent.platform.isIos()?(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,t=(e=t.exec(e))&&e[1].replace(/_/g,".")):goog.labs.userAgent.platform.isMacintosh()?(t=/Mac OS X ([0-9_.]+)/,t=(e=t.exec(e))?e[1].replace(/_/g,"."):"10"):goog.labs.userAgent.platform.isAndroid()?(t=/Android\s+([^\);]+)(\)|;)/,t=(e=t.exec(e))&&e[1]):goog.labs.userAgent.platform.isChromeOS()&&(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,t=(e=t.exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.reflect.cache=function(e,t,o,n){return n=n?n(t):t,Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=o(t)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&(t=goog.userAgent.getDocumentMode_(),null!=t&&t>parseFloat(e))?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){var e=goog.global.document,t=goog.userAgent.getDocumentMode_();if(e&&goog.userAgent.IE)return t||("CSS1Compat"==e.compatMode?parseInt(goog.userAgent.VERSION,10):5)}(),goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentModeOrHigher(9)||goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE,LEGACY_IE_RANGES:goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK");
goog.dom.TagName.TT=new goog.dom.TagName("TT");goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);"undefined"!=typeof t.Location&&"undefined"!=typeof t.Element&&goog.asserts.assert(e&&(e instanceof t.Location||!(e instanceof t.Element)),"Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsElementType_=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var o=goog.dom.asserts.getWindow_(e);"undefined"!=typeof o[t]&&"undefined"!=typeof o.Location&&"undefined"!=typeof o.Element&&goog.asserts.assert(e&&(e instanceof o[t]||!(e instanceof o.Location||e instanceof o.Element)),"Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(e){return goog.isObject(e)?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):void 0===e?"undefined":null===e?"null":typeof e},goog.dom.asserts.getWindow_=function(e){return(e=e&&e.ownerDocument)&&(e.defaultView||e.parentWindow)||goog.global},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=goog.functions.constant(!1),goog.functions.TRUE=goog.functions.constant(!0),goog.functions.NULL=goog.functions.constant(null),goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,t){var o=Array.prototype.slice.call(arguments,1);return function(){var t=Array.prototype.slice.call(arguments);return t.push.apply(t,o),e.apply(this,t)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(o){return t?e==o:e===o}},goog.functions.compose=function(e,t){var o=arguments,n=o.length;return function(){var e;n&&(e=o[n-1].apply(this,arguments));for(var t=n-2;0<=t;t--)e=o[t].call(this,e);return e}},goog.functions.sequence=function(e){var t=arguments,o=t.length;return function(){for(var e,n=0;n<o;n++)e=t[n].apply(this,arguments);return e}},goog.functions.and=function(e){var t=arguments,o=t.length;return function(){for(var e=0;e<o;e++)if(!t[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,o=t.length;return function(){for(var e=0;e<o;e++)if(t[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var o=function(){};return o.prototype=e.prototype,o=new o,e.apply(o,Array.prototype.slice.call(arguments,1)),o},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t,o=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(o||(t=e(),o=!0),t):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var e=t;t=null,e()}}},goog.functions.debounce=function(e,t,o){var n=0;return function(i){goog.global.clearTimeout(n);var l=arguments;n=goog.global.setTimeout(function(){e.apply(o,l)},t)}},goog.functions.throttle=function(e,t,o){var n=0,i=!1,l=[],s=function(){n=0,i&&(i=!1,r())},r=function(){n=goog.global.setTimeout(s,t),e.apply(o,l)};return function(e){l=arguments,n?i=!0:r()}},goog.functions.rateLimit=function(e,t,o){var n=0,i=function(){n=0};return function(l){n||(n=goog.global.setTimeout(i,t),e.apply(o,arguments))}},goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.string.TypedString=function(){},goog.string.Const=function(e,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html={},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return e=goog.string.Const.unwrap(e),0===e.length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.fromConstantAndArgs=function(e,t){for(var o=[],n=1;n<arguments.length;n++)o.push(goog.html.SafeScript.stringify_(arguments[n]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(e)+")("+o.join(", ")+");")},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4)),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-߿‏יִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){var o=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return e.replace(goog.i18n.bidi.bracketGuardTextRe_,o+"$&"+o)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){for(var o=0,n=0,i=!1,l=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),s=0;s<l.length;s++){var r=l[s];goog.i18n.bidi.startsWithRtl(r)?(o++,n++):goog.i18n.bidi.isRequiredLtrRe_.test(r)?i=!0:goog.i18n.bidi.hasAnyLtr(r)?n++:goog.i18n.bidi.hasNumeralsRe_.test(r)&&(i=!0)}return 0==n?i?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:o/n>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e){var t=goog.html.TrustedResourceUrl.unwrap(this);if(/#/.test(t))throw Error("Found a hash in url ("+t+"), appending not supported.");var o,n=/\?/.test(t)?"&":"?";for(o in e)for(var i=goog.isArray(e[o])?e[o]:[e[o]],l=0;l<i.length;l++)null!=i[l]&&(t+=n+encodeURIComponent(o)+"="+encodeURIComponent(String(i[l])),n="&");return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(e,t){var o=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(o))throw Error("Invalid TrustedResourceUrl format: "+o);var n=o.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(e,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw Error('Found marker, "'+n+'", in format string, "'+o+'", but no valid label mapping found in args: '+JSON.stringify(t));var i=t[n];return i instanceof goog.string.Const?goog.string.Const.unwrap(i):encodeURIComponent(String(i))});return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(n)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,goog.html.TrustedResourceUrl.formatWithParams=function(e,t,o){return goog.html.TrustedResourceUrl.format(e,t).cloneWithParams(o)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",o=0;o<e.length;o++)t+=goog.string.Const.unwrap(e[o]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.TrustedResourceUrl;return t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=e,t},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))$/i,goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SAFE_MIME_TYPE_PATTERN_.test(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:([^;,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){var t=e.match(goog.html.DATA_URL_PATTERN_);return t=t&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(t[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var t=e.match(/[?&]body=/gi);if(!t)return!0;if(1<t.length)return!1;if(e=e.match(/[?&]body=([^&]+)/)[1],!e)return!0;try{return goog.string.urlEncode(e)===e||goog.string.urlDecode(e)!==e}catch(e){return!1}},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.SafeUrl;return t.privateDoNotAccessOrElseSafeHtmlWrappedValue_=e,t},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return e=goog.string.Const.unwrap(e),0===e.length?goog.html.SafeStyle.EMPTY:(goog.html.SafeStyle.checkStyle_(e),goog.asserts.assert(goog.string.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.contains(e,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.checkStyle_=function(e){goog.asserts.assert(!/[<>]/.test(e),"Forbidden characters in style string: "+e)},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var t,o="";for(t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var n=e[t];null!=n&&(n=goog.isArray(n)?goog.array.map(n,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(n),o+=t+":"+n+";")}return o?(goog.html.SafeStyle.checkStyle_(o),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o)):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(e){return e instanceof goog.html.SafeUrl?'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")':(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):goog.html.SafeStyle.sanitizePropertyValueString_(String(e)),goog.asserts.assert(!/[{;}]/.test(e),"Value does not allow [{;}]."),e)},goog.html.SafeStyle.sanitizePropertyValueString_=function(e){var t=e.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(t)?goog.html.SafeStyle.COMMENT_RE_.test(e)?(goog.asserts.fail("String value disallows comments, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(e)?goog.html.SafeStyle.hasBalancedSquareBrackets_(e)?goog.html.SafeStyle.sanitizeUrl_(e):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING)};goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t=!0,o=!0,n=0;n<e.length;n++){var i=e.charAt(n);"'"==i&&o?t=!t:'"'==i&&t&&(o=!o)}return t&&o};goog.html.SafeStyle.hasBalancedSquareBrackets_=function(e){for(var t=!0,o=/^[-_a-zA-Z0-9]$/,n=0;n<e.length;n++){var i=e.charAt(n);if("]"==i){if(t)return!1;t=!0}else if("["==i){if(!t)return!1;t=!1}else if(!t&&!o.test(i))return!1}return t},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9\\[\\]]",goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=RegExp("\\b(url\\([ \t\n]*)('[ -&(-\\[\\]-~]*'|\"[ !#-\\[\\]-~]*\"|[!#-&*-\\[\\]-~]*)([ \t\n]*\\))","g"),goog.html.SafeStyle.FUNCTIONS_RE_=RegExp("\\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\\([-+*/0-9a-z.%\\[\\], ]+\\)","g"),goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(e){return e.replace(goog.html.SafeStyle.URL_RE_,function(e,t,o,n){var i="";return o=o.replace(/^(['"])(.*)\1$/,function(e,t,o){return i=t,o}),e=goog.html.SafeUrl.sanitize(o).getTypedStringValue(),t+i+e+i+n})},goog.html.SafeStyle.concat=function(e){var t="",o=function(e){goog.isArray(e)?goog.array.forEach(e,o):t+=goog.html.SafeStyle.unwrap(e)};return goog.array.forEach(arguments,o),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(e,t){if(goog.string.contains(e,"<"))throw Error("Selector does not allow '<', got: "+e);var o=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(o))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(o))throw Error("() and [] in selector must be balanced, got: "+e);return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),o=e+"{"+goog.html.SafeStyle.unwrap(t)+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(e){for(var t={"(":")","[":"]"},o=[],n=0;n<e.length;n++){var i=e[n];if(t[i])o.push(t[i]);else if(goog.object.contains(t,i)&&o.pop()!=i)return!1}return 0==o.length},goog.html.SafeStyleSheet.concat=function(e){var t="",o=function(e){goog.isArray(e)?goog.array.forEach(e,o):t+=goog.html.SafeStyleSheet.unwrap(e)};return goog.array.forEach(arguments,o),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.fromConstant=function(e){return e=goog.string.Const.unwrap(e),0===e.length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),
"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t="object"==typeof e,o=null;return t&&e.implementsGoogI18nBidiDirectionalString&&(o=e.getDirection()),e=t&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.htmlEscape(e),o)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,t,o){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,o)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(e,t,o,n){e&&goog.html.TrustedResourceUrl.unwrap(e);var i={};return i.src=e||null,i.srcdoc=t&&goog.html.SafeHtml.unwrap(t),e=goog.html.SafeHtml.combineAttributes(i,{sandbox:""},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.createSandboxIframe=function(e,t,o,n){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var i={};return i.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,i.srcdoc=t||null,i.sandbox="",e=goog.html.SafeHtml.combineAttributes(i,{},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,t){goog.html.TrustedResourceUrl.unwrap(e);var o=goog.html.SafeHtml.combineAttributes({src:e},{},t);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",o)},goog.html.SafeHtml.createScript=function(e,t){for(var o in t){var n=o.toLowerCase();if("language"==n||"src"==n||"text"==n||"type"==n)throw Error('Cannot set "'+n+'" attribute')}for(o="",e=goog.array.concat(e),n=0;n<e.length;n++)o+=goog.html.SafeScript.unwrap(e[n]);return o=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,o)},goog.html.SafeHtml.createStyle=function(e,t){var o=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t),n="";e=goog.array.concat(e);for(var i=0;i<e.length;i++)n+=goog.html.SafeStyleSheet.unwrap(e[i]);return n=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",o,n)},goog.html.SafeHtml.createMetaRefresh=function(e,t){var o=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e));return(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.contains(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+o})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,o){if(o instanceof goog.string.Const)o=goog.string.Const.unwrap(o);else if("style"==t.toLowerCase())o=goog.html.SafeHtml.getStyleValue_(o);else{if(/^on/i.test(t))throw Error('Attribute "'+t+'" requires goog.string.Const value, "'+o+'" given.');if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(o instanceof goog.html.TrustedResourceUrl)o=goog.html.TrustedResourceUrl.unwrap(o);else if(o instanceof goog.html.SafeUrl)o=goog.html.SafeUrl.unwrap(o);else{if(!goog.isString(o))throw Error('Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+o+'" given.');o=goog.html.SafeUrl.sanitize(o).getTypedStringValue()}}return o.implementsGoogStringTypedString&&(o=o.getTypedStringValue()),goog.asserts.assert(goog.isString(o)||goog.isNumber(o),"String or number value expected, got "+typeof o+" with value: "+o),t+'="'+goog.string.htmlEscape(String(o))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,t,o,n){return t=goog.html.SafeHtml.create(t,o,n),t.dir_=e,t},goog.html.SafeHtml.concat=function(e){var t=goog.i18n.bidi.Dir.NEUTRAL,o="",n=function(e){goog.isArray(e)?goog.array.forEach(e,n):(e=goog.html.SafeHtml.htmlEscape(e),o+=goog.html.SafeHtml.unwrap(e),e=e.getDirection(),t==goog.i18n.bidi.Dir.NEUTRAL?t=e:e!=goog.i18n.bidi.Dir.NEUTRAL&&t!=e&&(t=null))};return goog.array.forEach(arguments,n),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,t)},goog.html.SafeHtml.concatWithDir=function(e,t){var o=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return o.dir_=e,o},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,t)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=e,this.dir_=t,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,o){var n=null,i="<"+e+goog.html.SafeHtml.stringifyAttributes(e,t);return goog.isDefAndNotNull(o)?goog.isArray(o)||(o=[o]):o=[],goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!o.length,"Void tag <"+e+"> does not allow content."),i+=">"):(n=goog.html.SafeHtml.concat(o),i+=">"+goog.html.SafeHtml.unwrap(n)+"</"+e+">",n=n.getDirection()),(e=t&&t.dir)&&(n=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(i,n)},goog.html.SafeHtml.stringifyAttributes=function(e,t){var o="";if(t)for(var n in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(n))throw Error('Invalid attribute name "'+n+'".');var i=t[n];goog.isDefAndNotNull(i)&&(o+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,n,i))}return o},goog.html.SafeHtml.combineAttributes=function(e,t,o){var n,i={};for(n in e)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),i[n]=e[n];for(n in t)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),i[n]=t[n];for(n in o){var l=n.toLowerCase();if(l in e)throw Error('Cannot override "'+l+'" attribute, got "'+n+'" with value "'+o[n]+'"');l in t&&delete i[l],i[n]=o[n]}return i},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,o){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrap(o))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&"undefined"==typeof document)return!1;var e=document.createElement("div");if(e.innerHTML="<div><div></div></div>",goog.DEBUG&&!e.firstChild)return!1;var t=e.firstChild.firstChild;return e.innerHTML="",!t.parentElement}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=t},goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var o=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[o])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,goog.html.SafeHtml.unwrap(t))},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrap(t)},goog.dom.safe.setFormElementAction=function(e,t){var o=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t);goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.setButtonFormAction=function(e,t){var o=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t);goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.setInputFormAction=function(e,t){var o=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t);goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.setStyle=function(e,t){e.style.cssText=goog.html.SafeStyle.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrap(t))},goog.dom.safe.setAnchorHref=function(e,t){goog.dom.asserts.assertIsHTMLAnchorElement(e);var o=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t);e.href=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.setImageSrc=function(e,t){goog.dom.asserts.assertIsHTMLImageElement(e);var o=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t);e.src=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.setAudioSrc=function(e,t){goog.dom.asserts.assertIsHTMLAudioElement(e);var o=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t);e.src=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.setVideoSrc=function(e,t){goog.dom.asserts.assertIsHTMLVideoElement(e);var o=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t);e.src=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setFrameSrc=function(e,t){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=goog.html.SafeHtml.unwrap(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,o){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=o,goog.string.caseInsensitiveContains(o,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrap(t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(t):goog.html.SafeUrl.sanitizeAssertUnchanged(t).getTypedStringValue()},goog.dom.safe.setObjectData=function(e,t){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setScriptSrc=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t);var o=goog.getScriptNonce();o&&e.setAttribute("nonce",o)},goog.dom.safe.setScriptContent=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.text=goog.html.SafeScript.unwrap(t);var o=goog.getScriptNonce();o&&e.setAttribute("nonce",o)},goog.dom.safe.setLocationHref=function(e,t){goog.dom.asserts.assertIsLocation(e);var o=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t);e.href=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.replaceLocation=function(e,t){goog.dom.asserts.assertIsLocation(e);var o=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t);e.replace(goog.html.SafeUrl.unwrap(o))},goog.dom.safe.openInWindow=function(e,t,o,n,i){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),(t||window).open(goog.html.SafeUrl.unwrap(e),o?goog.string.Const.unwrap(o):"",n,i)},goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,o){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,o||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.math.Coordinate=function(e,t){this.x=goog.isDef(e)?e:0,this.y=goog.isDef(t)?t:0},goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)},goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),goog.math.Coordinate.prototype.equals=function(e){return e instanceof goog.math.Coordinate&&goog.math.Coordinate.equals(this,e)},goog.math.Coordinate.equals=function(e,t){return e==t||!(!e||!t)&&(e.x==t.x&&e.y==t.y)},goog.math.Coordinate.distance=function(e,t){var o=e.x-t.x,n=e.y-t.y;return Math.sqrt(o*o+n*n)},goog.math.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},goog.math.Coordinate.azimuth=function(e){return goog.math.angle(0,0,e.x,e.y)},goog.math.Coordinate.squaredDistance=function(e,t){var o=e.x-t.x,n=e.y-t.y;return o*o+n*n},goog.math.Coordinate.difference=function(e,t){return new goog.math.Coordinate(e.x-t.x,e.y-t.y)},goog.math.Coordinate.sum=function(e,t){return new goog.math.Coordinate(e.x+t.x,e.y+t.y)},goog.math.Coordinate.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},goog.math.Coordinate.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},goog.math.Coordinate.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},goog.math.Coordinate.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.x+=e.x,this.y+=e.y):(this.x+=Number(e),goog.isNumber(t)&&(this.y+=t)),this},goog.math.Coordinate.prototype.scale=function(e,t){var o=goog.isNumber(t)?t:e;return this.x*=e,this.y*=o,this},goog.math.Coordinate.prototype.rotateRadians=function(e,t){var o=t||new goog.math.Coordinate(0,0),n=this.x,i=this.y,l=Math.cos(e),s=Math.sin(e);this.x=(n-o.x)*l-(i-o.y)*s+o.x,this.y=(n-o.x)*s+(i-o.y)*l+o.y},goog.math.Coordinate.prototype.rotateDegrees=function(e,t){this.rotateRadians(goog.math.toRadians(e),t)},goog.math.Size=function(e,t){this.width=e,this.height=t},goog.math.Size.equals=function(e,t){return e==t||!(!e||!t)&&(e.width==t.width&&e.height==t.height)},goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)},goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)},goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)},goog.math.Size.prototype.area=function(){return this.width*this.height},goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)},goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height},goog.math.Size.prototype.isEmpty=function(){return!this.area()},goog.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Size.prototype.fitsInside=function(e){return this.width<=e.width&&this.height<=e.height},goog.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Size.prototype.scale=function(e,t){var o=goog.isNumber(t)?t:e;return this.width*=e,this.height*=o,this},goog.math.Size.prototype.scaleToCover=function(e){return e=this.aspectRatio()<=e.aspectRatio()?e.width/this.width:e.height/this.height,this.scale(e)},goog.math.Size.prototype.scaleToFit=function(e){return e=this.aspectRatio()>e.aspectRatio()?e.width/this.width:e.height/this.height,this.scale(e)},goog.dom.ASSUME_QUIRKS_MODE=!1,goog.dom.ASSUME_STANDARDS_MODE=!1,goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE,goog.dom.getDomHelper=function(e){return e?new goog.dom.DomHelper(goog.dom.getOwnerDocument(e)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)},goog.dom.getDocument=function(){return document},goog.dom.getElement=function(e){return goog.dom.getElementHelper_(document,e)},goog.dom.getElementHelper_=function(e,t){return goog.isString(t)?e.getElementById(t):t},goog.dom.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(document,e)},goog.dom.getRequiredElementHelper_=function(e,t){goog.asserts.assertString(t);var o=goog.dom.getElementHelper_(e,t);return o=goog.asserts.assertElement(o,"No element found with id: "+t)},goog.dom.$=goog.dom.getElement,goog.dom.getElementsByTagName=function(e,t){return(t||document).getElementsByTagName(String(e))},goog.dom.getElementsByTagNameAndClass=function(e,t,o){return goog.dom.getElementsByTagNameAndClass_(document,e,t,o)},goog.dom.getElementByTagNameAndClass=function(e,t,o){return goog.dom.getElementByTagNameAndClass_(document,e,t,o)},goog.dom.getElementsByClass=function(e,t){var o=t||document;return goog.dom.canUseQuerySelector_(o)?o.querySelectorAll("."+e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,t)},goog.dom.getElementByClass=function(e,t){var o=t||document;return(o.getElementsByClassName?o.getElementsByClassName(e)[0]:goog.dom.getElementByTagNameAndClass_(document,"*",e,t))||null},goog.dom.getRequiredElementByClass=function(e,t){var o=goog.dom.getElementByClass(e,t);return goog.asserts.assert(o,"No element found with className: "+e)},goog.dom.canUseQuerySelector_=function(e){return!(!e.querySelectorAll||!e.querySelector)},goog.dom.getElementsByTagNameAndClass_=function(e,t,o,n){if(e=n||e,t=t&&"*"!=t?String(t).toUpperCase():"",goog.dom.canUseQuerySelector_(e)&&(t||o))return e.querySelectorAll(t+(o?"."+o:""));if(o&&e.getElementsByClassName){if(e=e.getElementsByClassName(o),t){n={};for(var i,l=0,s=0;i=e[s];s++)t==i.nodeName&&(n[l++]=i);return n.length=l,n}return e}if(e=e.getElementsByTagName(t||"*"),o){for(n={},s=l=0;i=e[s];s++)t=i.className,"function"==typeof t.split&&goog.array.contains(t.split(/\s+/),o)&&(n[l++]=i);return n.length=l,n}return e},goog.dom.getElementByTagNameAndClass_=function(e,t,o,n){var i=n||e,l=t&&"*"!=t?String(t).toUpperCase():"";return goog.dom.canUseQuerySelector_(i)&&(l||o)?i.querySelector(l+(o?"."+o:"")):goog.dom.getElementsByTagNameAndClass_(e,t,o,n)[0]||null},goog.dom.$$=goog.dom.getElementsByTagNameAndClass,goog.dom.setProperties=function(e,t){goog.object.forEach(t,function(t,o){t&&"object"==typeof t&&t.implementsGoogStringTypedString&&(t=t.getTypedStringValue()),"style"==o?e.style.cssText=t:"class"==o?e.className=t:"for"==o?e.htmlFor=t:goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(o)?e.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[o],t):goog.string.startsWith(o,"aria-")||goog.string.startsWith(o,"data-")?e.setAttribute(o,t):e[o]=t})},goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},goog.dom.getViewportSize=function(e){return goog.dom.getViewportSize_(e||window)},goog.dom.getViewportSize_=function(e){return e=e.document,e=goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body,new goog.math.Size(e.clientWidth,e.clientHeight)},goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)},goog.dom.getDocumentHeightForWindow=function(e){return goog.dom.getDocumentHeight_(e)},goog.dom.getDocumentHeight_=function(e){var t=e.document,o=0;if(t){o=t.body;var n=t.documentElement;if(!n||!o)return 0;if(e=goog.dom.getViewportSize_(e).height,goog.dom.isCss1CompatMode_(t)&&n.scrollHeight)o=n.scrollHeight!=e?n.scrollHeight:n.offsetHeight;else{t=n.scrollHeight;var i=n.offsetHeight;n.clientHeight!=i&&(t=o.scrollHeight,i=o.offsetHeight),o=t>e?t>i?t:i:t<i?t:i}}return o},goog.dom.getPageScroll=function(e){return goog.dom.getDomHelper((e||goog.global||window).document).getDocumentScroll()},goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)},goog.dom.getDocumentScroll_=function(e){var t=goog.dom.getDocumentScrollElement_(e);return e=goog.dom.getWindow_(e),goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("10")&&e.pageYOffset!=t.scrollTop?new goog.math.Coordinate(t.scrollLeft,t.scrollTop):new goog.math.Coordinate(e.pageXOffset||t.scrollLeft,e.pageYOffset||t.scrollTop)},goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)},goog.dom.getDocumentScrollElement_=function(e){return e.scrollingElement?e.scrollingElement:!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body||e.documentElement},goog.dom.getWindow=function(e){return e?goog.dom.getWindow_(e):window},goog.dom.getWindow_=function(e){return e.parentWindow||e.defaultView},goog.dom.createDom=function(e,t,o){return goog.dom.createDom_(document,arguments)},goog.dom.createDom_=function(e,t){var o=String(t[0]),n=t[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&n&&(n.name||n.type)){if(o=["<",o],n.name&&o.push(' name="',goog.string.htmlEscape(n.name),'"'),n.type){o.push(' type="',goog.string.htmlEscape(n.type),'"');var i={};goog.object.extend(i,n),delete i.type,n=i}o.push(">"),o=o.join("")}return o=e.createElement(o),n&&(goog.isString(n)?o.className=n:goog.isArray(n)?o.className=n.join(" "):goog.dom.setProperties(o,n)),2<t.length&&goog.dom.append_(e,o,t,2),o},goog.dom.append_=function(e,t,o,n){function i(o){o&&t.appendChild(goog.isString(o)?e.createTextNode(o):o)}for(;n<o.length;n++){var l=o[n];goog.isArrayLike(l)&&!goog.dom.isNodeLike(l)?goog.array.forEach(goog.dom.isNodeList(l)?goog.array.toArray(l):l,i):i(l)}},goog.dom.$dom=goog.dom.createDom,goog.dom.createElement=function(e){return goog.dom.createElement_(document,e)},goog.dom.createElement_=function(e,t){return e.createElement(String(t))},goog.dom.createTextNode=function(e){return document.createTextNode(String(e))},goog.dom.createTable=function(e,t,o){return goog.dom.createTable_(document,e,t,!!o)},goog.dom.createTable_=function(e,t,o,n){for(var i=goog.dom.createElement_(e,"TABLE"),l=i.appendChild(goog.dom.createElement_(e,"TBODY")),s=0;s<t;s++){for(var r=goog.dom.createElement_(e,"TR"),a=0;a<o;a++){var c=goog.dom.createElement_(e,"TD");n&&goog.dom.setTextContent(c,goog.string.Unicode.NBSP),r.appendChild(c)}l.appendChild(r)}return i},goog.dom.constHtmlToNode=function(e){var t=goog.array.map(arguments,goog.string.Const.unwrap);return t=goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Constant HTML string, that gets turned into a Node later, so it will be automatically balanced."),t.join("")),goog.dom.safeHtmlToNode(t)},goog.dom.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(document,e)},goog.dom.safeHtmlToNode_=function(e,t){var o=goog.dom.createElement_(e,"DIV");return goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(goog.dom.safe.setInnerHtml(o,goog.html.SafeHtml.concat(goog.html.SafeHtml.BR,t)),o.removeChild(o.firstChild)):goog.dom.safe.setInnerHtml(o,t),goog.dom.childrenToNode_(e,o)},goog.dom.childrenToNode_=function(e,t){if(1==t.childNodes.length)return t.removeChild(t.firstChild);for(var o=e.createDocumentFragment();t.firstChild;)o.appendChild(t.firstChild);return o},goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)},goog.dom.isCss1CompatMode_=function(e){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==e.compatMode},goog.dom.canHaveChildren=function(e){if(e.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(e.tagName){case"APPLET":case"AREA":case"BASE":case"BR":case"COL":case"COMMAND":case"EMBED":case"FRAME":case"HR":case"IMG":case"INPUT":case"IFRAME":case"ISINDEX":case"KEYGEN":case"LINK":case"NOFRAMES":case"NOSCRIPT":case"META":case"OBJECT":case"PARAM":case"SCRIPT":case"SOURCE":case"STYLE":case"TRACK":case"WBR":return!1}return!0},goog.dom.appendChild=function(e,t){e.appendChild(t)},goog.dom.append=function(e,t){goog.dom.append_(goog.dom.getOwnerDocument(e),e,arguments,1)},goog.dom.removeChildren=function(e){for(var t;t=e.firstChild;)e.removeChild(t)},goog.dom.insertSiblingBefore=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t)},goog.dom.insertSiblingAfter=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)},goog.dom.insertChildAt=function(e,t,o){e.insertBefore(t,e.childNodes[o]||null)},goog.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},goog.dom.replaceNode=function(e,t){var o=t.parentNode;o&&o.replaceChild(e,t)},goog.dom.flattenElement=function(e){var t,o=e.parentNode;if(o&&o.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(e.removeNode)return e.removeNode(!1);for(;t=e.firstChild;)o.insertBefore(t,e);return goog.dom.removeNode(e)}},goog.dom.getChildren=function(e){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&void 0!=e.children?e.children:goog.array.filter(e.childNodes,function(e){return e.nodeType==goog.dom.NodeType.ELEMENT})},goog.dom.getFirstElementChild=function(e){return goog.isDef(e.firstElementChild)?e.firstElementChild:goog.dom.getNextElementNode_(e.firstChild,!0)},goog.dom.getLastElementChild=function(e){return goog.isDef(e.lastElementChild)?e.lastElementChild:goog.dom.getNextElementNode_(e.lastChild,!1)},goog.dom.getNextElementSibling=function(e){return goog.isDef(e.nextElementSibling)?e.nextElementSibling:goog.dom.getNextElementNode_(e.nextSibling,!0)},goog.dom.getPreviousElementSibling=function(e){return goog.isDef(e.previousElementSibling)?e.previousElementSibling:goog.dom.getNextElementNode_(e.previousSibling,!1)},goog.dom.getNextElementNode_=function(e,t){for(;e&&e.nodeType!=goog.dom.NodeType.ELEMENT;)e=t?e.nextSibling:e.previousSibling;return e},goog.dom.getNextNode=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},goog.dom.getPreviousNode=function(e){if(!e)return null;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e&&e.lastChild;)e=e.lastChild;return e},goog.dom.isNodeLike=function(e){return goog.isObject(e)&&0<e.nodeType},goog.dom.isElement=function(e){return goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT},goog.dom.isWindow=function(e){return goog.isObject(e)&&e.window==e},goog.dom.getParentElement=function(e){var t;return!goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("9")&&!goog.userAgent.isVersionOrHigher("10")&&goog.global.SVGElement&&e instanceof goog.global.SVGElement||!(t=e.parentElement)?(t=e.parentNode,goog.dom.isElement(t)?t:null):t},goog.dom.contains=function(e,t){if(!e||!t)return!1;if(e.contains&&t.nodeType==goog.dom.NodeType.ELEMENT)return e==t||e.contains(t);if("undefined"!=typeof e.compareDocumentPosition)return e==t||!!(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e};goog.dom.compareNodeOrder=function(e,t){if(e==t)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(t)?1:-1;if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){
if(e.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(t.nodeType==goog.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var o=e.nodeType==goog.dom.NodeType.ELEMENT,n=t.nodeType==goog.dom.NodeType.ELEMENT;if(o&&n)return e.sourceIndex-t.sourceIndex;var i=e.parentNode,l=t.parentNode;return i==l?goog.dom.compareSiblingOrder_(e,t):!o&&goog.dom.contains(i,t)?-1*goog.dom.compareParentsDescendantNodeIe_(e,t):!n&&goog.dom.contains(l,e)?goog.dom.compareParentsDescendantNodeIe_(t,e):(o?e.sourceIndex:i.sourceIndex)-(n?t.sourceIndex:l.sourceIndex)}return n=goog.dom.getOwnerDocument(e),o=n.createRange(),o.selectNode(e),o.collapse(!0),n=n.createRange(),n.selectNode(t),n.collapse(!0),o.compareBoundaryPoints(goog.global.Range.START_TO_END,n)};goog.dom.compareParentsDescendantNodeIe_=function(e,t){var o=e.parentNode;if(o==t)return-1;for(var n=t;n.parentNode!=o;)n=n.parentNode;return goog.dom.compareSiblingOrder_(n,e)},goog.dom.compareSiblingOrder_=function(e,t){for(var o=t;o=o.previousSibling;)if(o==e)return-1;return 1},goog.dom.findCommonAncestor=function(e){var t,o=arguments.length;if(!o)return null;if(1==o)return arguments[0];var n=[],i=1/0;for(t=0;t<o;t++){for(var l=[],s=arguments[t];s;)l.unshift(s),s=s.parentNode;n.push(l),i=Math.min(i,l.length)}for(l=null,t=0;t<i;t++){s=n[0][t];for(var r=1;r<o;r++)if(s!=n[r][t])return l;l=s}return l},goog.dom.getOwnerDocument=function(e){return goog.asserts.assert(e,"Node cannot be null or undefined."),e.nodeType==goog.dom.NodeType.DOCUMENT?e:e.ownerDocument||e.document},goog.dom.getFrameContentDocument=function(e){return e.contentDocument||e.contentWindow.document},goog.dom.getFrameContentWindow=function(e){try{return e.contentWindow||(e.contentDocument?goog.dom.getWindow(e.contentDocument):null)}catch(e){}return null},goog.dom.setTextContent=function(e,t){if(goog.asserts.assert(null!=e,"goog.dom.setTextContent expects a non-null value for node"),"textContent"in e)e.textContent=t;else if(e.nodeType==goog.dom.NodeType.TEXT)e.data=String(t);else if(e.firstChild&&e.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=String(t)}else{goog.dom.removeChildren(e);var o=goog.dom.getOwnerDocument(e);e.appendChild(o.createTextNode(String(t)))}},goog.dom.getOuterHtml=function(e){if(goog.asserts.assert(null!==e,"goog.dom.getOuterHtml expects a non-null value for element"),"outerHTML"in e)return e.outerHTML;var t=goog.dom.getOwnerDocument(e);return t=goog.dom.createElement_(t,"DIV"),t.appendChild(e.cloneNode(!0)),t.innerHTML},goog.dom.findNode=function(e,t){var o=[];return goog.dom.findNodes_(e,t,o,!0)?o[0]:void 0},goog.dom.findNodes=function(e,t){var o=[];return goog.dom.findNodes_(e,t,o,!1),o},goog.dom.findNodes_=function(e,t,o,n){if(null!=e)for(e=e.firstChild;e;){if(t(e)&&(o.push(e),n)||goog.dom.findNodes_(e,t,o,n))return!0;e=e.nextSibling}return!1},goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"},goog.dom.isFocusableTabIndex=function(e){return goog.dom.hasSpecifiedTabIndex_(e)&&goog.dom.isTabIndexFocusable_(e)},goog.dom.setFocusableTabIndex=function(e,t){t?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))},goog.dom.isFocusable=function(e){var t;return(t=goog.dom.nativelySupportsFocus_(e)?!e.disabled&&(!goog.dom.hasSpecifiedTabIndex_(e)||goog.dom.isTabIndexFocusable_(e)):goog.dom.isFocusableTabIndex(e))&&goog.userAgent.IE?goog.dom.hasNonZeroBoundingRect_(e):t},goog.dom.hasSpecifiedTabIndex_=function(e){return goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9")?(e=e.getAttributeNode("tabindex"),goog.isDefAndNotNull(e)&&e.specified):e.hasAttribute("tabindex")},goog.dom.isTabIndexFocusable_=function(e){return e=e.tabIndex,goog.isNumber(e)&&0<=e&&32768>e},goog.dom.nativelySupportsFocus_=function(e){return"A"==e.tagName||"INPUT"==e.tagName||"TEXTAREA"==e.tagName||"SELECT"==e.tagName||"BUTTON"==e.tagName},goog.dom.hasNonZeroBoundingRect_=function(e){return e=!goog.isFunction(e.getBoundingClientRect)||goog.userAgent.IE&&null==e.parentElement?{height:e.offsetHeight,width:e.offsetWidth}:e.getBoundingClientRect(),goog.isDefAndNotNull(e)&&0<e.height&&0<e.width},goog.dom.getTextContent=function(e){if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&null!==e&&"innerText"in e)e=goog.string.canonicalizeNewlines(e.innerText);else{var t=[];goog.dom.getTextContent_(e,t,!0),e=t.join("")}return e=e.replace(/ \xAD /g," ").replace(/\xAD/g,""),e=e.replace(/\u200B/g,""),goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(e=e.replace(/ +/g," "))," "!=e&&(e=e.replace(/^\s*/,"")),e},goog.dom.getRawTextContent=function(e){var t=[];return goog.dom.getTextContent_(e,t,!1),t.join("")},goog.dom.getTextContent_=function(e,t,o){if(!(e.nodeName in goog.dom.TAGS_TO_IGNORE_))if(e.nodeType==goog.dom.NodeType.TEXT)o?t.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(e.nodeValue);else if(e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)t.push(goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName]);else for(e=e.firstChild;e;)goog.dom.getTextContent_(e,t,o),e=e.nextSibling},goog.dom.getNodeTextLength=function(e){return goog.dom.getTextContent(e).length},goog.dom.getNodeTextOffset=function(e,t){for(var o=t||goog.dom.getOwnerDocument(e).body,n=[];e&&e!=o;){for(var i=e;i=i.previousSibling;)n.unshift(goog.dom.getTextContent(i));e=e.parentNode}return goog.string.trimLeft(n.join("")).replace(/ +/g," ").length},goog.dom.getNodeAtOffset=function(e,t,o){e=[e];for(var n=0,i=null;0<e.length&&n<t;)if(i=e.pop(),!(i.nodeName in goog.dom.TAGS_TO_IGNORE_))if(i.nodeType==goog.dom.NodeType.TEXT){var l=i.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," ");n+=l.length}else if(i.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)n+=goog.dom.PREDEFINED_TAG_VALUES_[i.nodeName].length;else for(l=i.childNodes.length-1;0<=l;l--)e.push(i.childNodes[l]);return goog.isObject(o)&&(o.remainder=i?i.nodeValue.length+t-n-1:0,o.node=i),i},goog.dom.isNodeList=function(e){if(e&&"number"==typeof e.length){if(goog.isObject(e))return"function"==typeof e.item||"string"==typeof e.item;if(goog.isFunction(e))return"function"==typeof e.item}return!1},goog.dom.getAncestorByTagNameAndClass=function(e,t,o,n){if(!t&&!o)return null;var i=t?String(t).toUpperCase():null;return goog.dom.getAncestor(e,function(e){return(!i||e.nodeName==i)&&(!o||goog.isString(e.className)&&goog.array.contains(e.className.split(/\s+/),o))},!0,n)},goog.dom.getAncestorByClass=function(e,t,o){return goog.dom.getAncestorByTagNameAndClass(e,null,t,o)},goog.dom.getAncestor=function(e,t,o,n){for(e&&!o&&(e=e.parentNode),o=0;e&&(null==n||o<=n);){if(goog.asserts.assert("parentNode"!=e.name),t(e))return e;e=e.parentNode,o++}return null},goog.dom.getActiveElement=function(e){try{var t=e&&e.activeElement;return t&&t.nodeName?t:null}catch(e){return null}},goog.dom.getPixelRatio=function(){var e=goog.dom.getWindow();return goog.isDef(e.devicePixelRatio)?e.devicePixelRatio:e.matchMedia?goog.dom.matchesPixelRatio_(3)||goog.dom.matchesPixelRatio_(2)||goog.dom.matchesPixelRatio_(1.5)||goog.dom.matchesPixelRatio_(1)||.75:1},goog.dom.matchesPixelRatio_=function(e){return goog.dom.getWindow().matchMedia("(min-resolution: "+e+"dppx),(min--moz-device-pixel-ratio: "+e+"),(min-resolution: "+96*e+"dpi)").matches?e:0},goog.dom.getCanvasContext2D=function(e){return e.getContext("2d")},goog.dom.DomHelper=function(e){this.document_=e||goog.global.document||document},goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper,goog.dom.DomHelper.prototype.setDocument=function(e){this.document_=e},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.getElement=function(e){return goog.dom.getElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement,goog.dom.DomHelper.prototype.getElementsByTagName=function(e,t){return(t||this.document_).getElementsByTagName(String(e))},goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(e,t,o){return goog.dom.getElementsByTagNameAndClass_(this.document_,e,t,o)},goog.dom.DomHelper.prototype.getElementByTagNameAndClass=function(e,t,o){return goog.dom.getElementByTagNameAndClass_(this.document_,e,t,o)},goog.dom.DomHelper.prototype.getElementsByClass=function(e,t){return goog.dom.getElementsByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.getElementByClass=function(e,t){return goog.dom.getElementByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.getRequiredElementByClass=function(e,t){return goog.dom.getRequiredElementByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass,goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties,goog.dom.DomHelper.prototype.getViewportSize=function(e){return goog.dom.getViewportSize(e||this.getWindow())},goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())},goog.dom.DomHelper.prototype.createDom=function(e,t,o){return goog.dom.createDom_(this.document_,arguments)},goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom,goog.dom.DomHelper.prototype.createElement=function(e){return goog.dom.createElement_(this.document_,e)},goog.dom.DomHelper.prototype.createTextNode=function(e){return this.document_.createTextNode(String(e))},goog.dom.DomHelper.prototype.createTable=function(e,t,o){return goog.dom.createTable_(this.document_,e,t,!!o)},goog.dom.DomHelper.prototype.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(this.document_,e)},goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)},goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)},goog.dom.DomHelper.prototype.getActiveElement=function(e){return goog.dom.getActiveElement(e||this.document_)},goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild,goog.dom.DomHelper.prototype.append=goog.dom.append,goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren,goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren,goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore,goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter,goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt,goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode,goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode,goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement,goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren,goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild,goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild,goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling,goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling,goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode,goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode,goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike,goog.dom.DomHelper.prototype.isElement=goog.dom.isElement,goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow,goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement,goog.dom.DomHelper.prototype.contains=goog.dom.contains,goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder,goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor,goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument,goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument,goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow,goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent,goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml,goog.dom.DomHelper.prototype.findNode=goog.dom.findNode,goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes,goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex,goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex,goog.dom.DomHelper.prototype.isFocusable=goog.dom.isFocusable,goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent,goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength,goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset,goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset,goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList,goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass,goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass,goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor,goog.dom.DomHelper.prototype.getCanvasContext2D=goog.dom.getCanvasContext2D,goog.dom.vendor={},goog.dom.vendor.getVendorJsPrefix=function(){return goog.userAgent.WEBKIT?"Webkit":goog.userAgent.GECKO?"Moz":goog.userAgent.IE?"ms":goog.userAgent.OPERA?"O":null},goog.dom.vendor.getVendorPrefix=function(){return goog.userAgent.WEBKIT?"-webkit":goog.userAgent.GECKO?"-moz":goog.userAgent.IE?"-ms":goog.userAgent.OPERA?"-o":null},goog.dom.vendor.getPrefixedPropertyName=function(e,t){if(t&&e in t)return e;var o=goog.dom.vendor.getVendorJsPrefix();return o?(o=o.toLowerCase(),o+=goog.string.toTitleCase(e),!goog.isDef(t)||o in t?o:null):null},goog.dom.vendor.getPrefixedEventType=function(e){return((goog.dom.vendor.getVendorJsPrefix()||"")+e).toLowerCase()},goog.math.Box=function(e,t,o,n){this.top=e,this.right=t,this.bottom=o,this.left=n},goog.math.Box.boundingBox=function(e){for(var t=new goog.math.Box(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),o=1;o<arguments.length;o++)t.expandToIncludeCoordinate(arguments[o]);return t},goog.math.Box.prototype.getWidth=function(){return this.right-this.left},goog.math.Box.prototype.getHeight=function(){return this.bottom-this.top},goog.math.Box.prototype.clone=function(){return new goog.math.Box(this.top,this.right,this.bottom,this.left)},goog.DEBUG&&(goog.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"}),goog.math.Box.prototype.contains=function(e){return goog.math.Box.contains(this,e)},goog.math.Box.prototype.expand=function(e,t,o,n){return goog.isObject(e)?(this.top-=e.top,this.right+=e.right,this.bottom+=e.bottom,this.left-=e.left):(this.top-=e,this.right+=Number(t),this.bottom+=Number(o),this.left-=Number(n)),this},goog.math.Box.prototype.expandToInclude=function(e){this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.right=Math.max(this.right,e.right),this.bottom=Math.max(this.bottom,e.bottom)},goog.math.Box.prototype.expandToIncludeCoordinate=function(e){this.top=Math.min(this.top,e.y),this.right=Math.max(this.right,e.x),this.bottom=Math.max(this.bottom,e.y),this.left=Math.min(this.left,e.x)},goog.math.Box.equals=function(e,t){return e==t||!(!e||!t)&&(e.top==t.top&&e.right==t.right&&e.bottom==t.bottom&&e.left==t.left)},goog.math.Box.contains=function(e,t){return!(!e||!t)&&(t instanceof goog.math.Box?t.left>=e.left&&t.right<=e.right&&t.top>=e.top&&t.bottom<=e.bottom:t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom)},goog.math.Box.relativePositionX=function(e,t){return t.x<e.left?t.x-e.left:t.x>e.right?t.x-e.right:0},goog.math.Box.relativePositionY=function(e,t){return t.y<e.top?t.y-e.top:t.y>e.bottom?t.y-e.bottom:0},goog.math.Box.distance=function(e,t){var o=goog.math.Box.relativePositionX(e,t),n=goog.math.Box.relativePositionY(e,t);return Math.sqrt(o*o+n*n)},goog.math.Box.intersects=function(e,t){return e.left<=t.right&&t.left<=e.right&&e.top<=t.bottom&&t.top<=e.bottom},goog.math.Box.intersectsWithPadding=function(e,t,o){return e.left<=t.right+o&&t.left<=e.right+o&&e.top<=t.bottom+o&&t.top<=e.bottom+o},goog.math.Box.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},goog.math.Box.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},goog.math.Box.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},goog.math.Box.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.left+=e.x,this.right+=e.x,this.top+=e.y,this.bottom+=e.y):(goog.asserts.assertNumber(e),this.left+=e,this.right+=e,goog.isNumber(t)&&(this.top+=t,this.bottom+=t)),this},goog.math.Box.prototype.scale=function(e,t){var o=goog.isNumber(t)?t:e;return this.left*=e,this.right*=e,this.top*=o,this.bottom*=o,this},goog.math.IRect=function(){},goog.math.Rect=function(e,t,o,n){this.left=e,this.top=t,this.width=o,this.height=n},goog.math.Rect.prototype.clone=function(){return new goog.math.Rect(this.left,this.top,this.width,this.height)},goog.math.Rect.prototype.toBox=function(){return new goog.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)},goog.math.Rect.createFromPositionAndSize=function(e,t){return new goog.math.Rect(e.x,e.y,t.width,t.height)},goog.math.Rect.createFromBox=function(e){return new goog.math.Rect(e.left,e.top,e.right-e.left,e.bottom-e.top)},goog.DEBUG&&(goog.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"}),goog.math.Rect.equals=function(e,t){return e==t||!(!e||!t)&&(e.left==t.left&&e.width==t.width&&e.top==t.top&&e.height==t.height)},goog.math.Rect.prototype.intersection=function(e){var t=Math.max(this.left,e.left),o=Math.min(this.left+this.width,e.left+e.width);if(t<=o){var n=Math.max(this.top,e.top);if(e=Math.min(this.top+this.height,e.top+e.height),n<=e)return this.left=t,this.top=n,this.width=o-t,this.height=e-n,!0}return!1},goog.math.Rect.intersection=function(e,t){var o=Math.max(e.left,t.left),n=Math.min(e.left+e.width,t.left+t.width);if(o<=n){var i=Math.max(e.top,t.top),l=Math.min(e.top+e.height,t.top+t.height);if(i<=l)return new goog.math.Rect(o,i,n-o,l-i)}return null},goog.math.Rect.intersects=function(e,t){return e.left<=t.left+t.width&&t.left<=e.left+e.width&&e.top<=t.top+t.height&&t.top<=e.top+e.height},goog.math.Rect.prototype.intersects=function(e){return goog.math.Rect.intersects(this,e)},goog.math.Rect.difference=function(e,t){var o=goog.math.Rect.intersection(e,t);if(!o||!o.height||!o.width)return[e.clone()];o=[];var n=e.top,i=e.height,l=e.left+e.width,s=e.top+e.height,r=t.left+t.width,a=t.top+t.height;return t.top>e.top&&(o.push(new goog.math.Rect(e.left,e.top,e.width,t.top-e.top)),n=t.top,i-=t.top-e.top),a<s&&(o.push(new goog.math.Rect(e.left,a,e.width,s-a)),i=a-n),t.left>e.left&&o.push(new goog.math.Rect(e.left,n,t.left-e.left,i)),r<l&&o.push(new goog.math.Rect(r,n,l-r,i)),o},goog.math.Rect.prototype.difference=function(e){return goog.math.Rect.difference(this,e)},goog.math.Rect.prototype.boundingRect=function(e){var t=Math.max(this.left+this.width,e.left+e.width),o=Math.max(this.top+this.height,e.top+e.height);this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.width=t-this.left,this.height=o-this.top},goog.math.Rect.boundingRect=function(e,t){if(!e||!t)return null;var o=new goog.math.Rect(e.left,e.top,e.width,e.height);return o.boundingRect(t),o},goog.math.Rect.prototype.contains=function(e){return e instanceof goog.math.Coordinate?e.x>=this.left&&e.x<=this.left+this.width&&e.y>=this.top&&e.y<=this.top+this.height:this.left<=e.left&&this.left+this.width>=e.left+e.width&&this.top<=e.top&&this.top+this.height>=e.top+e.height},goog.math.Rect.prototype.squaredDistance=function(e){var t=e.x<this.left?this.left-e.x:Math.max(e.x-(this.left+this.width),0);return e=e.y<this.top?this.top-e.y:Math.max(e.y-(this.top+this.height),0),t*t+e*e},goog.math.Rect.prototype.distance=function(e){return Math.sqrt(this.squaredDistance(e))},goog.math.Rect.prototype.getSize=function(){return new goog.math.Size(this.width,this.height)},goog.math.Rect.prototype.getTopLeft=function(){return new goog.math.Coordinate(this.left,this.top)},goog.math.Rect.prototype.getCenter=function(){return new goog.math.Coordinate(this.left+this.width/2,this.top+this.height/2)},goog.math.Rect.prototype.getBottomRight=function(){return new goog.math.Coordinate(this.left+this.width,this.top+this.height)},goog.math.Rect.prototype.ceil=function(){return this.left=Math.ceil(this.left),this.top=Math.ceil(this.top),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Rect.prototype.floor=function(){return this.left=Math.floor(this.left),this.top=Math.floor(this.top),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Rect.prototype.round=function(){return this.left=Math.round(this.left),this.top=Math.round(this.top),this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Rect.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.left+=e.x,this.top+=e.y):(this.left+=goog.asserts.assertNumber(e),goog.isNumber(t)&&(this.top+=t)),this},goog.math.Rect.prototype.scale=function(e,t){var o=goog.isNumber(t)?t:e;return this.left*=e,this.width*=e,this.top*=o,this.height*=o,this},goog.style={},goog.style.setStyle=function(e,t,o){if(goog.isString(t))goog.style.setStyle_(e,o,t);else for(var n in t)goog.style.setStyle_(e,t[n],n)},goog.style.setStyle_=function(e,t,o){(o=goog.style.getVendorJsStyleName_(e,o))&&(e.style[o]=t)},goog.style.styleNameCache_={},goog.style.getVendorJsStyleName_=function(e,t){var o=goog.style.styleNameCache_[t];if(!o){var n=goog.string.toCamelCase(t);o=n,void 0===e.style[n]&&(n=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(n),void 0!==e.style[n]&&(o=n)),goog.style.styleNameCache_[t]=o}return o},goog.style.getVendorStyleName_=function(e,t){var o=goog.string.toCamelCase(t);return void 0===e.style[o]&&(o=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(o),void 0!==e.style[o])?goog.dom.vendor.getVendorPrefix()+"-"+t:t},goog.style.getStyle=function(e,t){var o=e.style[goog.string.toCamelCase(t)];return"undefined"!=typeof o?o:e.style[goog.style.getVendorJsStyleName_(e,t)]||""},goog.style.getComputedStyle=function(e,t){var o=goog.dom.getOwnerDocument(e);return o.defaultView&&o.defaultView.getComputedStyle&&(o=o.defaultView.getComputedStyle(e,null))?o[t]||o.getPropertyValue(t)||"":""},goog.style.getCascadedStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:null},goog.style.getStyle_=function(e,t){return goog.style.getComputedStyle(e,t)||goog.style.getCascadedStyle(e,t)||e.style&&e.style[t]},goog.style.getComputedBoxSizing=function(e){return goog.style.getStyle_(e,"boxSizing")||goog.style.getStyle_(e,"MozBoxSizing")||goog.style.getStyle_(e,"WebkitBoxSizing")||null},goog.style.getComputedPosition=function(e){return goog.style.getStyle_(e,"position")},goog.style.getBackgroundColor=function(e){return goog.style.getStyle_(e,"backgroundColor")},goog.style.getComputedOverflowX=function(e){return goog.style.getStyle_(e,"overflowX")},goog.style.getComputedOverflowY=function(e){return goog.style.getStyle_(e,"overflowY")},goog.style.getComputedZIndex=function(e){return goog.style.getStyle_(e,"zIndex")},goog.style.getComputedTextAlign=function(e){return goog.style.getStyle_(e,"textAlign")},goog.style.getComputedCursor=function(e){return goog.style.getStyle_(e,"cursor")},goog.style.getComputedTransform=function(e){var t=goog.style.getVendorStyleName_(e,"transform");return goog.style.getStyle_(e,t)||goog.style.getStyle_(e,"transform")},goog.style.setPosition=function(e,t,o){if(t instanceof goog.math.Coordinate){var n=t.x;t=t.y}else n=t,t=o;e.style.left=goog.style.getPixelStyleValue_(n,!1),e.style.top=goog.style.getPixelStyleValue_(t,!1)},goog.style.getPosition=function(e){return new goog.math.Coordinate(e.offsetLeft,e.offsetTop)},goog.style.getClientViewportElement=function(e){return e=e?goog.dom.getOwnerDocument(e):goog.dom.getDocument(),!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||goog.dom.getDomHelper(e).isCss1CompatMode()?e.documentElement:e.body},goog.style.getViewportPageOffset=function(e){var t=e.body;return e=e.documentElement,new goog.math.Coordinate(t.scrollLeft||e.scrollLeft,t.scrollTop||e.scrollTop)},goog.style.getBoundingClientRect_=function(e){try{var t=e.getBoundingClientRect()}catch(e){return{left:0,top:0,right:0,bottom:0}}return goog.userAgent.IE&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t},goog.style.getOffsetParent=function(e){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(8))return goog.asserts.assert(e&&"offsetParent"in e),e.offsetParent;var t=goog.dom.getOwnerDocument(e),o=goog.style.getStyle_(e,"position"),n="fixed"==o||"absolute"==o;for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(e.nodeType==goog.dom.NodeType.DOCUMENT_FRAGMENT&&e.host&&(e=e.host),o=goog.style.getStyle_(e,"position"),n=n&&"static"==o&&e!=t.documentElement&&e!=t.body,!n&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight||"fixed"==o||"absolute"==o||"relative"==o))return e;return null},goog.style.getVisibleRectForElement=function(e){for(var t=new goog.math.Box(0,1/0,1/0,0),o=goog.dom.getDomHelper(e),n=o.getDocument().body,i=o.getDocument().documentElement,l=o.getDocumentScrollElement();e=goog.style.getOffsetParent(e);)if(!(goog.userAgent.IE&&0==e.clientWidth||goog.userAgent.WEBKIT&&0==e.clientHeight&&e==n)&&e!=n&&e!=i&&"visible"!=goog.style.getStyle_(e,"overflow")){var s=goog.style.getPageOffset(e),r=goog.style.getClientLeftTop(e);s.x+=r.x,s.y+=r.y,t.top=Math.max(t.top,s.y),t.right=Math.min(t.right,s.x+e.clientWidth),t.bottom=Math.min(t.bottom,s.y+e.clientHeight),t.left=Math.max(t.left,s.x)}return n=l.scrollLeft,l=l.scrollTop,t.left=Math.max(t.left,n),t.top=Math.max(t.top,l),o=o.getViewportSize(),t.right=Math.min(t.right,n+o.width),t.bottom=Math.min(t.bottom,l+o.height),0<=t.top&&0<=t.left&&t.bottom>t.top&&t.right>t.left?t:null},goog.style.getContainerOffsetToScrollInto=function(e,t,o){var n=t||goog.dom.getDocumentScrollElement(),i=goog.style.getPageOffset(e),l=goog.style.getPageOffset(n),s=goog.style.getBorderBox(n);return n==goog.dom.getDocumentScrollElement()?(t=i.x-n.scrollLeft,i=i.y-n.scrollTop,goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(10)&&(t+=s.left,i+=s.top)):(t=i.x-l.x-s.left,i=i.y-l.y-s.top),s=goog.style.getSizeWithDisplay_(e),e=n.clientWidth-s.width,s=n.clientHeight-s.height,l=n.scrollLeft,n=n.scrollTop,o?(l+=t-e/2,n+=i-s/2):(l+=Math.min(t,Math.max(t-e,0)),n+=Math.min(i,Math.max(i-s,0))),new goog.math.Coordinate(l,n)},goog.style.scrollIntoContainerView=function(e,t,o){t=t||goog.dom.getDocumentScrollElement(),e=goog.style.getContainerOffsetToScrollInto(e,t,o),t.scrollLeft=e.x,t.scrollTop=e.y},goog.style.getClientLeftTop=function(e){return new goog.math.Coordinate(e.clientLeft,e.clientTop)},goog.style.getPageOffset=function(e){var t=goog.dom.getOwnerDocument(e);goog.asserts.assertObject(e,"Parameter is required");var o=new goog.math.Coordinate(0,0),n=goog.style.getClientViewportElement(t);return e==n?o:(e=goog.style.getBoundingClientRect_(e),t=goog.dom.getDomHelper(t).getDocumentScroll(),o.x=e.left+t.x,o.y=e.top+t.y,o)},goog.style.getPageOffsetLeft=function(e){return goog.style.getPageOffset(e).x},goog.style.getPageOffsetTop=function(e){return goog.style.getPageOffset(e).y},goog.style.getFramedPageOffset=function(e,t){var o=new goog.math.Coordinate(0,0),n=goog.dom.getWindow(goog.dom.getOwnerDocument(e));if(!goog.reflect.canAccessProperty(n,"parent"))return o;var i=e;do{var l=n==t?goog.style.getPageOffset(i):goog.style.getClientPositionForElement_(goog.asserts.assert(i));o.x+=l.x,o.y+=l.y}while(n&&n!=t&&n!=n.parent&&(i=n.frameElement)&&(n=n.parent));return o},goog.style.translateRectForAnotherFrame=function(e,t,o){if(t.getDocument()!=o.getDocument()){var n=t.getDocument().body;o=goog.style.getFramedPageOffset(n,o.getWindow()),o=goog.math.Coordinate.difference(o,goog.style.getPageOffset(n)),!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||t.isCss1CompatMode()||(o=goog.math.Coordinate.difference(o,t.getDocumentScroll())),e.left+=o.x,e.top+=o.y}},goog.style.getRelativePosition=function(e,t){var o=goog.style.getClientPosition(e),n=goog.style.getClientPosition(t);return new goog.math.Coordinate(o.x-n.x,o.y-n.y)},goog.style.getClientPositionForElement_=function(e){return e=goog.style.getBoundingClientRect_(e),new goog.math.Coordinate(e.left,e.top)},goog.style.getClientPosition=function(e){return goog.asserts.assert(e),e.nodeType==goog.dom.NodeType.ELEMENT?goog.style.getClientPositionForElement_(e):(e=e.changedTouches?e.changedTouches[0]:e,new goog.math.Coordinate(e.clientX,e.clientY))},goog.style.setPageOffset=function(e,t,o){var n=goog.style.getPageOffset(e);t instanceof goog.math.Coordinate&&(o=t.y,t=t.x),t=goog.asserts.assertNumber(t)-n.x,goog.style.setPosition(e,e.offsetLeft+t,e.offsetTop+(Number(o)-n.y))},goog.style.setSize=function(e,t,o){if(t instanceof goog.math.Size)o=t.height,t=t.width;else if(void 0==o)throw Error("missing height argument");goog.style.setWidth(e,t),goog.style.setHeight(e,o)},goog.style.getPixelStyleValue_=function(e,t){return"number"==typeof e&&(e=(t?Math.round(e):e)+"px"),e};goog.style.setHeight=function(e,t){e.style.height=goog.style.getPixelStyleValue_(t,!0)};goog.style.setWidth=function(e,t){e.style.width=goog.style.getPixelStyleValue_(t,!0)},goog.style.getSize=function(e){return goog.style.evaluateWithTemporaryDisplay_(goog.style.getSizeWithDisplay_,e)},goog.style.evaluateWithTemporaryDisplay_=function(e,t){if("none"!=goog.style.getStyle_(t,"display"))return e(t);var o=t.style,n=o.display,i=o.visibility,l=o.position;o.visibility="hidden",o.position="absolute",o.display="inline";var s=e(t);return o.display=n,o.position=l,o.visibility=i,s},goog.style.getSizeWithDisplay_=function(e){var t=e.offsetWidth,o=e.offsetHeight,n=goog.userAgent.WEBKIT&&!t&&!o;return goog.isDef(t)&&!n||!e.getBoundingClientRect?new goog.math.Size(t,o):(e=goog.style.getBoundingClientRect_(e),new goog.math.Size(e.right-e.left,e.bottom-e.top))},goog.style.getTransformedSize=function(e){return e.getBoundingClientRect?(e=goog.style.evaluateWithTemporaryDisplay_(goog.style.getBoundingClientRect_,e),new goog.math.Size(e.right-e.left,e.bottom-e.top)):null},goog.style.getBounds=function(e){var t=goog.style.getPageOffset(e);return e=goog.style.getSize(e),new goog.math.Rect(t.x,t.y,e.width,e.height)},goog.style.toCamelCase=function(e){return goog.string.toCamelCase(String(e))},goog.style.toSelectorCase=function(e){return goog.string.toSelectorCase(e)},goog.style.getOpacity=function(e){goog.asserts.assert(e);var t=e.style;return e="","opacity"in t?e=t.opacity:"MozOpacity"in t?e=t.MozOpacity:"filter"in t&&(t=t.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(e=String(t[1]/100)),""==e?e:Number(e)},goog.style.setOpacity=function(e,t){goog.asserts.assert(e);var o=e.style;"opacity"in o?o.opacity=t:"MozOpacity"in o?o.MozOpacity=t:"filter"in o&&(o.filter=""===t?"":"alpha(opacity="+100*Number(t)+")")},goog.style.setTransparentBackgroundImage=function(e,t){var o=e.style;goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?o.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+t+'", sizingMethod="crop")':(o.backgroundImage="url("+t+")",o.backgroundPosition="top left",o.backgroundRepeat="no-repeat");
},goog.style.clearTransparentBackgroundImage=function(e){e=e.style,"filter"in e?e.filter="":e.backgroundImage="none"},goog.style.showElement=function(e,t){goog.style.setElementShown(e,t)},goog.style.setElementShown=function(e,t){e.style.display=t?"":"none"},goog.style.isElementShown=function(e){return"none"!=e.style.display},goog.style.installSafeStyleSheet=function(e,t){var o=goog.dom.getDomHelper(t),n=o.getDocument();if(goog.userAgent.IE&&n.createStyleSheet)return o=n.createStyleSheet(),goog.style.setSafeStyleSheet(o,e),o;if(n=o.getElementsByTagNameAndClass("HEAD")[0],!n){var i=o.getElementsByTagNameAndClass("BODY")[0];n=o.createDom("HEAD"),i.parentNode.insertBefore(n,i)}return i=o.createDom("STYLE"),goog.style.setSafeStyleSheet(i,e),o.appendChild(n,i),i},goog.style.uninstallStyles=function(e){goog.dom.removeNode(e.ownerNode||e.owningElement||e)},goog.style.setSafeStyleSheet=function(e,t){var o=goog.html.SafeStyleSheet.unwrap(t);goog.userAgent.IE&&goog.isDef(e.cssText)?e.cssText=o:e.innerHTML=o},goog.style.setPreWrap=function(e){e=e.style,goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?(e.whiteSpace="pre",e.wordWrap="break-word"):e.whiteSpace=goog.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"},goog.style.setInlineBlock=function(e){e=e.style,e.position="relative",goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?(e.zoom="1",e.display="inline"):e.display="inline-block"},goog.style.isRightToLeft=function(e){return"rtl"==goog.style.getStyle_(e,"direction")},goog.style.unselectableStyle_=goog.userAgent.GECKO?"MozUserSelect":goog.userAgent.WEBKIT||goog.userAgent.EDGE?"WebkitUserSelect":null,goog.style.isUnselectable=function(e){return goog.style.unselectableStyle_?"none"==e.style[goog.style.unselectableStyle_].toLowerCase():!(!goog.userAgent.IE&&!goog.userAgent.OPERA)&&"on"==e.getAttribute("unselectable")},goog.style.setUnselectable=function(e,t,o){o=o?null:e.getElementsByTagName("*");var n=goog.style.unselectableStyle_;if(n){if(t=t?"none":"",e.style&&(e.style[n]=t),o){e=0;for(var i;i=o[e];e++)i.style&&(i.style[n]=t)}}else if((goog.userAgent.IE||goog.userAgent.OPERA)&&(t=t?"on":"",e.setAttribute("unselectable",t),o))for(e=0;i=o[e];e++)i.setAttribute("unselectable",t)},goog.style.getBorderBoxSize=function(e){return new goog.math.Size(e.offsetWidth,e.offsetHeight)},goog.style.setBorderBoxSize=function(e,t){var o=goog.dom.getOwnerDocument(e),n=goog.dom.getDomHelper(o).isCss1CompatMode();if(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||n&&goog.userAgent.isVersionOrHigher("8"))goog.style.setBoxSizingSize_(e,t,"border-box");else if(o=e.style,n){n=goog.style.getPaddingBox(e);var i=goog.style.getBorderBox(e);o.pixelWidth=t.width-i.left-n.left-n.right-i.right,o.pixelHeight=t.height-i.top-n.top-n.bottom-i.bottom}else o.pixelWidth=t.width,o.pixelHeight=t.height},goog.style.getContentBoxSize=function(e){var t=goog.dom.getOwnerDocument(e),o=goog.userAgent.IE&&e.currentStyle;return o&&goog.dom.getDomHelper(t).isCss1CompatMode()&&"auto"!=o.width&&"auto"!=o.height&&!o.boxSizing?(t=goog.style.getIePixelValue_(e,o.width,"width","pixelWidth"),e=goog.style.getIePixelValue_(e,o.height,"height","pixelHeight"),new goog.math.Size(t,e)):(o=goog.style.getBorderBoxSize(e),t=goog.style.getPaddingBox(e),e=goog.style.getBorderBox(e),new goog.math.Size(o.width-e.left-t.left-t.right-e.right,o.height-e.top-t.top-t.bottom-e.bottom))},goog.style.setContentBoxSize=function(e,t){var o=goog.dom.getOwnerDocument(e),n=goog.dom.getDomHelper(o).isCss1CompatMode();if(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||n&&goog.userAgent.isVersionOrHigher("8"))goog.style.setBoxSizingSize_(e,t,"content-box");else if(o=e.style,n)o.pixelWidth=t.width,o.pixelHeight=t.height;else{n=goog.style.getPaddingBox(e);var i=goog.style.getBorderBox(e);o.pixelWidth=t.width+i.left+n.left+n.right+i.right,o.pixelHeight=t.height+i.top+n.top+n.bottom+i.bottom}},goog.style.setBoxSizingSize_=function(e,t,o){e=e.style,goog.userAgent.GECKO?e.MozBoxSizing=o:goog.userAgent.WEBKIT?e.WebkitBoxSizing=o:e.boxSizing=o,e.width=Math.max(t.width,0)+"px",e.height=Math.max(t.height,0)+"px"},goog.style.getIePixelValue_=function(e,t,o,n){if(/^\d+px?$/.test(t))return parseInt(t,10);var i=e.style[o],l=e.runtimeStyle[o];return e.runtimeStyle[o]=e.currentStyle[o],e.style[o]=t,t=e.style[n],e.style[o]=i,e.runtimeStyle[o]=l,+t},goog.style.getIePixelDistance_=function(e,t){var o=goog.style.getCascadedStyle(e,t);return o?goog.style.getIePixelValue_(e,o,"left","pixelLeft"):0},goog.style.getBox_=function(e,t){if(goog.userAgent.IE){var o=goog.style.getIePixelDistance_(e,t+"Left"),n=goog.style.getIePixelDistance_(e,t+"Right"),i=goog.style.getIePixelDistance_(e,t+"Top"),l=goog.style.getIePixelDistance_(e,t+"Bottom");return new goog.math.Box(i,n,l,o)}return o=goog.style.getComputedStyle(e,t+"Left"),n=goog.style.getComputedStyle(e,t+"Right"),i=goog.style.getComputedStyle(e,t+"Top"),l=goog.style.getComputedStyle(e,t+"Bottom"),new goog.math.Box(parseFloat(i),parseFloat(n),parseFloat(l),parseFloat(o))},goog.style.getPaddingBox=function(e){return goog.style.getBox_(e,"padding")},goog.style.getMarginBox=function(e){return goog.style.getBox_(e,"margin")},goog.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6},goog.style.getIePixelBorder_=function(e,t){if("none"==goog.style.getCascadedStyle(e,t+"Style"))return 0;var o=goog.style.getCascadedStyle(e,t+"Width");return o in goog.style.ieBorderWidthKeywords_?goog.style.ieBorderWidthKeywords_[o]:goog.style.getIePixelValue_(e,o,"left","pixelLeft")},goog.style.getBorderBox=function(e){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){var t=goog.style.getIePixelBorder_(e,"borderLeft"),o=goog.style.getIePixelBorder_(e,"borderRight"),n=goog.style.getIePixelBorder_(e,"borderTop");return e=goog.style.getIePixelBorder_(e,"borderBottom"),new goog.math.Box(n,o,e,t)}return t=goog.style.getComputedStyle(e,"borderLeftWidth"),o=goog.style.getComputedStyle(e,"borderRightWidth"),n=goog.style.getComputedStyle(e,"borderTopWidth"),e=goog.style.getComputedStyle(e,"borderBottomWidth"),new goog.math.Box(parseFloat(n),parseFloat(o),parseFloat(e),parseFloat(t))},goog.style.getFontFamily=function(e){var t=goog.dom.getOwnerDocument(e),o="";if(t.body.createTextRange&&goog.dom.contains(t,e)){t=t.body.createTextRange(),t.moveToElementText(e);try{o=t.queryCommandValue("FontName")}catch(e){o=""}}return o||(o=goog.style.getStyle_(e,"fontFamily")),e=o.split(","),1<e.length&&(o=e[0]),goog.string.stripQuotes(o,"\"'")},goog.style.lengthUnitRegex_=/[^\d]+$/,goog.style.getLengthUnits=function(e){return(e=e.match(goog.style.lengthUnitRegex_))&&e[0]||null},goog.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,in:1,mm:1,pc:1,pt:1},goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1},goog.style.getFontSize=function(e){var t=goog.style.getStyle_(e,"fontSize"),o=goog.style.getLengthUnits(t);if(t&&"px"==o)return parseInt(t,10);if(goog.userAgent.IE){if(String(o)in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_)return goog.style.getIePixelValue_(e,t,"left","pixelLeft");if(e.parentNode&&e.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&String(o)in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_)return e=e.parentNode,o=goog.style.getStyle_(e,"fontSize"),goog.style.getIePixelValue_(e,t==o?"1em":t,"left","pixelLeft")}return o=goog.dom.createDom("SPAN",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"}),goog.dom.appendChild(e,o),t=o.offsetHeight,goog.dom.removeNode(o),t},goog.style.parseStyleAttribute=function(e){var t={};return goog.array.forEach(e.split(/\s*;\s*/),function(e){var o=e.match(/\s*([\w-]+)\s*:(.+)/);o&&(e=o[1],o=goog.string.trim(o[2]),t[goog.string.toCamelCase(e.toLowerCase())]=o)}),t},goog.style.toStyleAttribute=function(e){var t=[];return goog.object.forEach(e,function(e,o){t.push(goog.string.toSelectorCase(o),":",e,";")}),t.join("")},goog.style.setFloat=function(e,t){e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]=t},goog.style.getFloat=function(e){return e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]||""},goog.style.getScrollbarWidth=function(e){var t=goog.dom.createElement("DIV");return e&&(t.className=e),t.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px",e=goog.dom.createElement("DIV"),goog.style.setSize(e,"200px","200px"),t.appendChild(e),goog.dom.appendChild(goog.dom.getDocument().body,t),e=t.offsetWidth-t.clientWidth,goog.dom.removeNode(t),e},goog.style.MATRIX_TRANSLATION_REGEX_=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/,goog.style.getCssTranslation=function(e){return e=goog.style.getComputedTransform(e),e&&(e=e.match(goog.style.MATRIX_TRANSLATION_REGEX_))?new goog.math.Coordinate(parseFloat(e[1]),parseFloat(e[2])):new goog.math.Coordinate(0,0)},goog.debug.entryPointRegistry={},goog.debug.EntryPointMonitor=function(){},goog.debug.entryPointRegistry.refList_=[],goog.debug.entryPointRegistry.monitors_=[],goog.debug.entryPointRegistry.monitorsMayExist_=!1,goog.debug.entryPointRegistry.register=function(e){if(goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=e,goog.debug.entryPointRegistry.monitorsMayExist_)for(var t=goog.debug.entryPointRegistry.monitors_,o=0;o<t.length;o++)e(goog.bind(t[o].wrap,t[o]))},goog.debug.entryPointRegistry.monitorAll=function(e){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var t=goog.bind(e.wrap,e),o=0;o<goog.debug.entryPointRegistry.refList_.length;o++)goog.debug.entryPointRegistry.refList_[o](t);goog.debug.entryPointRegistry.monitors_.push(e)},goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var t=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(e==t[t.length-1],"Only the most recent monitor can be unwrapped."),e=goog.bind(e.unwrap,e);for(var o=0;o<goog.debug.entryPointRegistry.refList_.length;o++)goog.debug.entryPointRegistry.refList_[o](e);t.length--},goog.debug.errorcontext={},goog.debug.errorcontext.addErrorContext=function(e,t,o){e[goog.debug.errorcontext.CONTEXT_KEY_]||(e[goog.debug.errorcontext.CONTEXT_KEY_]={}),e[goog.debug.errorcontext.CONTEXT_KEY_][t]=o},goog.debug.errorcontext.getErrorContext=function(e){return e[goog.debug.errorcontext.CONTEXT_KEY_]||{}},goog.debug.errorcontext.CONTEXT_KEY_="__closure__error__context__984382",goog.debug.LOGGING_ENABLED=goog.DEBUG,goog.debug.FORCE_SLOPPY_STACKS=!1,goog.debug.catchErrors=function(e,t,o){o=o||goog.global;var n=o.onerror,i=!!t;goog.userAgent.WEBKIT&&!goog.userAgent.isVersionOrHigher("535.3")&&(i=!i),o.onerror=function(t,o,l,s,r){return n&&n(t,o,l,s,r),e({message:t,fileName:o,line:l,lineNumber:l,col:s,error:r}),i}},goog.debug.expose=function(e,t){if("undefined"==typeof e)return"undefined";if(null==e)return"NULL";var o,n=[];for(o in e)if(t||!goog.isFunction(e[o])){var i=o+" = ";try{i+=e[o]}catch(e){i+="*** "+e+" ***"}n.push(i)}return n.join("\n")},goog.debug.deepExpose=function(e,t){var o=[],n=[],i={},l=function(e,s){var r=s+"  ";try{if(goog.isDef(e))if(goog.isNull(e))o.push("NULL");else if(goog.isString(e))o.push('"'+e.replace(/\n/g,"\n"+s)+'"');else if(goog.isFunction(e))o.push(String(e).replace(/\n/g,"\n"+s));else if(goog.isObject(e)){goog.hasUid(e)||n.push(e);var a=goog.getUid(e);if(i[a])o.push("*** reference loop detected (id="+a+") ***");else{i[a]=!0,o.push("{");for(var c in e)!t&&goog.isFunction(e[c])||(o.push("\n"),o.push(r),o.push(c+" = "),l(e[c],r));o.push("\n"+s+"}"),delete i[a]}}else o.push(e);else o.push("undefined")}catch(e){o.push("*** "+e+" ***")}};l(e,"");for(var s=0;s<n.length;s++)goog.removeUid(n[s]);return o.join("")},goog.debug.exposeArray=function(e){for(var t=[],o=0;o<e.length;o++)goog.isArray(e[o])?t.push(goog.debug.exposeArray(e[o])):t.push(e[o]);return"[ "+t.join(", ")+" ]"},goog.debug.normalizeErrorObject=function(e){var t=goog.getObjectByName("window.location.href");if(goog.isString(e))return{message:e,name:"Unknown error",lineNumber:"Not available",fileName:t,stack:"Not available"};var o=!1;try{var n=e.lineNumber||e.line||"Not available"}catch(e){n="Not available",o=!0}try{var i=e.fileName||e.filename||e.sourceURL||goog.global.$googDebugFname||t}catch(e){i="Not available",o=!0}return!o&&e.lineNumber&&e.fileName&&e.stack&&e.message&&e.name?e:{message:e.message||"Not available",name:e.name||"UnknownError",lineNumber:n,fileName:i,stack:e.stack||"Not available"}},goog.debug.enhanceError=function(e,t){if(e instanceof Error)var o=e;else o=Error(e),Error.captureStackTrace&&Error.captureStackTrace(o,goog.debug.enhanceError);if(o.stack||(o.stack=goog.debug.getStacktrace(goog.debug.enhanceError)),t){for(var n=0;o["message"+n];)++n;o["message"+n]=String(t)}return o},goog.debug.enhanceErrorWithContext=function(e,t){var o=goog.debug.enhanceError(e);if(t)for(var n in t)goog.debug.errorcontext.addErrorContext(o,n,t[n]);return o},goog.debug.getStacktraceSimple=function(e){if(!goog.debug.FORCE_SLOPPY_STACKS){var t=goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);if(t)return t}t=[];for(var o=arguments.callee.caller,n=0;o&&(!e||n<e);){t.push(goog.debug.getFunctionName(o)),t.push("()\n");try{o=o.caller}catch(e){t.push("[exception trying to get caller]\n");break}if(n++,n>=goog.debug.MAX_STACK_DEPTH){t.push("[...long stack...]");break}}return e&&n>=e?t.push("[...reached max depth limit...]"):t.push("[end]"),t.join("")},goog.debug.MAX_STACK_DEPTH=50,goog.debug.getNativeStackTrace_=function(e){var t=Error();if(Error.captureStackTrace)return Error.captureStackTrace(t,e),String(t.stack);try{throw t}catch(e){t=e}return(e=t.stack)?String(e):null},goog.debug.getStacktrace=function(e){var t;return goog.debug.FORCE_SLOPPY_STACKS||(t=goog.debug.getNativeStackTrace_(e||goog.debug.getStacktrace)),t||(t=goog.debug.getStacktraceHelper_(e||arguments.callee.caller,[])),t},goog.debug.getStacktraceHelper_=function(e,t){var o=[];if(goog.array.contains(t,e))o.push("[...circular reference...]");else if(e&&t.length<goog.debug.MAX_STACK_DEPTH){o.push(goog.debug.getFunctionName(e)+"(");for(var n=e.arguments,i=0;n&&i<n.length;i++){0<i&&o.push(", ");var l=n[i];switch(typeof l){case"object":l=l?"object":"null";break;case"string":break;case"number":l=String(l);break;case"boolean":l=l?"true":"false";break;case"function":l=(l=goog.debug.getFunctionName(l))?l:"[fn]";break;default:l=typeof l}40<l.length&&(l=l.substr(0,40)+"..."),o.push(l)}t.push(e),o.push(")\n");try{o.push(goog.debug.getStacktraceHelper_(e.caller,t))}catch(e){o.push("[exception trying to get caller]\n")}}else e?o.push("[...long stack...]"):o.push("[end]");return o.join("")},goog.debug.setFunctionResolver=function(e){goog.debug.fnNameResolver_=e},goog.debug.getFunctionName=function(e){if(goog.debug.fnNameCache_[e])return goog.debug.fnNameCache_[e];if(goog.debug.fnNameResolver_){var t=goog.debug.fnNameResolver_(e);if(t)return goog.debug.fnNameCache_[e]=t}return e=String(e),goog.debug.fnNameCache_[e]||(t=/function\s+([^\(]+)/m.exec(e),goog.debug.fnNameCache_[e]=t?t[1]:"[Anonymous]"),goog.debug.fnNameCache_[e]},goog.debug.makeWhitespaceVisible=function(e){return e.replace(/ /g,"[_]").replace(/\f/g,"[f]").replace(/\n/g,"[n]\n").replace(/\r/g,"[r]").replace(/\t/g,"[t]")},goog.debug.runtimeType=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.debug.fnNameCache_={},goog.debug.freezeInternal_=goog.DEBUG&&Object.freeze||function(e){return e},goog.debug.freeze=function(e){return goog.debug.freezeInternal_(e)},goog.events={},$jscomp.scope.purify=function(e){return{valueOf:e}.valueOf()},goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersionOrHigher("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("8")||goog.userAgent.OPERA&&goog.userAgent.isVersionOrHigher("9.5")||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersionOrHigher("8")||goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),TOUCH_ENABLED:"ontouchstart"in goog.global||!!(goog.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!goog.global.navigator||!goog.global.navigator.maxTouchPoints&&!goog.global.navigator.msMaxTouchPoints),POINTER_EVENTS:"PointerEvent"in goog.global,MSPOINTER_EVENTS:"MSPointerEvent"in goog.global&&!(!goog.global.navigator||!goog.global.navigator.msPointerEnabled),PASSIVE_EVENTS:(0,$jscomp.scope.purify)(function(){if(!goog.global.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{goog.global.addEventListener("test",goog.nullFunction,t),goog.global.removeEventListener("test",goog.nullFunction,t)}catch(e){}return e})},goog.disposable={},goog.disposable.IDisposable=function(){},goog.disposable.IDisposable.prototype.dispose=goog.abstractMethod,goog.disposable.IDisposable.prototype.isDisposed=goog.abstractMethod,goog.Disposable=function(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(goog.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=Error().stack),goog.Disposable.instances_[goog.getUid(this)]=this),this.disposed_=this.disposed_,this.onDisposeCallbacks_=this.onDisposeCallbacks_},goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2},goog.Disposable.MONITORING_MODE=0,goog.Disposable.INCLUDE_STACK_ON_CREATION=!0,goog.Disposable.instances_={},goog.Disposable.getUndisposedObjects=function(){var e,t=[];for(e in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(e)&&t.push(goog.Disposable.instances_[Number(e)]);return t},goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}},goog.Disposable.prototype.disposed_=!1,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var e=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(e))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");if(goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&this.onDisposeCallbacks_&&0<this.onDisposeCallbacks_.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete goog.Disposable.instances_[e]}},goog.Disposable.prototype.registerDisposable=function(e){this.addOnDisposeCallback(goog.partial(goog.dispose,e))},goog.Disposable.prototype.addOnDisposeCallback=function(e,t){this.disposed_?goog.isDef(t)?e.call(t):e():(this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(goog.isDef(t)?goog.bind(e,t):e))},goog.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},goog.Disposable.isDisposed=function(e){return!(!e||"function"!=typeof e.isDisposed)&&e.isDisposed()},goog.dispose=function(e){e&&"function"==typeof e.dispose&&e.dispose()},goog.disposeAll=function(e){for(var t=0,o=arguments.length;t<o;++t){var n=arguments[t];goog.isArrayLike(n)?goog.disposeAll.apply(null,n):goog.dispose(n)}},goog.events.EventId=function(e){this.id=e},goog.events.EventId.prototype.toString=function(){return this.id},goog.events.Event=function(e,t){this.type=e instanceof goog.events.EventId?String(e):e,this.currentTarget=this.target=t,this.defaultPrevented=this.propagationStopped_=!1,this.returnValue_=!0},goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1},goog.events.Event.stopPropagation=function(e){e.stopPropagation()},goog.events.Event.preventDefault=function(e){e.preventDefault()},goog.events.getVendorPrefixedName_=function(e){return goog.userAgent.WEBKIT?"webkit"+e:goog.userAgent.OPERA?"o"+e.toLowerCase():e.toLowerCase()},goog.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSECANCEL:"mousecancel",SELECTIONCHANGE:"selectionchange",SELECTSTART:"selectstart",WHEEL:"wheel",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:"focusin",FOCUSOUT:"focusout",CHANGE:"change",RESET:"reset",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DEVICECHANGE:"devicechange",DEVICEMOTION:"devicemotion",DEVICEORIENTATION:"deviceorientation",DOMCONTENTLOADED:"DOMContentLoaded",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",CANPLAY:"canplay",CANPLAYTHROUGH:"canplaythrough",DURATIONCHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",LOADEDDATA:"loadeddata",LOADEDMETADATA:"loadedmetadata",PAUSE:"pause",PLAY:"play",PLAYING:"playing",RATECHANGE:"ratechange",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIMEUPDATE:"timeupdate",VOLUMECHANGE:"volumechange",WAITING:"waiting",SOURCEOPEN:"sourceopen",SOURCEENDED:"sourceended",SOURCECLOSED:"sourceclosed",ABORT:"abort",UPDATE:"update",UPDATESTART:"updatestart",UPDATEEND:"updateend",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",INSTALL:"install",ACTIVATE:"activate",FETCH:"fetch",FOREIGNFETCH:"foreignfetch",MESSAGEERROR:"messageerror",STATECHANGE:"statechange",UPDATEFOUND:"updatefound",CONTROLLERCHANGE:"controllerchange",ANIMATIONSTART:goog.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:goog.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:goog.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:goog.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXT:"text",TEXTINPUT:goog.userAgent.IE?"textinput":"textInput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",BEFOREINPUT:"beforeinput",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified",BEFOREPRINT:"beforeprint",AFTERPRINT:"afterprint",BEFOREINSTALLPROMPT:"beforeinstallprompt",APPINSTALLED:"appinstalled"},goog.events.getPointerFallbackEventName_=function(e,t,o){return goog.events.BrowserFeature.POINTER_EVENTS?e:goog.events.BrowserFeature.MSPOINTER_EVENTS?t:o},goog.events.PointerFallbackEventType={POINTERDOWN:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERDOWN,goog.events.EventType.MSPOINTERDOWN,goog.events.EventType.MOUSEDOWN),POINTERUP:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERUP,goog.events.EventType.MSPOINTERUP,goog.events.EventType.MOUSEUP),POINTERCANCEL:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERCANCEL,goog.events.EventType.MSPOINTERCANCEL,goog.events.EventType.MOUSECANCEL),POINTERMOVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERMOVE,goog.events.EventType.MSPOINTERMOVE,goog.events.EventType.MOUSEMOVE),POINTEROVER:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROVER,goog.events.EventType.MSPOINTEROVER,goog.events.EventType.MOUSEOVER),POINTEROUT:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROUT,goog.events.EventType.MSPOINTEROUT,goog.events.EventType.MOUSEOUT),POINTERENTER:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERENTER,goog.events.EventType.MSPOINTERENTER,goog.events.EventType.MOUSEENTER),POINTERLEAVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERLEAVE,goog.events.EventType.MSPOINTERLEAVE,goog.events.EventType.MOUSELEAVE)},goog.events.PointerTouchFallbackEventType={POINTERDOWN:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERDOWN,goog.events.EventType.MSPOINTERDOWN,goog.events.EventType.TOUCHSTART),POINTERUP:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERUP,goog.events.EventType.MSPOINTERUP,goog.events.EventType.TOUCHEND),POINTERCANCEL:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERCANCEL,goog.events.EventType.MSPOINTERCANCEL,goog.events.EventType.TOUCHCANCEL),POINTERMOVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERMOVE,goog.events.EventType.MSPOINTERMOVE,goog.events.EventType.TOUCHMOVE)},goog.events.PointerAsMouseEventType={MOUSEDOWN:goog.events.PointerFallbackEventType.POINTERDOWN,MOUSEUP:goog.events.PointerFallbackEventType.POINTERUP,MOUSECANCEL:goog.events.PointerFallbackEventType.POINTERCANCEL,MOUSEMOVE:goog.events.PointerFallbackEventType.POINTERMOVE,MOUSEOVER:goog.events.PointerFallbackEventType.POINTEROVER,MOUSEOUT:goog.events.PointerFallbackEventType.POINTEROUT,MOUSEENTER:goog.events.PointerFallbackEventType.POINTERENTER,MOUSELEAVE:goog.events.PointerFallbackEventType.POINTERLEAVE},goog.events.PointerAsTouchEventType={TOUCHCANCEL:goog.events.PointerTouchFallbackEventType.POINTERCANCEL,TOUCHEND:goog.events.PointerTouchFallbackEventType.POINTERUP,TOUCHMOVE:goog.events.PointerTouchFallbackEventType.POINTERMOVE,TOUCHSTART:goog.events.PointerTouchFallbackEventType.POINTERDOWN},goog.events.BrowserEvent=function(e,t){goog.events.Event.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.platformModifierKey=!1,this.pointerId=0,this.pointerType="",this.event_=null,e&&this.init(e,t)},goog.inherits(goog.events.BrowserEvent,goog.events.Event),goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2},goog.events.BrowserEvent.PointerType={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"},goog.events.BrowserEvent.IEButtonMap=goog.debug.freeze([1,4,2]),goog.events.BrowserEvent.IE_BUTTON_MAP=goog.events.BrowserEvent.IEButtonMap,goog.events.BrowserEvent.IE_POINTER_TYPE_MAP=goog.debug.freeze({2:goog.events.BrowserEvent.PointerType.TOUCH,3:goog.events.BrowserEvent.PointerType.PEN,4:goog.events.BrowserEvent.PointerType.MOUSE}),goog.events.BrowserEvent.prototype.init=function(e,t){var o=this.type=e.type,n=e.changedTouches?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.currentTarget=t;var i=e.relatedTarget;i?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(i,"nodeName")||(i=null)):o==goog.events.EventType.MOUSEOVER?i=e.fromElement:o==goog.events.EventType.MOUSEOUT&&(i=e.toElement),this.relatedTarget=i,goog.isNull(n)?(this.offsetX=goog.userAgent.WEBKIT||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=goog.userAgent.WEBKIT||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.charCode=e.charCode||("keypress"==o?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.platformModifierKey=goog.userAgent.MAC?e.metaKey:e.ctrlKey,this.pointerId=e.pointerId||0,this.pointerType=goog.events.BrowserEvent.getPointerType_(e),this.state=e.state,this.event_=e,e.defaultPrevented&&this.preventDefault()},goog.events.BrowserEvent.prototype.isButton=function(e){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==e:"click"==this.type?e==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IE_BUTTON_MAP[e])},goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)},goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var e=this.event_;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},goog.events.BrowserEvent.getPointerType_=function(e){return goog.isString(e.pointerType)?e.pointerType:goog.events.BrowserEvent.IE_POINTER_TYPE_MAP[e.pointerType]||""},goog.events.Listenable=function(){},goog.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1e6*Math.random()|0),goog.events.Listenable.addImplementation=function(e){e.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP]=!0},goog.events.Listenable.isImplementedBy=function(e){return!(!e||!e[goog.events.Listenable.IMPLEMENTED_BY_PROP])},goog.events.ListenableKey=function(){},goog.events.ListenableKey.counter_=0,goog.events.ListenableKey.reserveKey=function(){return++goog.events.ListenableKey.counter_},goog.events.Listener=function(e,t,o,n,i,l){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack),this.listener=e,this.proxy=t,this.src=o,
this.type=n,this.capture=!!i,this.handler=l,this.key=goog.events.ListenableKey.reserveKey(),this.removed=this.callOnce=!1},goog.events.Listener.ENABLE_MONITORING=!1,goog.events.Listener.prototype.markAsRemoved=function(){this.removed=!0,this.handler=this.src=this.proxy=this.listener=null},goog.events.ListenerMap=function(e){this.src=e,this.listeners={},this.typeCount_=0},goog.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_},goog.events.ListenerMap.prototype.getListenerCount=function(){var e,t=0;for(e in this.listeners)t+=this.listeners[e].length;return t},goog.events.ListenerMap.prototype.add=function(e,t,o,n,i){var l=e.toString();e=this.listeners[l],e||(e=this.listeners[l]=[],this.typeCount_++);var s=goog.events.ListenerMap.findListenerIndex_(e,t,n,i);return-1<s?(t=e[s],o||(t.callOnce=!1)):(t=new goog.events.Listener(t,null,this.src,l,!!n,i),t.callOnce=o,e.push(t)),t},goog.events.ListenerMap.prototype.remove=function(e,t,o,n){if(e=e.toString(),!(e in this.listeners))return!1;var i=this.listeners[e];return t=goog.events.ListenerMap.findListenerIndex_(i,t,o,n),-1<t&&(i[t].markAsRemoved(),goog.array.removeAt(i,t),0==i.length&&(delete this.listeners[e],this.typeCount_--),!0)},goog.events.ListenerMap.prototype.removeByKey=function(e){var t=e.type;if(!(t in this.listeners))return!1;var o=goog.array.remove(this.listeners[t],e);return o&&(e.markAsRemoved(),0==this.listeners[t].length&&(delete this.listeners[t],this.typeCount_--)),o},goog.events.ListenerMap.prototype.removeAll=function(e){e=e&&e.toString();var t,o=0;for(t in this.listeners)if(!e||t==e){for(var n=this.listeners[t],i=0;i<n.length;i++)++o,n[i].markAsRemoved();delete this.listeners[t],this.typeCount_--}return o},goog.events.ListenerMap.prototype.getListeners=function(e,t){var o=this.listeners[e.toString()],n=[];if(o)for(var i=0;i<o.length;++i){var l=o[i];l.capture==t&&n.push(l)}return n},goog.events.ListenerMap.prototype.getListener=function(e,t,o,n){e=this.listeners[e.toString()];var i=-1;return e&&(i=goog.events.ListenerMap.findListenerIndex_(e,t,o,n)),-1<i?e[i]:null},goog.events.ListenerMap.prototype.hasListener=function(e,t){var o=goog.isDef(e),n=o?e.toString():"",i=goog.isDef(t);return goog.object.some(this.listeners,function(e,l){for(var s=0;s<e.length;++s)if(!(o&&e[s].type!=n||i&&e[s].capture!=t))return!0;return!1})},goog.events.ListenerMap.findListenerIndex_=function(e,t,o,n){for(var i=0;i<e.length;++i){var l=e[i];if(!l.removed&&l.listener==t&&l.capture==!!o&&l.handler==n)return i}return-1},goog.events.LISTENER_MAP_PROP_="closure_lm_"+(1e6*Math.random()|0),goog.events.onString_="on",goog.events.onStringMap_={},goog.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2},goog.events.CAPTURE_SIMULATION_MODE=2,goog.events.listenerCountEstimate_=0,goog.events.listen=function(e,t,o,n,i){if(n&&n.once)return goog.events.listenOnce(e,t,o,n,i);if(goog.isArray(t)){for(var l=0;l<t.length;l++)goog.events.listen(e,t[l],o,n,i);return null}return o=goog.events.wrapListener(o),goog.events.Listenable.isImplementedBy(e)?(n=goog.isObject(n)?!!n.capture:!!n,e.listen(t,o,n,i)):goog.events.listen_(e,t,o,!1,n,i)},goog.events.listen_=function(e,t,o,n,i,l){if(!t)throw Error("Invalid event type");var s=goog.isObject(i)?!!i.capture:!!i;if(s&&!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_FAIL)return goog.asserts.fail("Can not register capture listener in IE8-."),null;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_SILENT)return null}var r=goog.events.getListenerMap_(e);if(r||(e[goog.events.LISTENER_MAP_PROP_]=r=new goog.events.ListenerMap(e)),o=r.add(t,o,n,s,l),o.proxy)return o;if(n=goog.events.getProxy(),o.proxy=n,n.src=e,n.listener=o,e.addEventListener)goog.events.BrowserFeature.PASSIVE_EVENTS||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),n,i);else if(e.attachEvent)e.attachEvent(goog.events.getOnString_(t.toString()),n);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");goog.asserts.assert("change"===t,"MediaQueryList only has a change event"),e.addListener(n)}return goog.events.listenerCountEstimate_++,o},goog.events.getProxy=function(){var e=goog.events.handleBrowserEvent_,t=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(o){return e.call(t.src,t.listener,o)}:function(o){if(o=e.call(t.src,t.listener,o),!o)return o};return t},goog.events.listenOnce=function(e,t,o,n,i){if(goog.isArray(t)){for(var l=0;l<t.length;l++)goog.events.listenOnce(e,t[l],o,n,i);return null}return o=goog.events.wrapListener(o),goog.events.Listenable.isImplementedBy(e)?(n=goog.isObject(n)?!!n.capture:!!n,e.listenOnce(t,o,n,i)):goog.events.listen_(e,t,o,!0,n,i)},goog.events.listenWithWrapper=function(e,t,o,n,i){t.listen(e,o,n,i)},goog.events.unlisten=function(e,t,o,n,i){if(goog.isArray(t)){for(var l=0;l<t.length;l++)goog.events.unlisten(e,t[l],o,n,i);return null}return n=goog.isObject(n)?!!n.capture:!!n,o=goog.events.wrapListener(o),goog.events.Listenable.isImplementedBy(e)?e.unlisten(t,o,n,i):!!e&&(!(!(e=goog.events.getListenerMap_(e))||!(t=e.getListener(t,o,n,i)))&&goog.events.unlistenByKey(t))},goog.events.unlistenByKey=function(e){if(goog.isNumber(e)||!e||e.removed)return!1;var t=e.src;if(goog.events.Listenable.isImplementedBy(t))return t.unlistenByKey(e);var o=e.type,n=e.proxy;return t.removeEventListener?t.removeEventListener(o,n,e.capture):t.detachEvent?t.detachEvent(goog.events.getOnString_(o),n):t.addListener&&t.removeListener&&t.removeListener(n),goog.events.listenerCountEstimate_--,(o=goog.events.getListenerMap_(t))?(o.removeByKey(e),0==o.getTypeCount()&&(o.src=null,t[goog.events.LISTENER_MAP_PROP_]=null)):e.markAsRemoved(),!0},goog.events.unlistenWithWrapper=function(e,t,o,n,i){t.unlisten(e,o,n,i)},goog.events.removeAll=function(e,t){if(!e)return 0;if(goog.events.Listenable.isImplementedBy(e))return e.removeAllListeners(t);var o=goog.events.getListenerMap_(e);if(!o)return 0;var n,i=0,l=t&&t.toString();for(n in o.listeners)if(!l||n==l)for(var s=o.listeners[n].concat(),r=0;r<s.length;++r)goog.events.unlistenByKey(s[r])&&++i;return i},goog.events.getListeners=function(e,t,o){return goog.events.Listenable.isImplementedBy(e)?e.getListeners(t,o):e&&(e=goog.events.getListenerMap_(e))?e.getListeners(t,o):[]},goog.events.getListener=function(e,t,o,n,i){return o=goog.events.wrapListener(o),n=!!n,goog.events.Listenable.isImplementedBy(e)?e.getListener(t,o,n,i):e&&(e=goog.events.getListenerMap_(e))?e.getListener(t,o,n,i):null},goog.events.hasListener=function(e,t,o){return goog.events.Listenable.isImplementedBy(e)?e.hasListener(t,o):(e=goog.events.getListenerMap_(e),!!e&&e.hasListener(t,o))},goog.events.expose=function(e){var t,o=[];for(t in e)e[t]&&e[t].id?o.push(t+" = "+e[t]+" ("+e[t].id+")"):o.push(t+" = "+e[t]);return o.join("\n")},goog.events.getOnString_=function(e){return e in goog.events.onStringMap_?goog.events.onStringMap_[e]:goog.events.onStringMap_[e]=goog.events.onString_+e},goog.events.fireListeners=function(e,t,o,n){return goog.events.Listenable.isImplementedBy(e)?e.fireListeners(t,o,n):goog.events.fireListeners_(e,t,o,n)},goog.events.fireListeners_=function(e,t,o,n){var i=!0;if((e=goog.events.getListenerMap_(e))&&(t=e.listeners[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var l=t[e];l&&l.capture==o&&!l.removed&&(l=goog.events.fireListener(l,n),i=i&&!1!==l)}return i},goog.events.fireListener=function(e,t){var o=e.listener,n=e.handler||e.src;return e.callOnce&&goog.events.unlistenByKey(e),o.call(n,t)},goog.events.getTotalListenerCount=function(){return goog.events.listenerCountEstimate_},goog.events.dispatchEvent=function(e,t){return goog.asserts.assert(goog.events.Listenable.isImplementedBy(e),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance."),e.dispatchEvent(t)},goog.events.protectBrowserEventEntryPoint=function(e){goog.events.handleBrowserEvent_=e.protectEntryPoint(goog.events.handleBrowserEvent_)},goog.events.handleBrowserEvent_=function(e,t){if(e.removed)return!0;if(!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){var o=t||goog.getObjectByName("window.event"),n=new goog.events.BrowserEvent(o,this),i=!0;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.ON){if(!goog.events.isMarkedIeEvent_(o)){goog.events.markIeEvent_(o),o=[];for(var l=n.currentTarget;l;l=l.parentNode)o.push(l);l=e.type;for(var s=o.length-1;!n.propagationStopped_&&0<=s;s--){n.currentTarget=o[s];var r=goog.events.fireListeners_(o[s],l,!0,n);i=i&&r}for(s=0;!n.propagationStopped_&&s<o.length;s++)n.currentTarget=o[s],r=goog.events.fireListeners_(o[s],l,!1,n),i=i&&r}}else i=goog.events.fireListener(e,n);return i}return goog.events.fireListener(e,new goog.events.BrowserEvent(t,this))},goog.events.markIeEvent_=function(e){var t=!1;if(0==e.keyCode)try{return void(e.keyCode=-1)}catch(e){t=!0}(t||void 0==e.returnValue)&&(e.returnValue=!0)},goog.events.isMarkedIeEvent_=function(e){return 0>e.keyCode||void 0!=e.returnValue},goog.events.uniqueIdCounter_=0,goog.events.getUniqueId=function(e){return e+"_"+goog.events.uniqueIdCounter_++},goog.events.getListenerMap_=function(e){return e=e[goog.events.LISTENER_MAP_PROP_],e instanceof goog.events.ListenerMap?e:null},goog.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1e9*Math.random()>>>0),goog.events.wrapListener=function(e){return goog.asserts.assert(e,"Listener can not be null."),goog.isFunction(e)?e:(goog.asserts.assert(e.handleEvent,"An object listener must have handleEvent method."),e[goog.events.LISTENER_WRAPPER_PROP_]||(e[goog.events.LISTENER_WRAPPER_PROP_]=function(t){return e.handleEvent(t)}),e[goog.events.LISTENER_WRAPPER_PROP_])},goog.debug.entryPointRegistry.register(function(e){goog.events.handleBrowserEvent_=e(goog.events.handleBrowserEvent_)}),goog.Thenable=function(){},goog.Thenable.prototype.then=function(e,t,o){},goog.Thenable.IMPLEMENTED_BY_PROP="$goog_Thenable",goog.Thenable.addImplementation=function(e){e.prototype.then=e.prototype.then,COMPILED?e.prototype[goog.Thenable.IMPLEMENTED_BY_PROP]=!0:e.prototype.$goog_Thenable=!0},goog.Thenable.isImplementedBy=function(e){if(!e)return!1;try{return COMPILED?!!e[goog.Thenable.IMPLEMENTED_BY_PROP]:!!e.$goog_Thenable}catch(e){return!1}},goog.async={},goog.async.FreeList=function(e,t,o){this.limit_=o,this.create_=e,this.reset_=t,this.occupants_=0,this.head_=null},goog.async.FreeList.prototype.get=function(){if(0<this.occupants_){this.occupants_--;var e=this.head_;this.head_=e.next,e.next=null}else e=this.create_();return e},goog.async.FreeList.prototype.put=function(e){this.reset_(e),this.occupants_<this.limit_&&(this.occupants_++,e.next=this.head_,this.head_=e)};goog.async.FreeList.prototype.occupants=function(){return this.occupants_};goog.async.WorkQueue=function(){this.workTail_=this.workHead_=null},goog.async.WorkQueue.DEFAULT_MAX_UNUSED=100,goog.async.WorkQueue.freelist_=new goog.async.FreeList(function(){return new goog.async.WorkItem},function(e){e.reset()},goog.async.WorkQueue.DEFAULT_MAX_UNUSED),goog.async.WorkQueue.prototype.add=function(e,t){var o=this.getUnusedItem_();o.set(e,t),this.workTail_?this.workTail_.next=o:(goog.asserts.assert(!this.workHead_),this.workHead_=o),this.workTail_=o},goog.async.WorkQueue.prototype.remove=function(){var e=null;return this.workHead_&&(e=this.workHead_,this.workHead_=this.workHead_.next,this.workHead_||(this.workTail_=null),e.next=null),e},goog.async.WorkQueue.prototype.returnUnused=function(e){goog.async.WorkQueue.freelist_.put(e)},goog.async.WorkQueue.prototype.getUnusedItem_=function(){return goog.async.WorkQueue.freelist_.get()},goog.async.WorkItem=function(){this.next=this.scope=this.fn=null},goog.async.WorkItem.prototype.set=function(e,t){this.fn=e,this.scope=t,this.next=null},goog.async.WorkItem.prototype.reset=function(){this.next=this.scope=this.fn=null},goog.async.throwException=function(e){goog.global.setTimeout(function(){throw e},0)},goog.async.nextTick=function(e,t,o){var n=e;t&&(n=goog.bind(e,t)),n=goog.async.nextTick.wrapCallback_(n),goog.isFunction(goog.global.setImmediate)&&(o||goog.async.nextTick.useSetImmediate_())?goog.global.setImmediate(n):(goog.async.nextTick.setImmediate_||(goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_()),goog.async.nextTick.setImmediate_(n))},goog.async.nextTick.useSetImmediate_=function(){return!(goog.global.Window&&goog.global.Window.prototype&&!goog.labs.userAgent.browser.isEdge()&&goog.global.Window.prototype.setImmediate==goog.global.setImmediate)},goog.async.nextTick.getSetImmediateEmulator_=function(){var e=goog.global.MessageChannel;if("undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!goog.labs.userAgent.engine.isPresto()&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;e=t.document,e.open(),e.write(""),e.close();var o="callImmediate"+Math.random(),n="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=goog.bind(function(e){"*"!=n&&e.origin!=n||e.data!=o||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(o,n)}}}),"undefined"!=typeof e&&!goog.labs.userAgent.browser.isIE()){var t=new e,o={},n=o;return t.port1.onmessage=function(){if(goog.isDef(o.next)){o=o.next;var e=o.cb;o.cb=null,e()}},function(e){n.next={cb:e},n=n.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){goog.global.setTimeout(e,0)}},goog.async.nextTick.wrapCallback_=goog.functions.identity,goog.debug.entryPointRegistry.register(function(e){goog.async.nextTick.wrapCallback_=e}),goog.async.run=function(e,t){goog.async.run.schedule_||goog.async.run.initializeRunner_(),goog.async.run.workQueueScheduled_||(goog.async.run.schedule_(),goog.async.run.workQueueScheduled_=!0),goog.async.run.workQueue_.add(e,t)},goog.async.run.initializeRunner_=function(){if(goog.global.Promise&&goog.global.Promise.resolve){var e=goog.global.Promise.resolve(void 0);goog.async.run.schedule_=function(){e.then(goog.async.run.processWorkQueue)}}else goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue)}},goog.async.run.forceNextTick=function(e){goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue),e&&e(goog.async.run.processWorkQueue)}},goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=new goog.async.WorkQueue,goog.DEBUG&&(goog.async.run.resetQueue=function(){goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=new goog.async.WorkQueue}),goog.async.run.processWorkQueue=function(){for(var e;e=goog.async.run.workQueue_.remove();){try{e.fn.call(e.scope)}catch(e){goog.async.throwException(e)}goog.async.run.workQueue_.returnUnused(e)}goog.async.run.workQueueScheduled_=!1},goog.promise={},goog.promise.Resolver=function(){},goog.Promise=function(e,t){if(this.state_=goog.Promise.State_.PENDING,this.result_=void 0,this.callbackEntriesTail_=this.callbackEntries_=this.parent_=null,this.executing_=!1,0<goog.Promise.UNHANDLED_REJECTION_DELAY?this.unhandledRejectionId_=0:0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(this.hadUnhandledRejection_=!1),goog.Promise.LONG_STACK_TRACES&&(this.stack_=[],this.addStackTrace_(Error("created")),this.currentStep_=0),e!=goog.nullFunction)try{var o=this;e.call(t,function(e){o.resolve_(goog.Promise.State_.FULFILLED,e)},function(e){if(goog.DEBUG&&!(e instanceof goog.Promise.CancellationError))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}o.resolve_(goog.Promise.State_.REJECTED,e)})}catch(e){this.resolve_(goog.Promise.State_.REJECTED,e)}},goog.Promise.LONG_STACK_TRACES=!1,goog.Promise.UNHANDLED_REJECTION_DELAY=0,goog.Promise.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3},goog.Promise.CallbackEntry_=function(){this.next=this.context=this.onRejected=this.onFulfilled=this.child=null,this.always=!1},goog.Promise.CallbackEntry_.prototype.reset=function(){this.context=this.onRejected=this.onFulfilled=this.child=null,this.always=!1},goog.Promise.DEFAULT_MAX_UNUSED=100,goog.Promise.freelist_=new goog.async.FreeList(function(){return new goog.Promise.CallbackEntry_},function(e){e.reset()},goog.Promise.DEFAULT_MAX_UNUSED),goog.Promise.getCallbackEntry_=function(e,t,o){var n=goog.Promise.freelist_.get();return n.onFulfilled=e,n.onRejected=t,n.context=o,n},goog.Promise.returnEntry_=function(e){goog.Promise.freelist_.put(e)},goog.Promise.resolve=function(e){if(e instanceof goog.Promise)return e;var t=new goog.Promise(goog.nullFunction);return t.resolve_(goog.Promise.State_.FULFILLED,e),t},goog.Promise.reject=function(e){return new goog.Promise(function(t,o){o(e)})},goog.Promise.resolveThen_=function(e,t,o){goog.Promise.maybeThen_(e,t,o,null)||goog.async.run(goog.partial(t,e))},goog.Promise.race=function(e){return new goog.Promise(function(t,o){e.length||t(void 0);for(var n,i=0;i<e.length;i++)n=e[i],goog.Promise.resolveThen_(n,t,o)})},goog.Promise.all=function(e){return new goog.Promise(function(t,o){var n=e.length,i=[];if(n)for(var l,s=function(e,o){n--,i[e]=o,0==n&&t(i)},r=function(e){o(e)},a=0;a<e.length;a++)l=e[a],goog.Promise.resolveThen_(l,goog.partial(s,a),r);else t(i)})},goog.Promise.allSettled=function(e){return new goog.Promise(function(t,o){var n=e.length,i=[];if(n)for(var l,s=function(e,o,l){n--,i[e]=o?{fulfilled:!0,value:l}:{fulfilled:!1,reason:l},0==n&&t(i)},r=0;r<e.length;r++)l=e[r],goog.Promise.resolveThen_(l,goog.partial(s,r,!0),goog.partial(s,r,!1));else t(i)})},goog.Promise.firstFulfilled=function(e){return new goog.Promise(function(t,o){var n=e.length,i=[];if(n)for(var l,s=function(e){t(e)},r=function(e,t){n--,i[e]=t,0==n&&o(i)},a=0;a<e.length;a++)l=e[a],goog.Promise.resolveThen_(l,s,goog.partial(r,a));else t(void 0)})},goog.Promise.withResolver=function(){var e,t,o=new goog.Promise(function(o,n){e=o,t=n});return new goog.Promise.Resolver_(o,e,t)},goog.Promise.prototype.then=function(e,t,o){return null!=e&&goog.asserts.assertFunction(e,"opt_onFulfilled should be a function."),null!=t&&goog.asserts.assertFunction(t,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then")),this.addChildPromise_(goog.isFunction(e)?e:null,goog.isFunction(t)?t:null,o)},goog.Thenable.addImplementation(goog.Promise),goog.Promise.prototype.thenVoid=function(e,t,o){null!=e&&goog.asserts.assertFunction(e,"opt_onFulfilled should be a function."),null!=t&&goog.asserts.assertFunction(t,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then")),this.addCallbackEntry_(goog.Promise.getCallbackEntry_(e||goog.nullFunction,t||null,o))},goog.Promise.prototype.thenAlways=function(e,t){goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenAlways"));var o=goog.Promise.getCallbackEntry_(e,e,t);return o.always=!0,this.addCallbackEntry_(o),this},goog.Promise.prototype.thenCatch=function(e,t){return goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenCatch")),this.addChildPromise_(null,e,t)},goog.Promise.prototype.cancel=function(e){this.state_==goog.Promise.State_.PENDING&&goog.async.run(function(){var t=new goog.Promise.CancellationError(e);this.cancelInternal_(t)},this)},goog.Promise.prototype.cancelInternal_=function(e){this.state_==goog.Promise.State_.PENDING&&(this.parent_?(this.parent_.cancelChild_(this,e),this.parent_=null):this.resolve_(goog.Promise.State_.REJECTED,e))},goog.Promise.prototype.cancelChild_=function(e,t){if(this.callbackEntries_){for(var o=0,n=null,i=null,l=this.callbackEntries_;l&&(l.always||(o++,l.child==e&&(n=l),!(n&&1<o)));l=l.next)n||(i=l);n&&(this.state_==goog.Promise.State_.PENDING&&1==o?this.cancelInternal_(t):(i?this.removeEntryAfter_(i):this.popEntry_(),this.executeCallback_(n,goog.Promise.State_.REJECTED,t)))}},goog.Promise.prototype.addCallbackEntry_=function(e){this.hasEntry_()||this.state_!=goog.Promise.State_.FULFILLED&&this.state_!=goog.Promise.State_.REJECTED||this.scheduleCallbacks_(),this.queueEntry_(e)},goog.Promise.prototype.addChildPromise_=function(e,t,o){var n=goog.Promise.getCallbackEntry_(null,null,null);return n.child=new goog.Promise(function(i,l){n.onFulfilled=e?function(t){try{var n=e.call(o,t);i(n)}catch(e){l(e)}}:i,n.onRejected=t?function(e){try{var n=t.call(o,e);!goog.isDef(n)&&e instanceof goog.Promise.CancellationError?l(e):i(n)}catch(e){l(e)}}:l}),n.child.parent_=this,this.addCallbackEntry_(n),n.child},goog.Promise.prototype.unblockAndFulfill_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.FULFILLED,e)},goog.Promise.prototype.unblockAndReject_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.REJECTED,e)},goog.Promise.prototype.resolve_=function(e,t){this.state_==goog.Promise.State_.PENDING&&(this===t&&(e=goog.Promise.State_.REJECTED,t=new TypeError("Promise cannot resolve to itself")),this.state_=goog.Promise.State_.BLOCKED,goog.Promise.maybeThen_(t,this.unblockAndFulfill_,this.unblockAndReject_,this)||(this.result_=t,this.state_=e,this.parent_=null,this.scheduleCallbacks_(),e!=goog.Promise.State_.REJECTED||t instanceof goog.Promise.CancellationError||goog.Promise.addUnhandledRejection_(this,t)))},goog.Promise.maybeThen_=function(e,t,o,n){if(e instanceof goog.Promise)return e.thenVoid(t,o,n),!0;if(goog.Thenable.isImplementedBy(e))return e.then(t,o,n),!0;if(goog.isObject(e))try{var i=e.then;if(goog.isFunction(i))return goog.Promise.tryThen_(e,i,t,o,n),!0}catch(e){return o.call(n,e),!0}return!1},goog.Promise.tryThen_=function(e,t,o,n,i){var l=!1,s=function(e){l||(l=!0,o.call(i,e))},r=function(e){l||(l=!0,n.call(i,e))};try{t.call(e,s,r)}catch(e){r(e)}},goog.Promise.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,goog.async.run(this.executeCallbacks_,this))},goog.Promise.prototype.hasEntry_=function(){return!!this.callbackEntries_},goog.Promise.prototype.queueEntry_=function(e){goog.asserts.assert(null!=e.onFulfilled),this.callbackEntriesTail_?this.callbackEntriesTail_.next=e:this.callbackEntries_=e,this.callbackEntriesTail_=e},goog.Promise.prototype.popEntry_=function(){var e=null;return this.callbackEntries_&&(e=this.callbackEntries_,this.callbackEntries_=e.next,e.next=null),this.callbackEntries_||(this.callbackEntriesTail_=null),null!=e&&goog.asserts.assert(null!=e.onFulfilled),e},goog.Promise.prototype.removeEntryAfter_=function(e){goog.asserts.assert(this.callbackEntries_),goog.asserts.assert(null!=e),e.next==this.callbackEntriesTail_&&(this.callbackEntriesTail_=e),e.next=e.next.next},goog.Promise.prototype.executeCallbacks_=function(){for(var e;e=this.popEntry_();)goog.Promise.LONG_STACK_TRACES&&this.currentStep_++,this.executeCallback_(e,this.state_,this.result_);this.executing_=!1},goog.Promise.prototype.executeCallback_=function(e,t,o){if(t==goog.Promise.State_.REJECTED&&e.onRejected&&!e.always&&this.removeUnhandledRejection_(),e.child)e.child.parent_=null,goog.Promise.invokeCallback_(e,t,o);else try{e.always?e.onFulfilled.call(e.context):goog.Promise.invokeCallback_(e,t,o)}catch(e){goog.Promise.handleRejection_.call(null,e)}goog.Promise.returnEntry_(e)},goog.Promise.invokeCallback_=function(e,t,o){t==goog.Promise.State_.FULFILLED?e.onFulfilled.call(e.context,o):e.onRejected&&e.onRejected.call(e.context,o)},goog.Promise.prototype.addStackTrace_=function(e){if(goog.Promise.LONG_STACK_TRACES&&goog.isString(e.stack)){var t=e.stack.split("\n",4)[3];e=e.message,e+=Array(11-e.length).join(" "),this.stack_.push(e+t)}},goog.Promise.prototype.appendLongStack_=function(e){if(goog.Promise.LONG_STACK_TRACES&&e&&goog.isString(e.stack)&&this.stack_.length){for(var t=["Promise trace:"],o=this;o;o=o.parent_){for(var n=this.currentStep_;0<=n;n--)t.push(o.stack_[n]);t.push("Value: ["+(o.state_==goog.Promise.State_.REJECTED?"REJECTED":"FULFILLED")+"] <"+String(o.result_)+">")}e.stack+="\n\n"+t.join("\n")}},goog.Promise.prototype.removeUnhandledRejection_=function(){if(0<goog.Promise.UNHANDLED_REJECTION_DELAY)for(var e=this;e&&e.unhandledRejectionId_;e=e.parent_)goog.global.clearTimeout(e.unhandledRejectionId_),e.unhandledRejectionId_=0;else if(0==goog.Promise.UNHANDLED_REJECTION_DELAY)for(e=this;e&&e.hadUnhandledRejection_;e=e.parent_)e.hadUnhandledRejection_=!1},goog.Promise.addUnhandledRejection_=function(e,t){0<goog.Promise.UNHANDLED_REJECTION_DELAY?e.unhandledRejectionId_=goog.global.setTimeout(function(){e.appendLongStack_(t),goog.Promise.handleRejection_.call(null,t)},goog.Promise.UNHANDLED_REJECTION_DELAY):0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(e.hadUnhandledRejection_=!0,goog.async.run(function(){e.hadUnhandledRejection_&&(e.appendLongStack_(t),goog.Promise.handleRejection_.call(null,t))}))},goog.Promise.handleRejection_=goog.async.throwException,goog.Promise.setUnhandledRejectionHandler=function(e){goog.Promise.handleRejection_=e},goog.Promise.CancellationError=function(e){goog.debug.Error.call(this,e)},goog.inherits(goog.Promise.CancellationError,goog.debug.Error),goog.Promise.CancellationError.prototype.name="cancel",goog.Promise.Resolver_=function(e,t,o){this.promise=e,this.resolve=t,this.reject=o},goog.events.EventTarget=function(){goog.Disposable.call(this),this.eventTargetListeners_=new goog.events.ListenerMap(this),this.actualEventTarget_=this,this.parentEventTarget_=null},goog.inherits(goog.events.EventTarget,goog.Disposable),goog.events.Listenable.addImplementation(goog.events.EventTarget),goog.events.EventTarget.MAX_ANCESTORS_=1e3,goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},goog.events.EventTarget.prototype.setParentEventTarget=function(e){this.parentEventTarget_=e},goog.events.EventTarget.prototype.addEventListener=function(e,t,o,n){goog.events.listen(this,e,t,o,n)},goog.events.EventTarget.prototype.removeEventListener=function(e,t,o,n){goog.events.unlisten(this,e,t,o,n)},goog.events.EventTarget.prototype.dispatchEvent=function(e){this.assertInitialized_();var t=this.getParentEventTarget();if(t)for(var o=[],n=1;t;t=t.getParentEventTarget())o.push(t),goog.asserts.assert(++n<goog.events.EventTarget.MAX_ANCESTORS_,"infinite loop");return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,e,o)},goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this),this.removeAllListeners(),this.parentEventTarget_=null},goog.events.EventTarget.prototype.listen=function(e,t,o,n){return this.assertInitialized_(),this.eventTargetListeners_.add(String(e),t,!1,o,n)},goog.events.EventTarget.prototype.listenOnce=function(e,t,o,n){return this.eventTargetListeners_.add(String(e),t,!0,o,n)},goog.events.EventTarget.prototype.unlisten=function(e,t,o,n){return this.eventTargetListeners_.remove(String(e),t,o,n)},goog.events.EventTarget.prototype.unlistenByKey=function(e){return this.eventTargetListeners_.removeByKey(e)},goog.events.EventTarget.prototype.removeAllListeners=function(e){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(e):0},goog.events.EventTarget.prototype.fireListeners=function(e,t,o){if(e=this.eventTargetListeners_.listeners[String(e)],!e)return!0;e=e.concat();for(var n=!0,i=0;i<e.length;++i){var l=e[i];if(l&&!l.removed&&l.capture==t){var s=l.listener,r=l.handler||l.src;l.callOnce&&this.unlistenByKey(l),n=!1!==s.call(r,o)&&n}}return n&&0!=o.returnValue_},goog.events.EventTarget.prototype.getListeners=function(e,t){return this.eventTargetListeners_.getListeners(String(e),t)},goog.events.EventTarget.prototype.getListener=function(e,t,o,n){return this.eventTargetListeners_.getListener(String(e),t,o,n)},goog.events.EventTarget.prototype.hasListener=function(e,t){var o=goog.isDef(e)?String(e):void 0;return this.eventTargetListeners_.hasListener(o,t)},goog.events.EventTarget.prototype.setTargetForTesting=function(e){this.actualEventTarget_=e},goog.events.EventTarget.prototype.assertInitialized_=function(){goog.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},goog.events.EventTarget.dispatchEventInternal_=function(e,t,o){var n=t.type||t;if(goog.isString(t))t=new goog.events.Event(t,e);else if(t instanceof goog.events.Event)t.target=t.target||e;else{var i=t;t=new goog.events.Event(n,e),goog.object.extend(t,i)}if(i=!0,o)for(var l=o.length-1;!t.propagationStopped_&&0<=l;l--){var s=t.currentTarget=o[l];i=s.fireListeners(n,!0,t)&&i}if(t.propagationStopped_||(s=t.currentTarget=e,i=s.fireListeners(n,!0,t)&&i,t.propagationStopped_||(i=s.fireListeners(n,!1,t)&&i)),o)for(l=0;!t.propagationStopped_&&l<o.length;l++)s=t.currentTarget=o[l],i=s.fireListeners(n,!1,t)&&i;return i},goog.Timer=function(e,t){goog.events.EventTarget.call(this),this.interval_=e||1,this.timerObject_=t||goog.Timer.defaultTimerObject,this.boundTick_=goog.bind(this.tick_,this),this.last_=goog.now()},goog.inherits(goog.Timer,goog.events.EventTarget),goog.Timer.MAX_TIMEOUT_=2147483647,goog.Timer.INVALID_TIMEOUT_ID_=-1,goog.Timer.prototype.enabled=!1,goog.Timer.defaultTimerObject=goog.global,goog.Timer.intervalScale=.8,goog.Timer.prototype.timer_=null,goog.Timer.prototype.getInterval=function(){return this.interval_},goog.Timer.prototype.setInterval=function(e){this.interval_=e,this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()},goog.Timer.prototype.tick_=function(){if(this.enabled){var e=goog.now()-this.last_;0<e&&e<this.interval_*goog.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-e):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.stop(),this.start()))}},goog.Timer.prototype.dispatchTick=function(){this.dispatchEvent(goog.Timer.TICK)},goog.Timer.prototype.start=function(){this.enabled=!0,this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now())},goog.Timer.prototype.stop=function(){this.enabled=!1,this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)},goog.Timer.prototype.disposeInternal=function(){goog.Timer.superClass_.disposeInternal.call(this),this.stop(),delete this.timerObject_},goog.Timer.TICK="tick",goog.Timer.callOnce=function(e,t,o){if(goog.isFunction(e))o&&(e=goog.bind(e,o));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=goog.bind(e.handleEvent,e)}return Number(t)>goog.Timer.MAX_TIMEOUT_?goog.Timer.INVALID_TIMEOUT_ID_:goog.Timer.defaultTimerObject.setTimeout(e,t||0)},goog.Timer.clear=function(e){goog.Timer.defaultTimerObject.clearTimeout(e)},goog.Timer.promise=function(e,t){var o=null;return new goog.Promise(function(n,i){o=goog.Timer.callOnce(function(){n(t)},e),o==goog.Timer.INVALID_TIMEOUT_ID_&&i(Error("Failed to schedule timer."))}).thenCatch(function(e){throw goog.Timer.clear(o),e})},goog.events.EventHandler=function(e){goog.Disposable.call(this),this.handler_=e,this.keys_={}},goog.inherits(goog.events.EventHandler,goog.Disposable),goog.events.EventHandler.typeArray_=[],goog.events.EventHandler.prototype.listen=function(e,t,o,n){return this.listen_(e,t,o,n)},goog.events.EventHandler.prototype.listenWithScope=function(e,t,o,n,i){return this.listen_(e,t,o,n,i)},goog.events.EventHandler.prototype.listen_=function(e,t,o,n,i){
goog.isArray(t)||(t&&(goog.events.EventHandler.typeArray_[0]=t.toString()),t=goog.events.EventHandler.typeArray_);for(var l=0;l<t.length;l++){var s=goog.events.listen(e,t[l],o||this.handleEvent,n||!1,i||this.handler_||this);if(!s)break;this.keys_[s.key]=s}return this},goog.events.EventHandler.prototype.listenOnce=function(e,t,o,n){return this.listenOnce_(e,t,o,n)},goog.events.EventHandler.prototype.listenOnceWithScope=function(e,t,o,n,i){return this.listenOnce_(e,t,o,n,i)},goog.events.EventHandler.prototype.listenOnce_=function(e,t,o,n,i){if(goog.isArray(t))for(var l=0;l<t.length;l++)this.listenOnce_(e,t[l],o,n,i);else{if(e=goog.events.listenOnce(e,t,o||this.handleEvent,n,i||this.handler_||this),!e)return this;this.keys_[e.key]=e}return this},goog.events.EventHandler.prototype.listenWithWrapper=function(e,t,o,n){return this.listenWithWrapper_(e,t,o,n)},goog.events.EventHandler.prototype.listenWithWrapperAndScope=function(e,t,o,n,i){return this.listenWithWrapper_(e,t,o,n,i)},goog.events.EventHandler.prototype.listenWithWrapper_=function(e,t,o,n,i){return t.listen(e,o,n,i||this.handler_||this,this),this},goog.events.EventHandler.prototype.getListenerCount=function(){var e,t=0;for(e in this.keys_)Object.prototype.hasOwnProperty.call(this.keys_,e)&&t++;return t},goog.events.EventHandler.prototype.unlisten=function(e,t,o,n,i){if(goog.isArray(t))for(var l=0;l<t.length;l++)this.unlisten(e,t[l],o,n,i);else n=goog.isObject(n)?!!n.capture:!!n,(e=goog.events.getListener(e,t,o||this.handleEvent,n,i||this.handler_||this))&&(goog.events.unlistenByKey(e),delete this.keys_[e.key]);return this},goog.events.EventHandler.prototype.unlistenWithWrapper=function(e,t,o,n,i){return t.unlisten(e,o,n,i||this.handler_||this,this),this},goog.events.EventHandler.prototype.removeAll=function(){goog.object.forEach(this.keys_,function(e,t){this.keys_.hasOwnProperty(t)&&goog.events.unlistenByKey(e)},this),this.keys_={}},goog.events.EventHandler.prototype.disposeInternal=function(){goog.events.EventHandler.superClass_.disposeInternal.call(this),this.removeAll()},goog.events.EventHandler.prototype.handleEvent=function(e){throw Error("EventHandler.handleEvent not implemented")},goog.ui={},goog.ui.IdGenerator=function(){},goog.addSingletonGetter(goog.ui.IdGenerator),goog.ui.IdGenerator.prototype.nextId_=0,goog.ui.IdGenerator.prototype.idPrefix_="",goog.ui.IdGenerator.prototype.setIdPrefix=function(e){this.idPrefix_=e},goog.ui.IdGenerator.prototype.getNextUniqueId=function(){return this.idPrefix_+":"+(this.nextId_++).toString(36)},goog.ui.Component=function(e){goog.events.EventTarget.call(this),this.dom_=e||goog.dom.getDomHelper(),this.rightToLeft_=goog.ui.Component.defaultRightToLeft_,this.id_=null,this.inDocument_=!1,this.element_=null,this.googUiComponentHandler_=void 0,this.childIndex_=this.children_=this.parent_=this.model_=null,this.pointerEventsEnabled_=this.wasDecorated_=!1},goog.inherits(goog.ui.Component,goog.events.EventTarget),goog.ui.Component.ALLOW_DETACHED_DECORATION=!1,goog.ui.Component.prototype.idGenerator_=goog.ui.IdGenerator.getInstance(),goog.ui.Component.DEFAULT_BIDI_DIR=0,goog.ui.Component.defaultRightToLeft_=1!=goog.ui.Component.DEFAULT_BIDI_DIR&&(-1==goog.ui.Component.DEFAULT_BIDI_DIR||null),goog.ui.Component.EventType={BEFORE_SHOW:"beforeshow",SHOW:"show",HIDE:"hide",DISABLE:"disable",ENABLE:"enable",HIGHLIGHT:"highlight",UNHIGHLIGHT:"unhighlight",ACTIVATE:"activate",DEACTIVATE:"deactivate",SELECT:"select",UNSELECT:"unselect",CHECK:"check",UNCHECK:"uncheck",FOCUS:"focus",BLUR:"blur",OPEN:"open",CLOSE:"close",ENTER:"enter",LEAVE:"leave",ACTION:"action",CHANGE:"change"},goog.ui.Component.Error={NOT_SUPPORTED:"Method not supported",DECORATE_INVALID:"Invalid element to decorate",ALREADY_RENDERED:"Component already rendered",PARENT_UNABLE_TO_BE_SET:"Unable to set parent component",CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds",NOT_OUR_CHILD:"Child is not in parent component",NOT_IN_DOCUMENT:"Operation not supported while component is not in document",STATE_INVALID:"Invalid component state"},goog.ui.Component.State={ALL:255,DISABLED:1,HOVER:2,ACTIVE:4,SELECTED:8,CHECKED:16,FOCUSED:32,OPENED:64},goog.ui.Component.getStateTransitionEvent=function(e,t){switch(e){case goog.ui.Component.State.DISABLED:return t?goog.ui.Component.EventType.DISABLE:goog.ui.Component.EventType.ENABLE;case goog.ui.Component.State.HOVER:return t?goog.ui.Component.EventType.HIGHLIGHT:goog.ui.Component.EventType.UNHIGHLIGHT;case goog.ui.Component.State.ACTIVE:return t?goog.ui.Component.EventType.ACTIVATE:goog.ui.Component.EventType.DEACTIVATE;case goog.ui.Component.State.SELECTED:return t?goog.ui.Component.EventType.SELECT:goog.ui.Component.EventType.UNSELECT;case goog.ui.Component.State.CHECKED:return t?goog.ui.Component.EventType.CHECK:goog.ui.Component.EventType.UNCHECK;case goog.ui.Component.State.FOCUSED:return t?goog.ui.Component.EventType.FOCUS:goog.ui.Component.EventType.BLUR;case goog.ui.Component.State.OPENED:return t?goog.ui.Component.EventType.OPEN:goog.ui.Component.EventType.CLOSE}throw Error(goog.ui.Component.Error.STATE_INVALID)},goog.ui.Component.setDefaultRightToLeft=function(e){goog.ui.Component.defaultRightToLeft_=e},goog.ui.Component.prototype.getId=function(){return this.id_||(this.id_=this.idGenerator_.getNextUniqueId())},goog.ui.Component.prototype.setId=function(e){this.parent_&&this.parent_.childIndex_&&(goog.object.remove(this.parent_.childIndex_,this.id_),goog.object.add(this.parent_.childIndex_,e,this)),this.id_=e},goog.ui.Component.prototype.getElement=function(){return this.element_},goog.ui.Component.prototype.getElementStrict=function(){var e=this.element_;return goog.asserts.assert(e,"Can not call getElementStrict before rendering/decorating."),e},goog.ui.Component.prototype.setElementInternal=function(e){this.element_=e},goog.ui.Component.prototype.getElementsByClass=function(e){return this.element_?this.dom_.getElementsByClass(e,this.element_):[]},goog.ui.Component.prototype.getElementByClass=function(e){return this.element_?this.dom_.getElementByClass(e,this.element_):null},goog.ui.Component.prototype.getRequiredElementByClass=function(e){var t=this.getElementByClass(e);return goog.asserts.assert(t,"Expected element in component with class: %s",e),t},goog.ui.Component.prototype.getHandler=function(){return this.googUiComponentHandler_||(this.googUiComponentHandler_=new goog.events.EventHandler(this)),goog.asserts.assert(this.googUiComponentHandler_)},goog.ui.Component.prototype.setParent=function(e){if(this==e)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);if(e&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=e)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);this.parent_=e,goog.ui.Component.superClass_.setParentEventTarget.call(this,e)},goog.ui.Component.prototype.getParent=function(){return this.parent_},goog.ui.Component.prototype.setParentEventTarget=function(e){if(this.parent_&&this.parent_!=e)throw Error(goog.ui.Component.Error.NOT_SUPPORTED);goog.ui.Component.superClass_.setParentEventTarget.call(this,e)},goog.ui.Component.prototype.getDomHelper=function(){return this.dom_},goog.ui.Component.prototype.isInDocument=function(){return this.inDocument_},goog.ui.Component.prototype.createDom=function(){this.element_=this.dom_.createElement("DIV")},goog.ui.Component.prototype.render=function(e){this.render_(e)},goog.ui.Component.prototype.renderBefore=function(e){this.render_(e.parentNode,e)},goog.ui.Component.prototype.render_=function(e,t){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.element_||this.createDom(),e?e.insertBefore(this.element_,t||null):this.dom_.getDocument().body.appendChild(this.element_),this.parent_&&!this.parent_.isInDocument()||this.enterDocument()},goog.ui.Component.prototype.decorate=function(e){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(!e||!this.canDecorate(e))throw Error(goog.ui.Component.Error.DECORATE_INVALID);this.wasDecorated_=!0;var t=goog.dom.getOwnerDocument(e);this.dom_&&this.dom_.getDocument()==t||(this.dom_=goog.dom.getDomHelper(e)),this.decorateInternal(e),goog.ui.Component.ALLOW_DETACHED_DECORATION&&!goog.dom.contains(t,e)||this.enterDocument()},goog.ui.Component.prototype.canDecorate=function(e){return!0},goog.ui.Component.prototype.wasDecorated=function(){return this.wasDecorated_},goog.ui.Component.prototype.decorateInternal=function(e){this.element_=e},goog.ui.Component.prototype.enterDocument=function(){this.inDocument_=!0,this.forEachChild(function(e){!e.isInDocument()&&e.getElement()&&e.enterDocument()})},goog.ui.Component.prototype.exitDocument=function(){this.forEachChild(function(e){e.isInDocument()&&e.exitDocument()}),this.googUiComponentHandler_&&this.googUiComponentHandler_.removeAll(),this.inDocument_=!1},goog.ui.Component.prototype.disposeInternal=function(){this.inDocument_&&this.exitDocument(),this.googUiComponentHandler_&&(this.googUiComponentHandler_.dispose(),delete this.googUiComponentHandler_),this.forEachChild(function(e){e.dispose()}),!this.wasDecorated_&&this.element_&&goog.dom.removeNode(this.element_),this.parent_=this.model_=this.element_=this.childIndex_=this.children_=null,goog.ui.Component.superClass_.disposeInternal.call(this)},goog.ui.Component.prototype.makeId=function(e){return this.getId()+"."+e},goog.ui.Component.prototype.makeIds=function(e){var t,o={};for(t in e)o[t]=this.makeId(e[t]);return o},goog.ui.Component.prototype.getModel=function(){return this.model_},goog.ui.Component.prototype.setModel=function(e){this.model_=e},goog.ui.Component.prototype.getFragmentFromId=function(e){return e.substring(this.getId().length+1)},goog.ui.Component.prototype.getElementByFragment=function(e){if(!this.inDocument_)throw Error(goog.ui.Component.Error.NOT_IN_DOCUMENT);return this.dom_.getElement(this.makeId(e))},goog.ui.Component.prototype.addChild=function(e,t){this.addChildAt(e,this.getChildCount(),t)},goog.ui.Component.prototype.addChildAt=function(e,t,o){if(goog.asserts.assert(!!e,"Provided element must not be null."),e.inDocument_&&(o||!this.inDocument_))throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(0>t||t>this.getChildCount())throw Error(goog.ui.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);this.childIndex_&&this.children_||(this.childIndex_={},this.children_=[]),e.getParent()==this?(goog.object.set(this.childIndex_,e.getId(),e),goog.array.remove(this.children_,e)):goog.object.add(this.childIndex_,e.getId(),e),e.setParent(this),goog.array.insertAt(this.children_,e,t),e.inDocument_&&this.inDocument_&&e.getParent()==this?(o=this.getContentElement(),t=o.childNodes[t]||null,t!=e.getElement()&&o.insertBefore(e.getElement(),t)):o?(this.element_||this.createDom(),t=this.getChildAt(t+1),e.render_(this.getContentElement(),t?t.element_:null)):this.inDocument_&&!e.inDocument_&&e.element_&&e.element_.parentNode&&e.element_.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&e.enterDocument()},goog.ui.Component.prototype.getContentElement=function(){return this.element_},goog.ui.Component.prototype.isRightToLeft=function(){return null==this.rightToLeft_&&(this.rightToLeft_=goog.style.isRightToLeft(this.inDocument_?this.element_:this.dom_.getDocument().body)),this.rightToLeft_},goog.ui.Component.prototype.setRightToLeft=function(e){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.rightToLeft_=e},goog.ui.Component.prototype.hasChildren=function(){return!!this.children_&&0!=this.children_.length},goog.ui.Component.prototype.getChildCount=function(){return this.children_?this.children_.length:0},goog.ui.Component.prototype.getChildIds=function(){var e=[];return this.forEachChild(function(t){e.push(t.getId())}),e},goog.ui.Component.prototype.getChild=function(e){return this.childIndex_&&e?goog.object.get(this.childIndex_,e)||null:null},goog.ui.Component.prototype.getChildAt=function(e){return this.children_?this.children_[e]||null:null},goog.ui.Component.prototype.forEachChild=function(e,t){this.children_&&goog.array.forEach(this.children_,e,t)},goog.ui.Component.prototype.indexOfChild=function(e){return this.children_&&e?goog.array.indexOf(this.children_,e):-1},goog.ui.Component.prototype.removeChild=function(e,t){if(e){var o=goog.isString(e)?e:e.getId();e=this.getChild(o),o&&e&&(goog.object.remove(this.childIndex_,o),goog.array.remove(this.children_,e),t&&(e.exitDocument(),e.element_&&goog.dom.removeNode(e.element_)),e.setParent(null))}if(!e)throw Error(goog.ui.Component.Error.NOT_OUR_CHILD);return e},goog.ui.Component.prototype.removeChildAt=function(e,t){return this.removeChild(this.getChildAt(e),t)},goog.ui.Component.prototype.removeChildren=function(e){for(var t=[];this.hasChildren();)t.push(this.removeChildAt(0,e));return t},goog.ui.Component.prototype.pointerEventsEnabled=function(){return this.pointerEventsEnabled_};goog.ui.Component.prototype.setPointerEventsEnabled=function(e){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.pointerEventsEnabled_=e};goog.a11y={},goog.a11y.aria={},goog.a11y.aria.Role={ALERT:"alert",ALERTDIALOG:"alertdialog",APPLICATION:"application",ARTICLE:"article",BANNER:"banner",BUTTON:"button",CHECKBOX:"checkbox",COLUMNHEADER:"columnheader",COMBOBOX:"combobox",COMPLEMENTARY:"complementary",CONTENTINFO:"contentinfo",DEFINITION:"definition",DIALOG:"dialog",DIRECTORY:"directory",DOCUMENT:"document",FORM:"form",GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",HEADING:"heading",IMG:"img",LINK:"link",LIST:"list",LISTBOX:"listbox",LISTITEM:"listitem",LOG:"log",MAIN:"main",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUBAR:"menubar",MENU_ITEM:"menuitem",MENU_ITEM_CHECKBOX:"menuitemcheckbox",MENU_ITEM_RADIO:"menuitemradio",NAVIGATION:"navigation",NOTE:"note",OPTION:"option",PRESENTATION:"presentation",PROGRESSBAR:"progressbar",RADIO:"radio",RADIOGROUP:"radiogroup",REGION:"region",ROW:"row",ROWGROUP:"rowgroup",ROWHEADER:"rowheader",SCROLLBAR:"scrollbar",SEARCH:"search",SEPARATOR:"separator",SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",TAB:"tab",TAB_LIST:"tablist",TAB_PANEL:"tabpanel",TEXTBOX:"textbox",TEXTINFO:"textinfo",TIMER:"timer",TOOLBAR:"toolbar",TOOLTIP:"tooltip",TREE:"tree",TREEGRID:"treegrid",TREEITEM:"treeitem"},goog.a11y.aria.State={ACTIVEDESCENDANT:"activedescendant",ATOMIC:"atomic",AUTOCOMPLETE:"autocomplete",BUSY:"busy",CHECKED:"checked",COLINDEX:"colindex",CONTROLS:"controls",DESCRIBEDBY:"describedby",DISABLED:"disabled",DROPEFFECT:"dropeffect",EXPANDED:"expanded",FLOWTO:"flowto",GRABBED:"grabbed",HASPOPUP:"haspopup",HIDDEN:"hidden",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",LIVE:"live",MULTILINE:"multiline",MULTISELECTABLE:"multiselectable",ORIENTATION:"orientation",OWNS:"owns",POSINSET:"posinset",PRESSED:"pressed",READONLY:"readonly",RELEVANT:"relevant",REQUIRED:"required",ROWINDEX:"rowindex",SELECTED:"selected",SETSIZE:"setsize",SORT:"sort",VALUEMAX:"valuemax",VALUEMIN:"valuemin",VALUENOW:"valuenow",VALUETEXT:"valuetext"},goog.a11y.aria.AutoCompleteValues={INLINE:"inline",LIST:"list",BOTH:"both",NONE:"none"},goog.a11y.aria.DropEffectValues={COPY:"copy",MOVE:"move",LINK:"link",EXECUTE:"execute",POPUP:"popup",NONE:"none"},goog.a11y.aria.LivePriority={OFF:"off",POLITE:"polite",ASSERTIVE:"assertive"},goog.a11y.aria.OrientationValues={VERTICAL:"vertical",HORIZONTAL:"horizontal"},goog.a11y.aria.RelevantValues={ADDITIONS:"additions",REMOVALS:"removals",TEXT:"text",ALL:"all"},goog.a11y.aria.SortValues={ASCENDING:"ascending",DESCENDING:"descending",NONE:"none",OTHER:"other"},goog.a11y.aria.CheckedValues={TRUE:"true",FALSE:"false",MIXED:"mixed",UNDEFINED:"undefined"},goog.a11y.aria.ExpandedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"},goog.a11y.aria.GrabbedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"},goog.a11y.aria.InvalidValues={FALSE:"false",TRUE:"true",GRAMMAR:"grammar",SPELLING:"spelling"},goog.a11y.aria.PressedValues={TRUE:"true",FALSE:"false",MIXED:"mixed",UNDEFINED:"undefined"},goog.a11y.aria.SelectedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"},goog.a11y.aria.datatables={},goog.a11y.aria.datatables.getDefaultValuesMap=function(){return goog.a11y.aria.DefaultStateValueMap_||(goog.a11y.aria.DefaultStateValueMap_=goog.object.create(goog.a11y.aria.State.ATOMIC,!1,goog.a11y.aria.State.AUTOCOMPLETE,"none",goog.a11y.aria.State.DROPEFFECT,"none",goog.a11y.aria.State.HASPOPUP,!1,goog.a11y.aria.State.LIVE,"off",goog.a11y.aria.State.MULTILINE,!1,goog.a11y.aria.State.MULTISELECTABLE,!1,goog.a11y.aria.State.ORIENTATION,"vertical",goog.a11y.aria.State.READONLY,!1,goog.a11y.aria.State.RELEVANT,"additions text",goog.a11y.aria.State.REQUIRED,!1,goog.a11y.aria.State.SORT,"none",goog.a11y.aria.State.BUSY,!1,goog.a11y.aria.State.DISABLED,!1,goog.a11y.aria.State.HIDDEN,!1,goog.a11y.aria.State.INVALID,"false")),goog.a11y.aria.DefaultStateValueMap_},goog.a11y.aria.ARIA_PREFIX_="aria-",goog.a11y.aria.ROLE_ATTRIBUTE_="role",goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_=goog.object.createSet("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" ")),goog.a11y.aria.CONTAINER_ROLES_=[goog.a11y.aria.Role.COMBOBOX,goog.a11y.aria.Role.GRID,goog.a11y.aria.Role.GROUP,goog.a11y.aria.Role.LISTBOX,goog.a11y.aria.Role.MENU,goog.a11y.aria.Role.MENUBAR,goog.a11y.aria.Role.RADIOGROUP,goog.a11y.aria.Role.ROW,goog.a11y.aria.Role.ROWGROUP,goog.a11y.aria.Role.TAB_LIST,goog.a11y.aria.Role.TEXTBOX,goog.a11y.aria.Role.TOOLBAR,goog.a11y.aria.Role.TREE,goog.a11y.aria.Role.TREEGRID],goog.a11y.aria.setRole=function(e,t){t?(goog.asserts.ENABLE_ASSERTS&&goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.Role,t),"No such ARIA role "+t),e.setAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_,t)):goog.a11y.aria.removeRole(e)},goog.a11y.aria.getRole=function(e){return e.getAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_)||null},goog.a11y.aria.removeRole=function(e){e.removeAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_)},goog.a11y.aria.setState=function(e,t,o){goog.isArray(o)&&(o=o.join(" "));var n=goog.a11y.aria.getAriaAttributeName_(t);""===o||void 0==o?(o=goog.a11y.aria.datatables.getDefaultValuesMap(),t in o?e.setAttribute(n,o[t]):e.removeAttribute(n)):e.setAttribute(n,o)},goog.a11y.aria.toggleState=function(e,t){var o=goog.a11y.aria.getState(e,t);goog.string.isEmptyOrWhitespace(goog.string.makeSafe(o))||"true"==o||"false"==o?goog.a11y.aria.setState(e,t,"true"==o?"false":"true"):goog.a11y.aria.removeState(e,t)},goog.a11y.aria.removeState=function(e,t){e.removeAttribute(goog.a11y.aria.getAriaAttributeName_(t))},goog.a11y.aria.getState=function(e,t){var o=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(t));return null==o||void 0==o?"":String(o)},goog.a11y.aria.getActiveDescendant=function(e){var t=goog.a11y.aria.getState(e,goog.a11y.aria.State.ACTIVEDESCENDANT);return goog.dom.getOwnerDocument(e).getElementById(t)},goog.a11y.aria.setActiveDescendant=function(e,t){var o="";t&&(o=t.id,goog.asserts.assert(o,"The active element should have an id.")),goog.a11y.aria.setState(e,goog.a11y.aria.State.ACTIVEDESCENDANT,o)},goog.a11y.aria.getLabel=function(e){return goog.a11y.aria.getState(e,goog.a11y.aria.State.LABEL)},goog.a11y.aria.setLabel=function(e,t){goog.a11y.aria.setState(e,goog.a11y.aria.State.LABEL,t)},goog.a11y.aria.assertRoleIsSetInternalUtil=function(e,t){if(!goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_[e.tagName]){var o=goog.a11y.aria.getRole(e);goog.asserts.assert(null!=o,"The element ARIA role cannot be null."),goog.asserts.assert(goog.array.contains(t,o),'Non existing or incorrect role set for element.The role set is "'+o+'". The role should be any of "'+t+'". Check the ARIA specification for more details http://www.w3.org/TR/wai-aria/roles.')}},goog.a11y.aria.getStateBoolean=function(e,t){var o=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(t));return goog.asserts.assert(goog.isBoolean(o)||null==o||"true"==o||"false"==o),null==o?o:goog.isBoolean(o)?o:"true"==o},goog.a11y.aria.getStateNumber=function(e,t){var o=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(t));return goog.asserts.assert(!(null!=o&&isNaN(Number(o))||goog.isBoolean(o))),null==o?null:Number(o)},goog.a11y.aria.getStateString=function(e,t){var o=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(t));return goog.asserts.assert((null==o||goog.isString(o))&&(""==o||isNaN(Number(o)))&&"true"!=o&&"false"!=o),null==o||""==o?null:o},goog.a11y.aria.getStringArrayStateInternalUtil=function(e,t){var o=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(t));return goog.a11y.aria.splitStringOnWhitespace_(o)},goog.a11y.aria.hasState=function(e,t){return e.hasAttribute(goog.a11y.aria.getAriaAttributeName_(t))},goog.a11y.aria.isContainerRole=function(e){return e=goog.a11y.aria.getRole(e),goog.array.contains(goog.a11y.aria.CONTAINER_ROLES_,e)},goog.a11y.aria.splitStringOnWhitespace_=function(e){return e?e.split(/\s+/):[]},goog.a11y.aria.getAriaAttributeName_=function(e){return goog.asserts.ENABLE_ASSERTS&&(goog.asserts.assert(e,"ARIA attribute cannot be empty."),goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.State,e),"No such ARIA attribute "+e)),goog.a11y.aria.ARIA_PREFIX_+e},goog.events.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},goog.events.KeyCodes.isTextModifyingKeyEvent=function(e){if(e.altKey&&!e.ctrlKey||e.metaKey||e.keyCode>=goog.events.KeyCodes.F1&&e.keyCode<=goog.events.KeyCodes.F12)return!1;switch(e.keyCode){case goog.events.KeyCodes.ALT:case goog.events.KeyCodes.CAPS_LOCK:case goog.events.KeyCodes.CONTEXT_MENU:case goog.events.KeyCodes.CTRL:case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.END:case goog.events.KeyCodes.ESC:case goog.events.KeyCodes.HOME:case goog.events.KeyCodes.INSERT:case goog.events.KeyCodes.LEFT:case goog.events.KeyCodes.MAC_FF_META:case goog.events.KeyCodes.META:case goog.events.KeyCodes.NUMLOCK:case goog.events.KeyCodes.NUM_CENTER:case goog.events.KeyCodes.PAGE_DOWN:case goog.events.KeyCodes.PAGE_UP:case goog.events.KeyCodes.PAUSE:case goog.events.KeyCodes.PHANTOM:case goog.events.KeyCodes.PRINT_SCREEN:case goog.events.KeyCodes.RIGHT:case goog.events.KeyCodes.SCROLL_LOCK:case goog.events.KeyCodes.SHIFT:case goog.events.KeyCodes.UP:case goog.events.KeyCodes.VK_NONAME:case goog.events.KeyCodes.WIN_KEY:case goog.events.KeyCodes.WIN_KEY_RIGHT:return!1;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return!goog.userAgent.GECKO;default:return e.keyCode<goog.events.KeyCodes.FIRST_MEDIA_KEY||e.keyCode>goog.events.KeyCodes.LAST_MEDIA_KEY}},goog.events.KeyCodes.firesKeyPressEvent=function(e,t,o,n,i,l){if(goog.userAgent.WEBKIT&&!goog.userAgent.isVersionOrHigher("525"))return!0;if(goog.userAgent.MAC&&i)return goog.events.KeyCodes.isCharacterKey(e);if(i&&!n)return!1;if(!goog.userAgent.GECKO){goog.isNumber(t)&&(t=goog.events.KeyCodes.normalizeKeyCode(t));var s=t==goog.events.KeyCodes.CTRL||t==goog.events.KeyCodes.ALT||goog.userAgent.MAC&&t==goog.events.KeyCodes.META,r=t==goog.events.KeyCodes.SHIFT&&(n||l);if((!o||goog.userAgent.MAC)&&s||goog.userAgent.MAC&&r)return!1}if((goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&n&&o)switch(e){case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:case goog.events.KeyCodes.TILDE:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:return!1}if(goog.userAgent.IE&&n&&t==e)return!1;switch(e){case goog.events.KeyCodes.ENTER:return!goog.userAgent.GECKO||!l&&!i&&!(o&&n);case goog.events.KeyCodes.ESC:return!(goog.userAgent.WEBKIT||goog.userAgent.EDGE||goog.userAgent.GECKO)}return(!goog.userAgent.GECKO||!(n||i||l))&&goog.events.KeyCodes.isCharacterKey(e)},goog.events.KeyCodes.isCharacterKey=function(e){if(e>=goog.events.KeyCodes.ZERO&&e<=goog.events.KeyCodes.NINE||e>=goog.events.KeyCodes.NUM_ZERO&&e<=goog.events.KeyCodes.NUM_MULTIPLY||e>=goog.events.KeyCodes.A&&e<=goog.events.KeyCodes.Z||(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&0==e)return!0;switch(e){case goog.events.KeyCodes.SPACE:case goog.events.KeyCodes.PLUS_SIGN:case goog.events.KeyCodes.QUESTION_MARK:case goog.events.KeyCodes.AT_SIGN:case goog.events.KeyCodes.NUM_PLUS:case goog.events.KeyCodes.NUM_MINUS:case goog.events.KeyCodes.NUM_PERIOD:case goog.events.KeyCodes.NUM_DIVISION:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.FF_SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.FF_EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:return!0;default:return!1}},goog.events.KeyCodes.normalizeKeyCode=function(e){return goog.userAgent.GECKO?goog.events.KeyCodes.normalizeGeckoKeyCode(e):goog.userAgent.MAC&&goog.userAgent.WEBKIT?goog.events.KeyCodes.normalizeMacWebKitKeyCode(e):e},goog.events.KeyCodes.normalizeGeckoKeyCode=function(e){switch(e){case goog.events.KeyCodes.FF_EQUALS:return goog.events.KeyCodes.EQUALS;case goog.events.KeyCodes.FF_SEMICOLON:return goog.events.KeyCodes.SEMICOLON;case goog.events.KeyCodes.FF_DASH:return goog.events.KeyCodes.DASH;case goog.events.KeyCodes.MAC_FF_META:return goog.events.KeyCodes.META;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return goog.events.KeyCodes.WIN_KEY;default:return e}},goog.events.KeyCodes.normalizeMacWebKitKeyCode=function(e){switch(e){case goog.events.KeyCodes.MAC_WK_CMD_RIGHT:return goog.events.KeyCodes.META;default:return e}},goog.events.KeyHandler=function(e,t){goog.events.EventTarget.call(this),e&&this.attach(e,t)},goog.inherits(goog.events.KeyHandler,goog.events.EventTarget),goog.events.KeyHandler.prototype.element_=null,goog.events.KeyHandler.prototype.keyPressKey_=null,goog.events.KeyHandler.prototype.keyDownKey_=null,goog.events.KeyHandler.prototype.keyUpKey_=null,goog.events.KeyHandler.prototype.lastKey_=-1,goog.events.KeyHandler.prototype.keyCode_=-1,goog.events.KeyHandler.prototype.altKey_=!1,goog.events.KeyHandler.EventType={KEY:"key"},goog.events.KeyHandler.safariKey_={3:goog.events.KeyCodes.ENTER,12:goog.events.KeyCodes.NUMLOCK,63232:goog.events.KeyCodes.UP,63233:goog.events.KeyCodes.DOWN,63234:goog.events.KeyCodes.LEFT,63235:goog.events.KeyCodes.RIGHT,63236:goog.events.KeyCodes.F1,63237:goog.events.KeyCodes.F2,63238:goog.events.KeyCodes.F3,63239:goog.events.KeyCodes.F4,63240:goog.events.KeyCodes.F5,63241:goog.events.KeyCodes.F6,63242:goog.events.KeyCodes.F7,63243:goog.events.KeyCodes.F8,63244:goog.events.KeyCodes.F9,63245:goog.events.KeyCodes.F10,63246:goog.events.KeyCodes.F11,63247:goog.events.KeyCodes.F12,63248:goog.events.KeyCodes.PRINT_SCREEN,63272:goog.events.KeyCodes.DELETE,63273:goog.events.KeyCodes.HOME,63275:goog.events.KeyCodes.END,63276:goog.events.KeyCodes.PAGE_UP,63277:goog.events.KeyCodes.PAGE_DOWN,63289:goog.events.KeyCodes.NUMLOCK,63302:goog.events.KeyCodes.INSERT},goog.events.KeyHandler.keyIdentifier_={Up:goog.events.KeyCodes.UP,Down:goog.events.KeyCodes.DOWN,Left:goog.events.KeyCodes.LEFT,Right:goog.events.KeyCodes.RIGHT,Enter:goog.events.KeyCodes.ENTER,F1:goog.events.KeyCodes.F1,F2:goog.events.KeyCodes.F2,F3:goog.events.KeyCodes.F3,F4:goog.events.KeyCodes.F4,F5:goog.events.KeyCodes.F5,F6:goog.events.KeyCodes.F6,F7:goog.events.KeyCodes.F7,F8:goog.events.KeyCodes.F8,F9:goog.events.KeyCodes.F9,F10:goog.events.KeyCodes.F10,F11:goog.events.KeyCodes.F11,F12:goog.events.KeyCodes.F12,"U+007F":goog.events.KeyCodes.DELETE,Home:goog.events.KeyCodes.HOME,End:goog.events.KeyCodes.END,PageUp:goog.events.KeyCodes.PAGE_UP,PageDown:goog.events.KeyCodes.PAGE_DOWN,Insert:goog.events.KeyCodes.INSERT},goog.events.KeyHandler.USES_KEYDOWN_=!goog.userAgent.WEBKIT||goog.userAgent.isVersionOrHigher("525"),goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_=goog.userAgent.MAC&&goog.userAgent.GECKO,goog.events.KeyHandler.prototype.handleKeyDown_=function(e){(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&(this.lastKey_==goog.events.KeyCodes.CTRL&&!e.ctrlKey||this.lastKey_==goog.events.KeyCodes.ALT&&!e.altKey||goog.userAgent.MAC&&this.lastKey_==goog.events.KeyCodes.META&&!e.metaKey)&&this.resetState(),-1==this.lastKey_&&(e.ctrlKey&&e.keyCode!=goog.events.KeyCodes.CTRL?this.lastKey_=goog.events.KeyCodes.CTRL:e.altKey&&e.keyCode!=goog.events.KeyCodes.ALT?this.lastKey_=goog.events.KeyCodes.ALT:e.metaKey&&e.keyCode!=goog.events.KeyCodes.META&&(this.lastKey_=goog.events.KeyCodes.META)),goog.events.KeyHandler.USES_KEYDOWN_&&!goog.events.KeyCodes.firesKeyPressEvent(e.keyCode,this.lastKey_,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey)?this.handleEvent(e):(this.keyCode_=goog.events.KeyCodes.normalizeKeyCode(e.keyCode),goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&(this.altKey_=e.altKey))},goog.events.KeyHandler.prototype.resetState=function(){this.keyCode_=this.lastKey_=-1},goog.events.KeyHandler.prototype.handleKeyup_=function(e){this.resetState(),this.altKey_=e.altKey},goog.events.KeyHandler.prototype.handleEvent=function(e){var t=e.getBrowserEvent(),o=t.altKey;if(goog.userAgent.IE&&e.type==goog.events.EventType.KEYPRESS)var n=this.keyCode_,i=n!=goog.events.KeyCodes.ENTER&&n!=goog.events.KeyCodes.ESC?t.keyCode:0;else(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&e.type==goog.events.EventType.KEYPRESS?(n=this.keyCode_,i=0<=t.charCode&&63232>t.charCode&&goog.events.KeyCodes.isCharacterKey(n)?t.charCode:0):goog.userAgent.OPERA&&!goog.userAgent.WEBKIT?(n=this.keyCode_,i=goog.events.KeyCodes.isCharacterKey(n)?t.keyCode:0):(n=t.keyCode||this.keyCode_,i=t.charCode||0,goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&e.type==goog.events.EventType.KEYPRESS&&(o=this.altKey_),goog.userAgent.MAC&&i==goog.events.KeyCodes.QUESTION_MARK&&n==goog.events.KeyCodes.WIN_KEY&&(n=goog.events.KeyCodes.SLASH));var l=n=goog.events.KeyCodes.normalizeKeyCode(n);n?63232<=n&&n in goog.events.KeyHandler.safariKey_?l=goog.events.KeyHandler.safariKey_[n]:25==n&&e.shiftKey&&(l=9):t.keyIdentifier&&t.keyIdentifier in goog.events.KeyHandler.keyIdentifier_&&(l=goog.events.KeyHandler.keyIdentifier_[t.keyIdentifier]),goog.userAgent.GECKO&&goog.events.KeyHandler.USES_KEYDOWN_&&e.type==goog.events.EventType.KEYPRESS&&!goog.events.KeyCodes.firesKeyPressEvent(l,this.lastKey_,e.shiftKey,e.ctrlKey,o,e.metaKey)||(e=l==this.lastKey_,this.lastKey_=l,t=new goog.events.KeyEvent(l,i,e,t),t.altKey=o,this.dispatchEvent(t))},goog.events.KeyHandler.prototype.getElement=function(){return this.element_},goog.events.KeyHandler.prototype.attach=function(e,t){this.keyUpKey_&&this.detach(),this.element_=e,this.keyPressKey_=goog.events.listen(this.element_,goog.events.EventType.KEYPRESS,this,t),
this.keyDownKey_=goog.events.listen(this.element_,goog.events.EventType.KEYDOWN,this.handleKeyDown_,t,this),this.keyUpKey_=goog.events.listen(this.element_,goog.events.EventType.KEYUP,this.handleKeyup_,t,this)},goog.events.KeyHandler.prototype.detach=function(){this.keyPressKey_&&(goog.events.unlistenByKey(this.keyPressKey_),goog.events.unlistenByKey(this.keyDownKey_),goog.events.unlistenByKey(this.keyUpKey_),this.keyUpKey_=this.keyDownKey_=this.keyPressKey_=null),this.element_=null,this.keyCode_=this.lastKey_=-1},goog.events.KeyHandler.prototype.disposeInternal=function(){goog.events.KeyHandler.superClass_.disposeInternal.call(this),this.detach()},goog.events.KeyEvent=function(e,t,o,n){goog.events.BrowserEvent.call(this,n),this.type=goog.events.KeyHandler.EventType.KEY,this.keyCode=e,this.charCode=t,this.repeat=o},goog.inherits(goog.events.KeyEvent,goog.events.BrowserEvent),goog.ui.ComponentUtil={},goog.ui.ComponentUtil.getMouseEventType=function(e){return e.pointerEventsEnabled()?goog.events.PointerAsMouseEventType:goog.events.EventType},goog.dom.classlist={},goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST=!1,goog.dom.classlist.get=function(e){return goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?e.classList:(e=e.className,goog.isString(e)&&e.match(/\S+/g)||[])},goog.dom.classlist.set=function(e,t){e.className=t},goog.dom.classlist.contains=function(e,t){return goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?e.classList.contains(t):goog.array.contains(goog.dom.classlist.get(e),t)},goog.dom.classlist.add=function(e,t){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?e.classList.add(t):goog.dom.classlist.contains(e,t)||(e.className+=0<e.className.length?" "+t:t)},goog.dom.classlist.addAll=function(e,t){if(goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList)goog.array.forEach(t,function(t){goog.dom.classlist.add(e,t)});else{var o={};goog.array.forEach(goog.dom.classlist.get(e),function(e){o[e]=!0}),goog.array.forEach(t,function(e){o[e]=!0}),e.className="";for(var n in o)e.className+=0<e.className.length?" "+n:n}},goog.dom.classlist.remove=function(e,t){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?e.classList.remove(t):goog.dom.classlist.contains(e,t)&&(e.className=goog.array.filter(goog.dom.classlist.get(e),function(e){return e!=t}).join(" "))},goog.dom.classlist.removeAll=function(e,t){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?goog.array.forEach(t,function(t){goog.dom.classlist.remove(e,t)}):e.className=goog.array.filter(goog.dom.classlist.get(e),function(e){return!goog.array.contains(t,e)}).join(" ")},goog.dom.classlist.enable=function(e,t,o){o?goog.dom.classlist.add(e,t):goog.dom.classlist.remove(e,t)},goog.dom.classlist.enableAll=function(e,t,o){(o?goog.dom.classlist.addAll:goog.dom.classlist.removeAll)(e,t)},goog.dom.classlist.swap=function(e,t,o){return!!goog.dom.classlist.contains(e,t)&&(goog.dom.classlist.remove(e,t),goog.dom.classlist.add(e,o),!0)},goog.dom.classlist.toggle=function(e,t){var o=!goog.dom.classlist.contains(e,t);return goog.dom.classlist.enable(e,t,o),o},goog.dom.classlist.addRemove=function(e,t,o){goog.dom.classlist.remove(e,t),goog.dom.classlist.add(e,o)},goog.ui.registry={},goog.ui.registry.getDefaultRenderer=function(e){for(var t;e&&(t=goog.getUid(e),!(t=goog.ui.registry.defaultRenderers_[t]));)e=e.superClass_?e.superClass_.constructor:null;return t?goog.isFunction(t.getInstance)?t.getInstance():new t:null},goog.ui.registry.setDefaultRenderer=function(e,t){if(!goog.isFunction(e))throw Error("Invalid component class "+e);if(!goog.isFunction(t))throw Error("Invalid renderer class "+t);var o=goog.getUid(e);goog.ui.registry.defaultRenderers_[o]=t},goog.ui.registry.getDecoratorByClassName=function(e){return e in goog.ui.registry.decoratorFunctions_?goog.ui.registry.decoratorFunctions_[e]():null},goog.ui.registry.setDecoratorByClassName=function(e,t){if(!e)throw Error("Invalid class name "+e);if(!goog.isFunction(t))throw Error("Invalid decorator function "+t);goog.ui.registry.decoratorFunctions_[e]=t},goog.ui.registry.getDecorator=function(e){goog.asserts.assert(e);for(var t=goog.dom.classlist.get(e),o=0,n=t.length;o<n;o++)if(e=goog.ui.registry.getDecoratorByClassName(t[o]))return e;return null},goog.ui.registry.reset=function(){goog.ui.registry.defaultRenderers_={},goog.ui.registry.decoratorFunctions_={}},goog.ui.registry.defaultRenderers_={},goog.ui.registry.decoratorFunctions_={},goog.ui.ContainerRenderer=function(e){this.ariaRole_=e},goog.addSingletonGetter(goog.ui.ContainerRenderer),goog.ui.ContainerRenderer.getCustomRenderer=function(e,t){var o=new e;return o.getCssClass=function(){return t},o},goog.ui.ContainerRenderer.CSS_CLASS="goog-container",goog.ui.ContainerRenderer.prototype.getAriaRole=function(){return this.ariaRole_},goog.ui.ContainerRenderer.prototype.enableTabIndex=function(e,t){e&&(e.tabIndex=t?0:-1)},goog.ui.ContainerRenderer.prototype.createDom=function(e){return e.getDomHelper().createDom("DIV",this.getClassNames(e).join(" "))},goog.ui.ContainerRenderer.prototype.getContentElement=function(e){return e},goog.ui.ContainerRenderer.prototype.canDecorate=function(e){return"DIV"==e.tagName},goog.ui.ContainerRenderer.prototype.decorate=function(e,t){t.id&&e.setId(t.id);var o=this.getCssClass(),n=!1,i=goog.dom.classlist.get(t);return i&&goog.array.forEach(i,function(t){t==o?n=!0:t&&this.setStateFromClassName(e,t,o)},this),n||goog.dom.classlist.add(t,o),this.decorateChildren(e,this.getContentElement(t)),t},goog.ui.ContainerRenderer.prototype.setStateFromClassName=function(e,t,o){t==o+"-disabled"?e.setEnabled(!1):t==o+"-horizontal"?e.setOrientation(goog.ui.Container.Orientation.HORIZONTAL):t==o+"-vertical"&&e.setOrientation(goog.ui.Container.Orientation.VERTICAL)},goog.ui.ContainerRenderer.prototype.decorateChildren=function(e,t,o){if(t){o=o||t.firstChild;for(var n;o&&o.parentNode==t;){if(n=o.nextSibling,o.nodeType==goog.dom.NodeType.ELEMENT){var i=this.getDecoratorForChild(o);i&&(i.setElementInternal(o),e.isEnabled()||i.setEnabled(!1),e.addChild(i),i.decorate(o))}else o.nodeValue&&""!=goog.string.trim(o.nodeValue)||t.removeChild(o);o=n}}},goog.ui.ContainerRenderer.prototype.getDecoratorForChild=function(e){return goog.ui.registry.getDecorator(e)},goog.ui.ContainerRenderer.prototype.initializeDom=function(e){e=e.getElement(),goog.asserts.assert(e,"The container DOM element cannot be null."),goog.style.setUnselectable(e,!0,goog.userAgent.GECKO),goog.userAgent.IE&&(e.hideFocus=!0);var t=this.getAriaRole();t&&goog.a11y.aria.setRole(e,t)},goog.ui.ContainerRenderer.prototype.getKeyEventTarget=function(e){return e.getElement()},goog.ui.ContainerRenderer.prototype.getCssClass=function(){return goog.ui.ContainerRenderer.CSS_CLASS},goog.ui.ContainerRenderer.prototype.getClassNames=function(e){var t=this.getCssClass(),o=e.getOrientation()==goog.ui.Container.Orientation.HORIZONTAL;return o=[t,o?t+"-horizontal":t+"-vertical"],e.isEnabled()||o.push(t+"-disabled"),o},goog.ui.ContainerRenderer.prototype.getDefaultOrientation=function(){return goog.ui.Container.Orientation.VERTICAL},goog.ui.ControlRenderer=function(){},goog.addSingletonGetter(goog.ui.ControlRenderer),goog.tagUnsealableClass(goog.ui.ControlRenderer),goog.ui.ControlRenderer.getCustomRenderer=function(e,t){var o=new e;return o.getCssClass=function(){return t},o},goog.ui.ControlRenderer.CSS_CLASS="goog-control",goog.ui.ControlRenderer.IE6_CLASS_COMBINATIONS=[],goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_=goog.object.create(goog.a11y.aria.Role.BUTTON,goog.a11y.aria.State.PRESSED,goog.a11y.aria.Role.CHECKBOX,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.MENU_ITEM,goog.a11y.aria.State.SELECTED,goog.a11y.aria.Role.MENU_ITEM_CHECKBOX,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.MENU_ITEM_RADIO,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.RADIO,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.TAB,goog.a11y.aria.State.SELECTED,goog.a11y.aria.Role.TREEITEM,goog.a11y.aria.State.SELECTED),goog.ui.ControlRenderer.prototype.getAriaRole=function(){},goog.ui.ControlRenderer.prototype.createDom=function(e){return e.getDomHelper().createDom("DIV",this.getClassNames(e).join(" "),e.getContent())},goog.ui.ControlRenderer.prototype.getContentElement=function(e){return e},goog.ui.ControlRenderer.prototype.enableClassName=function(e,t,o){if(e=e.getElement?e.getElement():e){var n=[t];goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")&&(n=this.getAppliedCombinedClassNames_(goog.dom.classlist.get(e),t),n.push(t)),goog.dom.classlist.enableAll(e,n,o)}},goog.ui.ControlRenderer.prototype.enableExtraClassName=function(e,t,o){this.enableClassName(e,t,o)},goog.ui.ControlRenderer.prototype.canDecorate=function(e){return!0},goog.ui.ControlRenderer.prototype.decorate=function(e,t){t.id&&e.setId(t.id);var o=this.getContentElement(t);o&&o.firstChild?e.setContentInternal(o.firstChild.nextSibling?goog.array.clone(o.childNodes):o.firstChild):e.setContentInternal(null);var n=0,i=this.getCssClass(),l=this.getStructuralCssClass(),s=!1,r=!1,a=!1,c=goog.array.toArray(goog.dom.classlist.get(t));goog.array.forEach(c,function(e){s||e!=i?r||e!=l?n|=this.getStateFromClass(e):r=!0:(s=!0,l==i&&(r=!0)),this.getStateFromClass(e)==goog.ui.Component.State.DISABLED&&(goog.asserts.assertElement(o),goog.dom.isFocusableTabIndex(o)&&goog.dom.setFocusableTabIndex(o,!1))},this),e.setStateInternal(n),s||(c.push(i),l==i&&(r=!0)),r||c.push(l);var g=e.getExtraClassNames();if(g&&c.push.apply(c,g),goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")){var u=this.getAppliedCombinedClassNames_(c);0<u.length&&(c.push.apply(c,u),a=!0)}return s&&r&&!g&&!a||goog.dom.classlist.set(t,c.join(" ")),t},goog.ui.ControlRenderer.prototype.initializeDom=function(e){e.isRightToLeft()&&this.setRightToLeft(e.getElement(),!0),e.isEnabled()&&this.setFocusable(e,e.isVisible())},goog.ui.ControlRenderer.prototype.setAriaRole=function(e,t){var o=t||this.getAriaRole();if(o){goog.asserts.assert(e,"The element passed as a first parameter cannot be null.");var n=goog.a11y.aria.getRole(e);o!=n&&goog.a11y.aria.setRole(e,o)}},goog.ui.ControlRenderer.prototype.setAriaStates=function(e,t){goog.asserts.assert(e),goog.asserts.assert(t);var o=e.getAriaLabel();goog.isDefAndNotNull(o)&&this.setAriaLabel(t,o),e.isVisible()||goog.a11y.aria.setState(t,goog.a11y.aria.State.HIDDEN,!e.isVisible()),e.isEnabled()||this.updateAriaState(t,goog.ui.Component.State.DISABLED,!e.isEnabled()),e.isSupportedState(goog.ui.Component.State.SELECTED)&&this.updateAriaState(t,goog.ui.Component.State.SELECTED,e.isSelected()),e.isSupportedState(goog.ui.Component.State.CHECKED)&&this.updateAriaState(t,goog.ui.Component.State.CHECKED,e.isChecked()),e.isSupportedState(goog.ui.Component.State.OPENED)&&this.updateAriaState(t,goog.ui.Component.State.OPENED,e.isOpen())},goog.ui.ControlRenderer.prototype.setAriaLabel=function(e,t){goog.a11y.aria.setLabel(e,t)},goog.ui.ControlRenderer.prototype.setAllowTextSelection=function(e,t){goog.style.setUnselectable(e,!t,!goog.userAgent.IE&&!goog.userAgent.OPERA)},goog.ui.ControlRenderer.prototype.setRightToLeft=function(e,t){this.enableClassName(e,this.getStructuralCssClass()+"-rtl",t)},goog.ui.ControlRenderer.prototype.isFocusable=function(e){var t;return!(!e.isSupportedState(goog.ui.Component.State.FOCUSED)||!(t=e.getKeyEventTarget()))&&goog.dom.isFocusableTabIndex(t)},goog.ui.ControlRenderer.prototype.setFocusable=function(e,t){var o;if(e.isSupportedState(goog.ui.Component.State.FOCUSED)&&(o=e.getKeyEventTarget())){if(!t&&e.isFocused()){try{o.blur()}catch(e){}e.isFocused()&&e.handleBlur(null)}goog.dom.isFocusableTabIndex(o)!=t&&goog.dom.setFocusableTabIndex(o,t)}},goog.ui.ControlRenderer.prototype.setVisible=function(e,t){goog.style.setElementShown(e,t),e&&goog.a11y.aria.setState(e,goog.a11y.aria.State.HIDDEN,!t)},goog.ui.ControlRenderer.prototype.setState=function(e,t,o){var n=e.getElement();if(n){var i=this.getClassForState(t);i&&this.enableClassName(e,i,o),this.updateAriaState(n,t,o)}},goog.ui.ControlRenderer.prototype.updateAriaState=function(e,t,o){goog.ui.ControlRenderer.ariaAttributeMap_||(goog.ui.ControlRenderer.ariaAttributeMap_=goog.object.create(goog.ui.Component.State.DISABLED,goog.a11y.aria.State.DISABLED,goog.ui.Component.State.SELECTED,goog.a11y.aria.State.SELECTED,goog.ui.Component.State.CHECKED,goog.a11y.aria.State.CHECKED,goog.ui.Component.State.OPENED,goog.a11y.aria.State.EXPANDED)),goog.asserts.assert(e,"The element passed as a first parameter cannot be null."),(t=goog.ui.ControlRenderer.getAriaStateForAriaRole_(e,goog.ui.ControlRenderer.ariaAttributeMap_[t]))&&goog.a11y.aria.setState(e,t,o)},goog.ui.ControlRenderer.getAriaStateForAriaRole_=function(e,t){var o=goog.a11y.aria.getRole(e);return o?(o=goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_[o]||t,goog.ui.ControlRenderer.isAriaState_(t)?o:t):t},goog.ui.ControlRenderer.isAriaState_=function(e){return e==goog.a11y.aria.State.CHECKED||e==goog.a11y.aria.State.SELECTED},goog.ui.ControlRenderer.prototype.setContent=function(e,t){var o=this.getContentElement(e);if(o&&(goog.dom.removeChildren(o),t))if(goog.isString(t))goog.dom.setTextContent(o,t);else{var n=function(e){if(e){var t=goog.dom.getOwnerDocument(o);o.appendChild(goog.isString(e)?t.createTextNode(e):e)}};goog.isArray(t)?goog.array.forEach(t,n):!goog.isArrayLike(t)||"nodeType"in t?n(t):goog.array.forEach(goog.array.clone(t),n)}},goog.ui.ControlRenderer.prototype.getKeyEventTarget=function(e){return e.getElement()},goog.ui.ControlRenderer.prototype.getCssClass=function(){return goog.ui.ControlRenderer.CSS_CLASS},goog.ui.ControlRenderer.prototype.getIe6ClassCombinations=function(){return[]},goog.ui.ControlRenderer.prototype.getStructuralCssClass=function(){return this.getCssClass()},goog.ui.ControlRenderer.prototype.getClassNames=function(e){var t=this.getCssClass(),o=[t],n=this.getStructuralCssClass();return n!=t&&o.push(n),t=this.getClassNamesForState(e.getState()),o.push.apply(o,t),(e=e.getExtraClassNames())&&o.push.apply(o,e),goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")&&o.push.apply(o,this.getAppliedCombinedClassNames_(o)),o},goog.ui.ControlRenderer.prototype.getAppliedCombinedClassNames_=function(e,t){var o=[];return t&&(e=goog.array.concat(e,[t])),goog.array.forEach(this.getIe6ClassCombinations(),function(n){!goog.array.every(n,goog.partial(goog.array.contains,e))||t&&!goog.array.contains(n,t)||o.push(n.join("_"))}),o},goog.ui.ControlRenderer.prototype.getClassNamesForState=function(e){for(var t=[];e;){var o=e&-e;t.push(this.getClassForState(o)),e&=~o}return t},goog.ui.ControlRenderer.prototype.getClassForState=function(e){return this.classByState_||this.createClassByStateMap_(),this.classByState_[e]},goog.ui.ControlRenderer.prototype.getStateFromClass=function(e){return this.stateByClass_||this.createStateByClassMap_(),e=parseInt(this.stateByClass_[e],10),isNaN(e)?0:e},goog.ui.ControlRenderer.prototype.createClassByStateMap_=function(){var e=this.getStructuralCssClass(),t=!goog.string.contains(goog.string.normalizeWhitespace(e)," ");goog.asserts.assert(t,"ControlRenderer has an invalid css class: '"+e+"'"),this.classByState_=goog.object.create(goog.ui.Component.State.DISABLED,e+"-disabled",goog.ui.Component.State.HOVER,e+"-hover",goog.ui.Component.State.ACTIVE,e+"-active",goog.ui.Component.State.SELECTED,e+"-selected",goog.ui.Component.State.CHECKED,e+"-checked",goog.ui.Component.State.FOCUSED,e+"-focused",goog.ui.Component.State.OPENED,e+"-open")},goog.ui.ControlRenderer.prototype.createStateByClassMap_=function(){this.classByState_||this.createClassByStateMap_(),this.stateByClass_=goog.object.transpose(this.classByState_)},goog.ui.Control=function(e,t,o){goog.ui.Component.call(this,o),this.renderer_=t||goog.ui.registry.getDefaultRenderer(this.constructor),this.setContentInternal(goog.isDef(e)?e:null),this.ariaLabel_=null},goog.inherits(goog.ui.Control,goog.ui.Component),goog.tagUnsealableClass(goog.ui.Control),goog.ui.Control.registerDecorator=goog.ui.registry.setDecoratorByClassName,goog.ui.Control.getDecorator=goog.ui.registry.getDecorator,goog.ui.Control.prototype.content_=null,goog.ui.Control.prototype.state_=0,goog.ui.Control.prototype.supportedStates_=goog.ui.Component.State.DISABLED|goog.ui.Component.State.HOVER|goog.ui.Component.State.ACTIVE|goog.ui.Component.State.FOCUSED,goog.ui.Control.prototype.autoStates_=goog.ui.Component.State.ALL,goog.ui.Control.prototype.statesWithTransitionEvents_=0,goog.ui.Control.prototype.visible_=!0,goog.ui.Control.prototype.extraClassNames_=null,goog.ui.Control.prototype.handleMouseEvents_=!0,goog.ui.Control.prototype.allowTextSelection_=!1,goog.ui.Control.prototype.preferredAriaRole_=null,goog.ui.Control.prototype.isHandleMouseEvents=function(){return this.handleMouseEvents_},goog.ui.Control.prototype.setHandleMouseEvents=function(e){this.isInDocument()&&e!=this.handleMouseEvents_&&this.enableMouseEventHandling_(e),this.handleMouseEvents_=e},goog.ui.Control.prototype.getKeyEventTarget=function(){return this.renderer_.getKeyEventTarget(this)},goog.ui.Control.prototype.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new goog.events.KeyHandler)},goog.ui.Control.prototype.getRenderer=function(){return this.renderer_},goog.ui.Control.prototype.setRenderer=function(e){if(this.isInDocument())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.getElement()&&this.setElementInternal(null),this.renderer_=e},goog.ui.Control.prototype.getExtraClassNames=function(){return this.extraClassNames_},goog.ui.Control.prototype.addClassName=function(e){e&&(this.extraClassNames_?goog.array.contains(this.extraClassNames_,e)||this.extraClassNames_.push(e):this.extraClassNames_=[e],this.renderer_.enableExtraClassName(this,e,!0))},goog.ui.Control.prototype.removeClassName=function(e){e&&this.extraClassNames_&&goog.array.remove(this.extraClassNames_,e)&&(0==this.extraClassNames_.length&&(this.extraClassNames_=null),this.renderer_.enableExtraClassName(this,e,!1))},goog.ui.Control.prototype.enableClassName=function(e,t){t?this.addClassName(e):this.removeClassName(e)},goog.ui.Control.prototype.createDom=function(){var e=this.renderer_.createDom(this);this.setElementInternal(e),this.renderer_.setAriaRole(e,this.getPreferredAriaRole()),this.isAllowTextSelection()||this.renderer_.setAllowTextSelection(e,!1),this.isVisible()||this.renderer_.setVisible(e,!1)},goog.ui.Control.prototype.getPreferredAriaRole=function(){return this.preferredAriaRole_},goog.ui.Control.prototype.setPreferredAriaRole=function(e){this.preferredAriaRole_=e},goog.ui.Control.prototype.getAriaLabel=function(){return this.ariaLabel_},goog.ui.Control.prototype.setAriaLabel=function(e){this.ariaLabel_=e;var t=this.getElement();t&&this.renderer_.setAriaLabel(t,e)},goog.ui.Control.prototype.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())},goog.ui.Control.prototype.canDecorate=function(e){return this.renderer_.canDecorate(e)},goog.ui.Control.prototype.decorateInternal=function(e){e=this.renderer_.decorate(this,e),this.setElementInternal(e),this.renderer_.setAriaRole(e,this.getPreferredAriaRole()),this.isAllowTextSelection()||this.renderer_.setAllowTextSelection(e,!1),this.visible_="none"!=e.style.display},goog.ui.Control.prototype.enterDocument=function(){if(goog.ui.Control.superClass_.enterDocument.call(this),this.renderer_.setAriaStates(this,this.getElementStrict()),this.renderer_.initializeDom(this),this.supportedStates_&~goog.ui.Component.State.DISABLED&&(this.isHandleMouseEvents()&&this.enableMouseEventHandling_(!0),this.isSupportedState(goog.ui.Component.State.FOCUSED))){var e=this.getKeyEventTarget();if(e){var t=this.getKeyHandler();t.attach(e),this.getHandler().listen(t,goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent).listen(e,goog.events.EventType.FOCUS,this.handleFocus).listen(e,goog.events.EventType.BLUR,this.handleBlur)}}},goog.ui.Control.prototype.enableMouseEventHandling_=function(e){var t=goog.ui.ComponentUtil.getMouseEventType(this),o=this.getHandler(),n=this.getElement();e?(o.listen(n,t.MOUSEDOWN,this.handleMouseDown).listen(n,[t.MOUSEUP,t.MOUSECANCEL],this.handleMouseUp).listen(n,goog.events.EventType.MOUSEOVER,this.handleMouseOver).listen(n,goog.events.EventType.MOUSEOUT,this.handleMouseOut),this.pointerEventsEnabled()&&o.listen(n,goog.events.EventType.GOTPOINTERCAPTURE,this.preventPointerCapture_),this.handleContextMenu!=goog.nullFunction&&o.listen(n,goog.events.EventType.CONTEXTMENU,this.handleContextMenu),goog.userAgent.IE&&(goog.userAgent.isVersionOrHigher(9)||o.listen(n,goog.events.EventType.DBLCLICK,this.handleDblClick),this.ieMouseEventSequenceSimulator_||(this.ieMouseEventSequenceSimulator_=new goog.ui.Control.IeMouseEventSequenceSimulator_(this),this.registerDisposable(this.ieMouseEventSequenceSimulator_)))):(o.unlisten(n,t.MOUSEDOWN,this.handleMouseDown).unlisten(n,[t.MOUSEUP,t.MOUSECANCEL],this.handleMouseUp).unlisten(n,goog.events.EventType.MOUSEOVER,this.handleMouseOver).unlisten(n,goog.events.EventType.MOUSEOUT,this.handleMouseOut),this.pointerEventsEnabled()&&o.unlisten(n,goog.events.EventType.GOTPOINTERCAPTURE,this.preventPointerCapture_),this.handleContextMenu!=goog.nullFunction&&o.unlisten(n,goog.events.EventType.CONTEXTMENU,this.handleContextMenu),goog.userAgent.IE&&(goog.userAgent.isVersionOrHigher(9)||o.unlisten(n,goog.events.EventType.DBLCLICK,this.handleDblClick),goog.dispose(this.ieMouseEventSequenceSimulator_),this.ieMouseEventSequenceSimulator_=null))},goog.ui.Control.prototype.exitDocument=function(){goog.ui.Control.superClass_.exitDocument.call(this),this.keyHandler_&&this.keyHandler_.detach(),this.isVisible()&&this.isEnabled()&&this.renderer_.setFocusable(this,!1)},goog.ui.Control.prototype.disposeInternal=function(){goog.ui.Control.superClass_.disposeInternal.call(this),this.keyHandler_&&(this.keyHandler_.dispose(),delete this.keyHandler_),delete this.renderer_,this.ieMouseEventSequenceSimulator_=this.extraClassNames_=this.content_=null},goog.ui.Control.prototype.getContent=function(){return this.content_},goog.ui.Control.prototype.setContent=function(e){this.renderer_.setContent(this.getElement(),e),this.setContentInternal(e)},goog.ui.Control.prototype.setContentInternal=function(e){this.content_=e},goog.ui.Control.prototype.getCaption=function(){var e=this.getContent();return e?(e=goog.isString(e)?e:goog.isArray(e)?goog.array.map(e,goog.dom.getRawTextContent).join(""):goog.dom.getTextContent(e),goog.string.collapseBreakingSpaces(e)):""},goog.ui.Control.prototype.setCaption=function(e){this.setContent(e)},goog.ui.Control.prototype.setRightToLeft=function(e){goog.ui.Control.superClass_.setRightToLeft.call(this,e);var t=this.getElement();t&&this.renderer_.setRightToLeft(t,e)},goog.ui.Control.prototype.isAllowTextSelection=function(){return this.allowTextSelection_},goog.ui.Control.prototype.setAllowTextSelection=function(e){this.allowTextSelection_=e;var t=this.getElement();t&&this.renderer_.setAllowTextSelection(t,e)};goog.ui.Control.prototype.isVisible=function(){return this.visible_};goog.ui.Control.prototype.setVisible=function(e,t){if(t||this.visible_!=e&&this.dispatchEvent(e?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)){var o=this.getElement();return o&&this.renderer_.setVisible(o,e),this.isEnabled()&&this.renderer_.setFocusable(this,e),this.visible_=e,!0}return!1},goog.ui.Control.prototype.isEnabled=function(){return!this.hasState(goog.ui.Component.State.DISABLED)},goog.ui.Control.prototype.isParentDisabled_=function(){var e=this.getParent();return!!e&&"function"==typeof e.isEnabled&&!e.isEnabled()},goog.ui.Control.prototype.setEnabled=function(e){!this.isParentDisabled_()&&this.isTransitionAllowed(goog.ui.Component.State.DISABLED,!e)&&(e||(this.setActive(!1),this.setHighlighted(!1)),this.isVisible()&&this.renderer_.setFocusable(this,e),this.setState(goog.ui.Component.State.DISABLED,!e,!0))},goog.ui.Control.prototype.isHighlighted=function(){return this.hasState(goog.ui.Component.State.HOVER)},goog.ui.Control.prototype.setHighlighted=function(e){this.isTransitionAllowed(goog.ui.Component.State.HOVER,e)&&this.setState(goog.ui.Component.State.HOVER,e)},goog.ui.Control.prototype.isActive=function(){return this.hasState(goog.ui.Component.State.ACTIVE)},goog.ui.Control.prototype.setActive=function(e){this.isTransitionAllowed(goog.ui.Component.State.ACTIVE,e)&&this.setState(goog.ui.Component.State.ACTIVE,e)},goog.ui.Control.prototype.isSelected=function(){return this.hasState(goog.ui.Component.State.SELECTED)},goog.ui.Control.prototype.setSelected=function(e){this.isTransitionAllowed(goog.ui.Component.State.SELECTED,e)&&this.setState(goog.ui.Component.State.SELECTED,e)},goog.ui.Control.prototype.isChecked=function(){return this.hasState(goog.ui.Component.State.CHECKED)},goog.ui.Control.prototype.setChecked=function(e){this.isTransitionAllowed(goog.ui.Component.State.CHECKED,e)&&this.setState(goog.ui.Component.State.CHECKED,e)},goog.ui.Control.prototype.isFocused=function(){return this.hasState(goog.ui.Component.State.FOCUSED)},goog.ui.Control.prototype.setFocused=function(e){this.isTransitionAllowed(goog.ui.Component.State.FOCUSED,e)&&this.setState(goog.ui.Component.State.FOCUSED,e)},goog.ui.Control.prototype.isOpen=function(){return this.hasState(goog.ui.Component.State.OPENED)},goog.ui.Control.prototype.setOpen=function(e){this.isTransitionAllowed(goog.ui.Component.State.OPENED,e)&&this.setState(goog.ui.Component.State.OPENED,e)},goog.ui.Control.prototype.getState=function(){return this.state_},goog.ui.Control.prototype.hasState=function(e){return!!(this.state_&e)},goog.ui.Control.prototype.setState=function(e,t,o){o||e!=goog.ui.Component.State.DISABLED?this.isSupportedState(e)&&t!=this.hasState(e)&&(this.renderer_.setState(this,e,t),this.state_=t?this.state_|e:this.state_&~e):this.setEnabled(!t)},goog.ui.Control.prototype.setStateInternal=function(e){this.state_=e},goog.ui.Control.prototype.isSupportedState=function(e){return!!(this.supportedStates_&e)},goog.ui.Control.prototype.setSupportedState=function(e,t){if(this.isInDocument()&&this.hasState(e)&&!t)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);!t&&this.hasState(e)&&this.setState(e,!1),this.supportedStates_=t?this.supportedStates_|e:this.supportedStates_&~e},goog.ui.Control.prototype.isAutoState=function(e){return!!(this.autoStates_&e)&&this.isSupportedState(e)},goog.ui.Control.prototype.setAutoStates=function(e,t){this.autoStates_=t?this.autoStates_|e:this.autoStates_&~e},goog.ui.Control.prototype.isDispatchTransitionEvents=function(e){return!!(this.statesWithTransitionEvents_&e)&&this.isSupportedState(e)},goog.ui.Control.prototype.setDispatchTransitionEvents=function(e,t){this.statesWithTransitionEvents_=t?this.statesWithTransitionEvents_|e:this.statesWithTransitionEvents_&~e},goog.ui.Control.prototype.isTransitionAllowed=function(e,t){return this.isSupportedState(e)&&this.hasState(e)!=t&&(!(this.statesWithTransitionEvents_&e)||this.dispatchEvent(goog.ui.Component.getStateTransitionEvent(e,t)))&&!this.isDisposed()},goog.ui.Control.prototype.handleMouseOver=function(e){!goog.ui.Control.isMouseEventWithinElement_(e,this.getElement())&&this.dispatchEvent(goog.ui.Component.EventType.ENTER)&&this.isEnabled()&&this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0)},goog.ui.Control.prototype.handleMouseOut=function(e){!goog.ui.Control.isMouseEventWithinElement_(e,this.getElement())&&this.dispatchEvent(goog.ui.Component.EventType.LEAVE)&&(this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1),this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!1))},goog.ui.Control.prototype.preventPointerCapture_=function(e){var t=e.target;t.releasePointerCapture&&t.releasePointerCapture(e.pointerId)},goog.ui.Control.prototype.handleContextMenu=goog.nullFunction,goog.ui.Control.isMouseEventWithinElement_=function(e,t){return!!e.relatedTarget&&goog.dom.contains(t,e.relatedTarget)},goog.ui.Control.prototype.handleMouseDown=function(e){this.isEnabled()&&(this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0),e.isMouseActionButton()&&(this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!0),this.renderer_&&this.renderer_.isFocusable(this)&&this.getKeyEventTarget().focus())),!this.isAllowTextSelection()&&e.isMouseActionButton()&&e.preventDefault()},goog.ui.Control.prototype.handleMouseUp=function(e){this.isEnabled()&&(this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0),this.isActive()&&this.performActionInternal(e)&&this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1))},goog.ui.Control.prototype.handleDblClick=function(e){this.isEnabled()&&this.performActionInternal(e)},goog.ui.Control.prototype.performActionInternal=function(e){this.isAutoState(goog.ui.Component.State.CHECKED)&&this.setChecked(!this.isChecked()),this.isAutoState(goog.ui.Component.State.SELECTED)&&this.setSelected(!0),this.isAutoState(goog.ui.Component.State.OPENED)&&this.setOpen(!this.isOpen());var t=new goog.events.Event(goog.ui.Component.EventType.ACTION,this);return e&&(t.altKey=e.altKey,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,t.platformModifierKey=e.platformModifierKey),this.dispatchEvent(t)},goog.ui.Control.prototype.handleFocus=function(e){this.isAutoState(goog.ui.Component.State.FOCUSED)&&this.setFocused(!0)},goog.ui.Control.prototype.handleBlur=function(e){this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1),this.isAutoState(goog.ui.Component.State.FOCUSED)&&this.setFocused(!1)},goog.ui.Control.prototype.handleKeyEvent=function(e){return!!(this.isVisible()&&this.isEnabled()&&this.handleKeyEventInternal(e))&&(e.preventDefault(),e.stopPropagation(),!0)},goog.ui.Control.prototype.handleKeyEventInternal=function(e){return e.keyCode==goog.events.KeyCodes.ENTER&&this.performActionInternal(e)},goog.ui.registry.setDefaultRenderer(goog.ui.Control,goog.ui.ControlRenderer),goog.ui.registry.setDecoratorByClassName(goog.ui.ControlRenderer.CSS_CLASS,function(){return new goog.ui.Control(null)}),goog.ui.Control.IeMouseEventSequenceSimulator_=function(e){goog.Disposable.call(this),this.control_=e,this.clickExpected_=!1,this.handler_=new goog.events.EventHandler(this),this.registerDisposable(this.handler_),e=this.control_.getElementStrict(),this.handler_.listen(e,goog.events.EventType.MOUSEDOWN,this.handleMouseDown_).listen(e,goog.events.EventType.MOUSEUP,this.handleMouseUp_).listen(e,goog.events.EventType.CLICK,this.handleClick_)},goog.inherits(goog.ui.Control.IeMouseEventSequenceSimulator_,goog.Disposable),goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_=!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseDown_=function(){this.clickExpected_=!1},goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseUp_=function(){this.clickExpected_=!0},goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_=function(e,t){if(!goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_)return e.button=goog.events.BrowserEvent.MouseButton.LEFT,e.type=t,e;var o=document.createEvent("MouseEvents");return o.initMouseEvent(t,e.bubbles,e.cancelable,e.view||null,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,goog.events.BrowserEvent.MouseButton.LEFT,e.relatedTarget||null),o},goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleClick_=function(e){if(this.clickExpected_)this.clickExpected_=!1;else{var t=e.getBrowserEvent(),o=t.button,n=t.type,i=goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_(t,goog.events.EventType.MOUSEDOWN);this.control_.handleMouseDown(new goog.events.BrowserEvent(i,e.currentTarget)),i=goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_(t,goog.events.EventType.MOUSEUP),this.control_.handleMouseUp(new goog.events.BrowserEvent(i,e.currentTarget)),goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_||(t.button=o,
t.type=n)}},goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.disposeInternal=function(){this.control_=null,goog.ui.Control.IeMouseEventSequenceSimulator_.superClass_.disposeInternal.call(this)},goog.ui.Container=function(e,t,o){goog.ui.Component.call(this,o),this.renderer_=t||goog.ui.ContainerRenderer.getInstance(),this.orientation_=e||this.renderer_.getDefaultOrientation()},goog.inherits(goog.ui.Container,goog.ui.Component),goog.tagUnsealableClass(goog.ui.Container),goog.ui.Container.EventType={AFTER_SHOW:"aftershow",AFTER_HIDE:"afterhide"},goog.ui.Container.Orientation={HORIZONTAL:"horizontal",VERTICAL:"vertical"},goog.ui.Container.prototype.keyEventTarget_=null,goog.ui.Container.prototype.keyHandler_=null,goog.ui.Container.prototype.renderer_=null,goog.ui.Container.prototype.orientation_=null,goog.ui.Container.prototype.visible_=!0,goog.ui.Container.prototype.enabled_=!0,goog.ui.Container.prototype.focusable_=!0,goog.ui.Container.prototype.highlightedIndex_=-1,goog.ui.Container.prototype.openItem_=null,goog.ui.Container.prototype.mouseButtonPressed_=!1,goog.ui.Container.prototype.allowFocusableChildren_=!1,goog.ui.Container.prototype.openFollowsHighlight_=!0,goog.ui.Container.prototype.childElementIdMap_=null,goog.ui.Container.prototype.getKeyEventTarget=function(){return this.keyEventTarget_||this.renderer_.getKeyEventTarget(this)},goog.ui.Container.prototype.setKeyEventTarget=function(e){if(!this.focusable_)throw Error("Can't set key event target for container that doesn't support keyboard focus!");var t=this.getKeyEventTarget(),o=this.isInDocument();this.keyEventTarget_=e;var n=this.getKeyEventTarget();o&&(this.keyEventTarget_=t,this.enableFocusHandling_(!1),this.keyEventTarget_=e,this.getKeyHandler().attach(n),this.enableFocusHandling_(!0))},goog.ui.Container.prototype.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new goog.events.KeyHandler(this.getKeyEventTarget()))},goog.ui.Container.prototype.getRenderer=function(){return this.renderer_},goog.ui.Container.prototype.setRenderer=function(e){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.renderer_=e},goog.ui.Container.prototype.createDom=function(){this.setElementInternal(this.renderer_.createDom(this))},goog.ui.Container.prototype.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())},goog.ui.Container.prototype.canDecorate=function(e){return this.renderer_.canDecorate(e)},goog.ui.Container.prototype.decorateInternal=function(e){this.setElementInternal(this.renderer_.decorate(this,e)),"none"==e.style.display&&(this.visible_=!1)},goog.ui.Container.prototype.enterDocument=function(){goog.ui.Container.superClass_.enterDocument.call(this),this.forEachChild(function(e){e.isInDocument()&&this.registerChildId_(e)},this);var e=this.getElement();this.renderer_.initializeDom(this),this.setVisible(this.visible_,!0);var t=goog.ui.ComponentUtil.getMouseEventType(this);this.getHandler().listen(this,goog.ui.Component.EventType.ENTER,this.handleEnterItem).listen(this,goog.ui.Component.EventType.HIGHLIGHT,this.handleHighlightItem).listen(this,goog.ui.Component.EventType.UNHIGHLIGHT,this.handleUnHighlightItem).listen(this,goog.ui.Component.EventType.OPEN,this.handleOpenItem).listen(this,goog.ui.Component.EventType.CLOSE,this.handleCloseItem).listen(e,t.MOUSEDOWN,this.handleMouseDown).listen(goog.dom.getOwnerDocument(e),[t.MOUSEUP,t.MOUSECANCEL],this.handleDocumentMouseUp).listen(e,[t.MOUSEDOWN,t.MOUSEUP,t.MOUSECANCEL,goog.events.EventType.MOUSEOVER,goog.events.EventType.MOUSEOUT,goog.events.EventType.CONTEXTMENU],this.handleChildMouseEvents),this.pointerEventsEnabled()&&this.getHandler().listen(e,goog.events.EventType.GOTPOINTERCAPTURE,this.preventPointerCapture_),this.isFocusable()&&this.enableFocusHandling_(!0)},goog.ui.Container.prototype.preventPointerCapture_=function(e){var t=e.target;t.releasePointerCapture&&t.releasePointerCapture(e.pointerId)},goog.ui.Container.prototype.enableFocusHandling_=function(e){var t=this.getHandler(),o=this.getKeyEventTarget();e?t.listen(o,goog.events.EventType.FOCUS,this.handleFocus).listen(o,goog.events.EventType.BLUR,this.handleBlur).listen(this.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent):t.unlisten(o,goog.events.EventType.FOCUS,this.handleFocus).unlisten(o,goog.events.EventType.BLUR,this.handleBlur).unlisten(this.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent)},goog.ui.Container.prototype.exitDocument=function(){this.setHighlightedIndex(-1),this.openItem_&&this.openItem_.setOpen(!1),this.mouseButtonPressed_=!1,goog.ui.Container.superClass_.exitDocument.call(this)},goog.ui.Container.prototype.disposeInternal=function(){goog.ui.Container.superClass_.disposeInternal.call(this),this.keyHandler_&&(this.keyHandler_.dispose(),this.keyHandler_=null),this.renderer_=this.openItem_=this.childElementIdMap_=this.keyEventTarget_=null},goog.ui.Container.prototype.handleEnterItem=function(e){return!0},goog.ui.Container.prototype.handleHighlightItem=function(e){var t=this.indexOfChild(e.target);if(-1<t&&t!=this.highlightedIndex_){var o=this.getHighlighted();o&&o.setHighlighted(!1),this.highlightedIndex_=t,o=this.getHighlighted(),this.isMouseButtonPressed()&&o.setActive(!0),this.openFollowsHighlight_&&this.openItem_&&o!=this.openItem_&&(o.isSupportedState(goog.ui.Component.State.OPENED)?o.setOpen(!0):this.openItem_.setOpen(!1))}t=this.getElement(),goog.asserts.assert(t,"The DOM element for the container cannot be null."),null!=e.target.getElement()&&goog.a11y.aria.setState(t,goog.a11y.aria.State.ACTIVEDESCENDANT,e.target.getElement().id)},goog.ui.Container.prototype.handleUnHighlightItem=function(e){e.target==this.getHighlighted()&&(this.highlightedIndex_=-1),e=this.getElement(),goog.asserts.assert(e,"The DOM element for the container cannot be null."),goog.a11y.aria.removeState(e,goog.a11y.aria.State.ACTIVEDESCENDANT)},goog.ui.Container.prototype.handleOpenItem=function(e){(e=e.target)&&e!=this.openItem_&&e.getParent()==this&&(this.openItem_&&this.openItem_.setOpen(!1),this.openItem_=e)},goog.ui.Container.prototype.handleCloseItem=function(e){e.target==this.openItem_&&(this.openItem_=null);var t=this.getElement(),o=e.target.getElement();t&&e.target.isHighlighted()&&o&&goog.a11y.aria.setActiveDescendant(t,o)},goog.ui.Container.prototype.handleMouseDown=function(e){this.enabled_&&this.setMouseButtonPressed(!0);var t=this.getKeyEventTarget();t&&goog.dom.isFocusableTabIndex(t)?t.focus():e.preventDefault()},goog.ui.Container.prototype.handleDocumentMouseUp=function(e){this.setMouseButtonPressed(!1)},goog.ui.Container.prototype.handleChildMouseEvents=function(e){var t=goog.ui.ComponentUtil.getMouseEventType(this),o=this.getOwnerControl(e.target);if(o)switch(e.type){case t.MOUSEDOWN:o.handleMouseDown(e);break;case t.MOUSEUP:case t.MOUSECANCEL:o.handleMouseUp(e);break;case goog.events.EventType.MOUSEOVER:o.handleMouseOver(e);break;case goog.events.EventType.MOUSEOUT:o.handleMouseOut(e);break;case goog.events.EventType.CONTEXTMENU:o.handleContextMenu(e)}},goog.ui.Container.prototype.getOwnerControl=function(e){if(this.childElementIdMap_)for(var t=this.getElement();e&&e!==t;){var o=e.id;if(o in this.childElementIdMap_)return this.childElementIdMap_[o];e=e.parentNode}return null},goog.ui.Container.prototype.handleFocus=function(e){},goog.ui.Container.prototype.handleBlur=function(e){this.setHighlightedIndex(-1),this.setMouseButtonPressed(!1),this.openItem_&&this.openItem_.setOpen(!1)},goog.ui.Container.prototype.handleKeyEvent=function(e){return!(!this.isEnabled()||!this.isVisible()||0==this.getChildCount()&&!this.keyEventTarget_||!this.handleKeyEventInternal(e))&&(e.preventDefault(),e.stopPropagation(),!0)},goog.ui.Container.prototype.handleKeyEventInternal=function(e){var t=this.getHighlighted();if(t&&"function"==typeof t.handleKeyEvent&&t.handleKeyEvent(e)||this.openItem_&&this.openItem_!=t&&"function"==typeof this.openItem_.handleKeyEvent&&this.openItem_.handleKeyEvent(e))return!0;if(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)return!1;switch(e.keyCode){case goog.events.KeyCodes.ESC:if(!this.isFocusable())return!1;this.getKeyEventTarget().blur();break;case goog.events.KeyCodes.HOME:this.highlightFirst();break;case goog.events.KeyCodes.END:this.highlightLast();break;case goog.events.KeyCodes.UP:if(this.orientation_!=goog.ui.Container.Orientation.VERTICAL)return!1;this.highlightPrevious();break;case goog.events.KeyCodes.LEFT:if(this.orientation_!=goog.ui.Container.Orientation.HORIZONTAL)return!1;this.isRightToLeft()?this.highlightNext():this.highlightPrevious();break;case goog.events.KeyCodes.DOWN:if(this.orientation_!=goog.ui.Container.Orientation.VERTICAL)return!1;this.highlightNext();break;case goog.events.KeyCodes.RIGHT:if(this.orientation_!=goog.ui.Container.Orientation.HORIZONTAL)return!1;this.isRightToLeft()?this.highlightPrevious():this.highlightNext();break;default:return!1}return!0},goog.ui.Container.prototype.registerChildId_=function(e){var t=e.getElement();t=t.id||(t.id=e.getId()),this.childElementIdMap_||(this.childElementIdMap_={}),this.childElementIdMap_[t]=e},goog.ui.Container.prototype.addChild=function(e,t){goog.asserts.assertInstanceof(e,goog.ui.Control,"The child of a container must be a control"),goog.ui.Container.superClass_.addChild.call(this,e,t)},goog.ui.Container.prototype.addChildAt=function(e,t,o){goog.asserts.assertInstanceof(e,goog.ui.Control),e.setDispatchTransitionEvents(goog.ui.Component.State.HOVER,!0),e.setDispatchTransitionEvents(goog.ui.Component.State.OPENED,!0),!this.isFocusable()&&this.isFocusableChildrenAllowed()||e.setSupportedState(goog.ui.Component.State.FOCUSED,!1),e.setHandleMouseEvents(!1);var n=e.getParent()==this?this.indexOfChild(e):-1;goog.ui.Container.superClass_.addChildAt.call(this,e,t,o),e.isInDocument()&&this.isInDocument()&&this.registerChildId_(e),this.updateHighlightedIndex_(n,t)},goog.ui.Container.prototype.updateHighlightedIndex_=function(e,t){-1==e&&(e=this.getChildCount()),e==this.highlightedIndex_?this.highlightedIndex_=Math.min(this.getChildCount()-1,t):e>this.highlightedIndex_&&t<=this.highlightedIndex_?this.highlightedIndex_++:e<this.highlightedIndex_&&t>this.highlightedIndex_&&this.highlightedIndex_--},goog.ui.Container.prototype.removeChild=function(e,t){if(e=goog.isString(e)?this.getChild(e):e,goog.asserts.assertInstanceof(e,goog.ui.Control),e){var o=this.indexOfChild(e);-1!=o&&(o==this.highlightedIndex_?(e.setHighlighted(!1),this.highlightedIndex_=-1):o<this.highlightedIndex_&&this.highlightedIndex_--),(o=e.getElement())&&o.id&&this.childElementIdMap_&&goog.object.remove(this.childElementIdMap_,o.id)}return e=goog.ui.Container.superClass_.removeChild.call(this,e,t),e.setHandleMouseEvents(!0),e},goog.ui.Container.prototype.getOrientation=function(){return this.orientation_},goog.ui.Container.prototype.setOrientation=function(e){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.orientation_=e},goog.ui.Container.prototype.isVisible=function(){return this.visible_},goog.ui.Container.prototype.setVisible=function(e,t){if(t||this.visible_!=e&&this.dispatchEvent(e?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)){this.visible_=e;var o=this.getElement();return o&&(goog.style.setElementShown(o,e),this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),this.enabled_&&this.visible_),t||this.dispatchEvent(this.visible_?goog.ui.Container.EventType.AFTER_SHOW:goog.ui.Container.EventType.AFTER_HIDE)),!0}return!1},goog.ui.Container.prototype.isEnabled=function(){return this.enabled_},goog.ui.Container.prototype.setEnabled=function(e){this.enabled_!=e&&this.dispatchEvent(e?goog.ui.Component.EventType.ENABLE:goog.ui.Component.EventType.DISABLE)&&(e?(this.enabled_=!0,this.forEachChild(function(e){e.wasDisabled?delete e.wasDisabled:e.setEnabled(!0)})):(this.forEachChild(function(e){e.isEnabled()?e.setEnabled(!1):e.wasDisabled=!0}),this.enabled_=!1,this.setMouseButtonPressed(!1)),this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),e&&this.visible_))},goog.ui.Container.prototype.isFocusable=function(){return this.focusable_},goog.ui.Container.prototype.setFocusable=function(e){e!=this.focusable_&&this.isInDocument()&&this.enableFocusHandling_(e),this.focusable_=e,this.enabled_&&this.visible_&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),e)},goog.ui.Container.prototype.isFocusableChildrenAllowed=function(){return this.allowFocusableChildren_},goog.ui.Container.prototype.setFocusableChildrenAllowed=function(e){this.allowFocusableChildren_=e},goog.ui.Container.prototype.isOpenFollowsHighlight=function(){return this.openFollowsHighlight_},goog.ui.Container.prototype.setOpenFollowsHighlight=function(e){this.openFollowsHighlight_=e},goog.ui.Container.prototype.getHighlightedIndex=function(){return this.highlightedIndex_},goog.ui.Container.prototype.setHighlightedIndex=function(e){(e=this.getChildAt(e))?e.setHighlighted(!0):-1<this.highlightedIndex_&&this.getHighlighted().setHighlighted(!1)},goog.ui.Container.prototype.setHighlighted=function(e){this.setHighlightedIndex(this.indexOfChild(e))},goog.ui.Container.prototype.getHighlighted=function(){return this.getChildAt(this.highlightedIndex_)},goog.ui.Container.prototype.highlightFirst=function(){this.highlightHelper(function(e,t){return(e+1)%t},this.getChildCount()-1)},goog.ui.Container.prototype.highlightLast=function(){this.highlightHelper(function(e,t){return e--,0>e?t-1:e},0)},goog.ui.Container.prototype.highlightNext=function(){this.highlightHelper(function(e,t){return(e+1)%t},this.highlightedIndex_)},goog.ui.Container.prototype.highlightPrevious=function(){this.highlightHelper(function(e,t){return e--,0>e?t-1:e},this.highlightedIndex_)},goog.ui.Container.prototype.highlightHelper=function(e,t){var o=0>t?this.indexOfChild(this.openItem_):t,n=this.getChildCount();o=e.call(this,o,n);for(var i=0;i<=n;){var l=this.getChildAt(o);if(l&&this.canHighlightItem(l))return this.setHighlightedIndexFromKeyEvent(o),!0;i++,o=e.call(this,o,n)}return!1},goog.ui.Container.prototype.canHighlightItem=function(e){return e.isVisible()&&e.isEnabled()&&e.isSupportedState(goog.ui.Component.State.HOVER)},goog.ui.Container.prototype.setHighlightedIndexFromKeyEvent=function(e){this.setHighlightedIndex(e)},goog.ui.Container.prototype.getOpenItem=function(){return this.openItem_},goog.ui.Container.prototype.isMouseButtonPressed=function(){return this.mouseButtonPressed_},goog.ui.Container.prototype.setMouseButtonPressed=function(e){this.mouseButtonPressed_=e},goog.ui.MenuHeaderRenderer=function(){goog.ui.ControlRenderer.call(this)},goog.inherits(goog.ui.MenuHeaderRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.MenuHeaderRenderer),goog.ui.MenuHeaderRenderer.CSS_CLASS="goog-menuheader",goog.ui.MenuHeaderRenderer.prototype.getCssClass=function(){return goog.ui.MenuHeaderRenderer.CSS_CLASS},goog.ui.MenuHeader=function(e,t,o){goog.ui.Control.call(this,e,o||goog.ui.MenuHeaderRenderer.getInstance(),t),this.setSupportedState(goog.ui.Component.State.DISABLED,!1),this.setSupportedState(goog.ui.Component.State.HOVER,!1),this.setSupportedState(goog.ui.Component.State.ACTIVE,!1),this.setSupportedState(goog.ui.Component.State.FOCUSED,!1),this.setStateInternal(goog.ui.Component.State.DISABLED)},goog.inherits(goog.ui.MenuHeader,goog.ui.Control),goog.ui.registry.setDecoratorByClassName(goog.ui.MenuHeaderRenderer.CSS_CLASS,function(){return new goog.ui.MenuHeader(null)}),goog.ui.MenuItemRenderer=function(){goog.ui.ControlRenderer.call(this),this.classNameCache_=[]},goog.inherits(goog.ui.MenuItemRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.MenuItemRenderer),goog.ui.MenuItemRenderer.CSS_CLASS="goog-menuitem",goog.ui.MenuItemRenderer.CompositeCssClassIndex_={HOVER:0,CHECKBOX:1,CONTENT:2},goog.ui.MenuItemRenderer.prototype.getCompositeCssClass_=function(e){var t=this.classNameCache_[e];if(!t){switch(e){case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER:t=this.getStructuralCssClass()+"-highlight";break;case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX:t=this.getStructuralCssClass()+"-checkbox";break;case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT:t=this.getStructuralCssClass()+"-content"}this.classNameCache_[e]=t}return t},goog.ui.MenuItemRenderer.prototype.getAriaRole=function(){return goog.a11y.aria.Role.MENU_ITEM},goog.ui.MenuItemRenderer.prototype.createDom=function(e){var t=e.getDomHelper().createDom("DIV",this.getClassNames(e).join(" "),this.createContent(e.getContent(),e.getDomHelper()));return this.setEnableCheckBoxStructure(e,t,e.isSupportedState(goog.ui.Component.State.SELECTED)||e.isSupportedState(goog.ui.Component.State.CHECKED)),t},goog.ui.MenuItemRenderer.prototype.getContentElement=function(e){return e&&e.firstChild},goog.ui.MenuItemRenderer.prototype.decorate=function(e,t){return goog.asserts.assert(t),this.hasContentStructure(t)||t.appendChild(this.createContent(t.childNodes,e.getDomHelper())),goog.dom.classlist.contains(t,"goog-option")&&(e.setCheckable(!0),this.setCheckable(e,t,!0)),goog.ui.MenuItemRenderer.superClass_.decorate.call(this,e,t)},goog.ui.MenuItemRenderer.prototype.setContent=function(e,t){var o=this.getContentElement(e),n=this.hasCheckBoxStructure(e)?o.firstChild:null;goog.ui.MenuItemRenderer.superClass_.setContent.call(this,e,t),n&&!this.hasCheckBoxStructure(e)&&o.insertBefore(n,o.firstChild||null)},goog.ui.MenuItemRenderer.prototype.hasContentStructure=function(e){e=goog.dom.getFirstElementChild(e);var t=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);return!!e&&goog.dom.classlist.contains(e,t)},goog.ui.MenuItemRenderer.prototype.createContent=function(e,t){var o=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);return t.createDom("DIV",o,e)},goog.ui.MenuItemRenderer.prototype.setSelectable=function(e,t,o){e&&t&&this.setEnableCheckBoxStructure(e,t,o)},goog.ui.MenuItemRenderer.prototype.setCheckable=function(e,t,o){e&&t&&this.setEnableCheckBoxStructure(e,t,o)},goog.ui.MenuItemRenderer.prototype.hasCheckBoxStructure=function(e){if(e=this.getContentElement(e)){e=e.firstChild;var t=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX);return!!e&&goog.dom.isElement(e)&&goog.dom.classlist.contains(e,t)}return!1},goog.ui.MenuItemRenderer.prototype.setEnableCheckBoxStructure=function(e,t,o){this.setAriaRole(t,e.getPreferredAriaRole()),this.setAriaStates(e,t),o!=this.hasCheckBoxStructure(t)&&(goog.dom.classlist.enable(t,"goog-option",o),t=this.getContentElement(t),o?(o=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX),t.insertBefore(e.getDomHelper().createDom("DIV",o),t.firstChild||null)):t.removeChild(t.firstChild))},goog.ui.MenuItemRenderer.prototype.getClassForState=function(e){switch(e){case goog.ui.Component.State.HOVER:return this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);case goog.ui.Component.State.CHECKED:case goog.ui.Component.State.SELECTED:return"goog-option-selected";default:return goog.ui.MenuItemRenderer.superClass_.getClassForState.call(this,e)}},goog.ui.MenuItemRenderer.prototype.getStateFromClass=function(e){var t=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);switch(e){case"goog-option-selected":return goog.ui.Component.State.CHECKED;case t:return goog.ui.Component.State.HOVER;default:return goog.ui.MenuItemRenderer.superClass_.getStateFromClass.call(this,e)}},goog.ui.MenuItemRenderer.prototype.getCssClass=function(){return goog.ui.MenuItemRenderer.CSS_CLASS},goog.ui.MenuItem=function(e,t,o,n){goog.ui.Control.call(this,e,n||goog.ui.MenuItemRenderer.getInstance(),o),this.setValue(t)},goog.inherits(goog.ui.MenuItem,goog.ui.Control),goog.tagUnsealableClass(goog.ui.MenuItem),goog.ui.MenuItem.MNEMONIC_WRAPPER_CLASS_="goog-menuitem-mnemonic-separator",goog.ui.MenuItem.ACCELERATOR_CLASS="goog-menuitem-accel",goog.ui.MenuItem.prototype.getValue=function(){var e=this.getModel();return null!=e?e:this.getCaption()},goog.ui.MenuItem.prototype.setValue=function(e){this.setModel(e)},goog.ui.MenuItem.prototype.setSupportedState=function(e,t){switch(goog.ui.MenuItem.superClass_.setSupportedState.call(this,e,t),e){case goog.ui.Component.State.SELECTED:this.setSelectableInternal_(t);break;case goog.ui.Component.State.CHECKED:this.setCheckableInternal_(t)}},goog.ui.MenuItem.prototype.setSelectable=function(e){this.setSupportedState(goog.ui.Component.State.SELECTED,e)},goog.ui.MenuItem.prototype.setSelectableInternal_=function(e){this.isChecked()&&!e&&this.setChecked(!1);var t=this.getElement();t&&this.getRenderer().setSelectable(this,t,e)},goog.ui.MenuItem.prototype.setCheckable=function(e){this.setSupportedState(goog.ui.Component.State.CHECKED,e)},goog.ui.MenuItem.prototype.setCheckableInternal_=function(e){var t=this.getElement();t&&this.getRenderer().setCheckable(this,t,e)},goog.ui.MenuItem.prototype.getCaption=function(){var e=this.getContent();if(goog.isArray(e)){var t=goog.ui.MenuItem.ACCELERATOR_CLASS,o=goog.ui.MenuItem.MNEMONIC_WRAPPER_CLASS_;return e=goog.array.map(e,function(e){return goog.dom.isElement(e)&&(goog.dom.classlist.contains(e,t)||goog.dom.classlist.contains(e,o))?"":goog.dom.getRawTextContent(e)}).join(""),goog.string.collapseBreakingSpaces(e)}return goog.ui.MenuItem.superClass_.getCaption.call(this)},goog.ui.MenuItem.prototype.getAccelerator=function(){var e=this.getDomHelper(),t=this.getContent();return goog.isArray(t)&&(t=goog.array.find(t,function(e){return goog.dom.classlist.contains(e,goog.ui.MenuItem.ACCELERATOR_CLASS)}))?e.getTextContent(t):null},goog.ui.MenuItem.prototype.handleMouseUp=function(e){var t=this.getParent();if(t){var o=t.openingCoords;if(t.openingCoords=null,o&&goog.isNumber(e.clientX)&&(t=new goog.math.Coordinate(e.clientX,e.clientY),goog.math.Coordinate.equals(o,t)))return}goog.ui.MenuItem.superClass_.handleMouseUp.call(this,e)},goog.ui.MenuItem.prototype.handleKeyEventInternal=function(e){return!(e.keyCode!=this.getMnemonic()||!this.performActionInternal(e))||goog.ui.MenuItem.superClass_.handleKeyEventInternal.call(this,e)},goog.ui.MenuItem.prototype.setMnemonic=function(e){this.mnemonicKey_=e},goog.ui.MenuItem.prototype.getMnemonic=function(){return this.mnemonicKey_},goog.ui.registry.setDecoratorByClassName(goog.ui.MenuItemRenderer.CSS_CLASS,function(){return new goog.ui.MenuItem(null)}),goog.ui.MenuItem.prototype.getPreferredAriaRole=function(){return this.isSupportedState(goog.ui.Component.State.CHECKED)?goog.a11y.aria.Role.MENU_ITEM_CHECKBOX:this.isSupportedState(goog.ui.Component.State.SELECTED)?goog.a11y.aria.Role.MENU_ITEM_RADIO:goog.ui.MenuItem.superClass_.getPreferredAriaRole.call(this)},goog.ui.MenuItem.prototype.getParent=function(){return goog.ui.Control.prototype.getParent.call(this)},goog.ui.MenuItem.prototype.getParentEventTarget=function(){return goog.ui.Control.prototype.getParentEventTarget.call(this)},goog.ui.MenuSeparatorRenderer=function(){goog.ui.ControlRenderer.call(this)},goog.inherits(goog.ui.MenuSeparatorRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.MenuSeparatorRenderer),goog.ui.MenuSeparatorRenderer.CSS_CLASS="goog-menuseparator",goog.ui.MenuSeparatorRenderer.prototype.createDom=function(e){return e.getDomHelper().createDom("DIV",this.getCssClass())},goog.ui.MenuSeparatorRenderer.prototype.decorate=function(e,t){if(t.id&&e.setId(t.id),"HR"==t.tagName){var o=t;t=this.createDom(e),goog.dom.insertSiblingBefore(t,o),goog.dom.removeNode(o)}else goog.dom.classlist.add(t,this.getCssClass());return t},goog.ui.MenuSeparatorRenderer.prototype.setContent=function(e,t){},goog.ui.MenuSeparatorRenderer.prototype.getCssClass=function(){return goog.ui.MenuSeparatorRenderer.CSS_CLASS},goog.ui.Separator=function(e,t){goog.ui.Control.call(this,null,e||goog.ui.MenuSeparatorRenderer.getInstance(),t),this.setSupportedState(goog.ui.Component.State.DISABLED,!1),this.setSupportedState(goog.ui.Component.State.HOVER,!1),this.setSupportedState(goog.ui.Component.State.ACTIVE,!1),this.setSupportedState(goog.ui.Component.State.FOCUSED,!1),this.setStateInternal(goog.ui.Component.State.DISABLED)},goog.inherits(goog.ui.Separator,goog.ui.Control),goog.ui.Separator.prototype.enterDocument=function(){goog.ui.Separator.superClass_.enterDocument.call(this);var e=this.getElement();goog.asserts.assert(e,"The DOM element for the separator cannot be null."),goog.a11y.aria.setRole(e,"separator")},goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS,function(){return new goog.ui.Separator}),goog.ui.MenuRenderer=function(e){goog.ui.ContainerRenderer.call(this,e||goog.a11y.aria.Role.MENU)},goog.inherits(goog.ui.MenuRenderer,goog.ui.ContainerRenderer),goog.addSingletonGetter(goog.ui.MenuRenderer),goog.ui.MenuRenderer.CSS_CLASS="goog-menu",goog.ui.MenuRenderer.prototype.canDecorate=function(e){return"UL"==e.tagName||goog.ui.MenuRenderer.superClass_.canDecorate.call(this,e)},goog.ui.MenuRenderer.prototype.getDecoratorForChild=function(e){return"HR"==e.tagName?new goog.ui.Separator:goog.ui.MenuRenderer.superClass_.getDecoratorForChild.call(this,e)},goog.ui.MenuRenderer.prototype.containsElement=function(e,t){return goog.dom.contains(e.getElement(),t)},goog.ui.MenuRenderer.prototype.getCssClass=function(){return goog.ui.MenuRenderer.CSS_CLASS},goog.ui.MenuRenderer.prototype.initializeDom=function(e){goog.ui.MenuRenderer.superClass_.initializeDom.call(this,e),e=e.getElement(),goog.asserts.assert(e,"The menu DOM element cannot be null."),goog.a11y.aria.setState(e,goog.a11y.aria.State.HASPOPUP,"true")},goog.ui.MenuSeparator=function(e){goog.ui.Separator.call(this,goog.ui.MenuSeparatorRenderer.getInstance(),e)},goog.inherits(goog.ui.MenuSeparator,goog.ui.Separator),goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS,function(){return new goog.ui.Separator});goog.ui.Menu=function(e,t){goog.ui.Container.call(this,goog.ui.Container.Orientation.VERTICAL,t||goog.ui.MenuRenderer.getInstance(),e),this.setFocusable(!1)};goog.inherits(goog.ui.Menu,goog.ui.Container),goog.tagUnsealableClass(goog.ui.Menu),goog.ui.Menu.EventType={BEFORE_SHOW:goog.ui.Component.EventType.BEFORE_SHOW,SHOW:goog.ui.Component.EventType.SHOW,BEFORE_HIDE:goog.ui.Component.EventType.HIDE,HIDE:goog.ui.Component.EventType.HIDE},goog.ui.Menu.CSS_CLASS=goog.ui.MenuRenderer.CSS_CLASS,goog.ui.Menu.prototype.allowAutoFocus_=!0,goog.ui.Menu.prototype.allowHighlightDisabled_=!1,goog.ui.Menu.prototype.getCssClass=function(){return this.getRenderer().getCssClass()},goog.ui.Menu.prototype.containsElement=function(e){if(this.getRenderer().containsElement(this,e))return!0;for(var t=0,o=this.getChildCount();t<o;t++){var n=this.getChildAt(t);if("function"==typeof n.containsElement&&n.containsElement(e))return!0}return!1},goog.ui.Menu.prototype.addItem=function(e){this.addChild(e,!0)},goog.ui.Menu.prototype.addItemAt=function(e,t){this.addChildAt(e,t,!0)},goog.ui.Menu.prototype.removeItem=function(e){(e=this.removeChild(e,!0))&&e.dispose()},goog.ui.Menu.prototype.removeItemAt=function(e){(e=this.removeChildAt(e,!0))&&e.dispose()},goog.ui.Menu.prototype.getItemAt=function(e){return this.getChildAt(e)},goog.ui.Menu.prototype.getItemCount=function(){return this.getChildCount()},goog.ui.Menu.prototype.getItems=function(){var e=[];return this.forEachChild(function(t){e.push(t)}),e},goog.ui.Menu.prototype.setPosition=function(e,t){var o=this.isVisible();o||goog.style.setElementShown(this.getElement(),!0),goog.style.setPageOffset(this.getElement(),e,t),o||goog.style.setElementShown(this.getElement(),!1)},goog.ui.Menu.prototype.getPosition=function(){return this.isVisible()?goog.style.getPageOffset(this.getElement()):null},goog.ui.Menu.prototype.setAllowAutoFocus=function(e){(this.allowAutoFocus_=e)&&this.setFocusable(!0)},goog.ui.Menu.prototype.getAllowAutoFocus=function(){return this.allowAutoFocus_},goog.ui.Menu.prototype.setAllowHighlightDisabled=function(e){this.allowHighlightDisabled_=e},goog.ui.Menu.prototype.getAllowHighlightDisabled=function(){return this.allowHighlightDisabled_},goog.ui.Menu.prototype.setVisible=function(e,t,o){return(t=goog.ui.Menu.superClass_.setVisible.call(this,e,t))&&e&&this.isInDocument()&&this.allowAutoFocus_&&this.getKeyEventTarget().focus(),e&&o&&goog.isNumber(o.clientX)?this.openingCoords=new goog.math.Coordinate(o.clientX,o.clientY):this.openingCoords=null,t},goog.ui.Menu.prototype.handleEnterItem=function(e){return this.allowAutoFocus_&&this.getKeyEventTarget().focus(),goog.ui.Menu.superClass_.handleEnterItem.call(this,e)},goog.ui.Menu.prototype.highlightNextPrefix=function(e){var t=new RegExp("^"+goog.string.regExpEscape(e),"i");return this.highlightHelper(function(e,o){var n=0>e?0:e,i=!1;do{++e,e==o&&(e=0,i=!0);var l=this.getChildAt(e).getCaption();if(l&&l.match(t))return e}while(!i||e!=n);return this.getHighlightedIndex()},this.getHighlightedIndex())},goog.ui.Menu.prototype.canHighlightItem=function(e){return(this.allowHighlightDisabled_||e.isEnabled())&&e.isVisible()&&e.isSupportedState(goog.ui.Component.State.HOVER)},goog.ui.Menu.prototype.decorateInternal=function(e){this.decorateContent(e),goog.ui.Menu.superClass_.decorateInternal.call(this,e)},goog.ui.Menu.prototype.handleKeyEventInternal=function(e){var t=goog.ui.Menu.superClass_.handleKeyEventInternal.call(this,e);return t||this.forEachChild(function(o){!t&&o.getMnemonic&&o.getMnemonic()==e.keyCode&&(this.isEnabled()&&this.setHighlighted(o),t=o.handleKeyEvent(e))},this),t},goog.ui.Menu.prototype.setHighlightedIndex=function(e){goog.ui.Menu.superClass_.setHighlightedIndex.call(this,e),(e=this.getChildAt(e))&&goog.style.scrollIntoContainerView(e.getElement(),this.getElement())},goog.ui.Menu.prototype.decorateContent=function(e){var t=this.getRenderer();e=this.getDomHelper().getElementsByTagNameAndClass("DIV",t.getCssClass()+"-content",e);for(var o=e.length,n=0;n<o;n++)t.decorateChildren(this,e[n])},goog.events.FocusHandler=function(e){goog.events.EventTarget.call(this),this.element_=e,e=goog.userAgent.IE?"focusout":"blur",this.listenKeyIn_=goog.events.listen(this.element_,goog.userAgent.IE?"focusin":"focus",this,!goog.userAgent.IE),this.listenKeyOut_=goog.events.listen(this.element_,e,this,!goog.userAgent.IE)},goog.inherits(goog.events.FocusHandler,goog.events.EventTarget),goog.events.FocusHandler.EventType={FOCUSIN:"focusin",FOCUSOUT:"focusout"},goog.events.FocusHandler.prototype.handleEvent=function(e){var t=e.getBrowserEvent();t=new goog.events.BrowserEvent(t),t.type="focusin"==e.type||"focus"==e.type?goog.events.FocusHandler.EventType.FOCUSIN:goog.events.FocusHandler.EventType.FOCUSOUT,this.dispatchEvent(t)},goog.events.FocusHandler.prototype.disposeInternal=function(){goog.events.FocusHandler.superClass_.disposeInternal.call(this),goog.events.unlistenByKey(this.listenKeyIn_),goog.events.unlistenByKey(this.listenKeyOut_),delete this.element_},goog.debug.LogRecord=function(e,t,o,n,i){this.reset(e,t,o,n,i)},goog.debug.LogRecord.prototype.sequenceNumber_=0,goog.debug.LogRecord.prototype.exception_=null,goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS=!0,goog.debug.LogRecord.nextSequenceNumber_=0,goog.debug.LogRecord.prototype.reset=function(e,t,o,n,i){goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS&&(this.sequenceNumber_="number"==typeof i?i:goog.debug.LogRecord.nextSequenceNumber_++),this.time_=n||goog.now(),this.level_=e,this.msg_=t,this.loggerName_=o,delete this.exception_},goog.debug.LogRecord.prototype.getLoggerName=function(){return this.loggerName_},goog.debug.LogRecord.prototype.getException=function(){return this.exception_},goog.debug.LogRecord.prototype.setException=function(e){this.exception_=e},goog.debug.LogRecord.prototype.setLoggerName=function(e){this.loggerName_=e},goog.debug.LogRecord.prototype.getLevel=function(){return this.level_},goog.debug.LogRecord.prototype.setLevel=function(e){
this.level_=e},goog.debug.LogRecord.prototype.getMessage=function(){return this.msg_},goog.debug.LogRecord.prototype.setMessage=function(e){this.msg_=e},goog.debug.LogRecord.prototype.getMillis=function(){return this.time_},goog.debug.LogRecord.prototype.setMillis=function(e){this.time_=e},goog.debug.LogRecord.prototype.getSequenceNumber=function(){return this.sequenceNumber_},goog.debug.LogBuffer=function(){goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(),"Cannot use goog.debug.LogBuffer without defining goog.debug.LogBuffer.CAPACITY."),this.clear()},goog.debug.LogBuffer.getInstance=function(){return goog.debug.LogBuffer.instance_||(goog.debug.LogBuffer.instance_=new goog.debug.LogBuffer),goog.debug.LogBuffer.instance_},goog.debug.LogBuffer.CAPACITY=0,goog.debug.LogBuffer.prototype.addRecord=function(e,t,o){var n=(this.curIndex_+1)%goog.debug.LogBuffer.CAPACITY;return this.curIndex_=n,this.isFull_?(n=this.buffer_[n],n.reset(e,t,o),n):(this.isFull_=n==goog.debug.LogBuffer.CAPACITY-1,this.buffer_[n]=new goog.debug.LogRecord(e,t,o))},goog.debug.LogBuffer.isBufferingEnabled=function(){return 0<goog.debug.LogBuffer.CAPACITY},goog.debug.LogBuffer.prototype.clear=function(){this.buffer_=Array(goog.debug.LogBuffer.CAPACITY),this.curIndex_=-1,this.isFull_=!1},goog.debug.LogBuffer.prototype.forEachRecord=function(e){var t=this.buffer_;if(t[0]){var o=this.curIndex_,n=this.isFull_?o:-1;do n=(n+1)%goog.debug.LogBuffer.CAPACITY,e(t[n]);while(n!=o)}},goog.debug.Logger=function(e){this.name_=e,this.handlers_=this.children_=this.level_=this.parent_=null},goog.debug.Logger.ROOT_LOGGER_NAME="",goog.debug.Logger.ENABLE_HIERARCHY=!0,goog.debug.Logger.ENABLE_PROFILER_LOGGING=!1,goog.debug.Logger.ENABLE_HIERARCHY||(goog.debug.Logger.rootHandlers_=[]),goog.debug.Logger.Level=function(e,t){this.name=e,this.value=t},goog.debug.Logger.Level.prototype.toString=function(){return this.name},goog.debug.Logger.Level.OFF=new goog.debug.Logger.Level("OFF",1/0),goog.debug.Logger.Level.SHOUT=new goog.debug.Logger.Level("SHOUT",1200),goog.debug.Logger.Level.SEVERE=new goog.debug.Logger.Level("SEVERE",1e3),goog.debug.Logger.Level.WARNING=new goog.debug.Logger.Level("WARNING",900),goog.debug.Logger.Level.INFO=new goog.debug.Logger.Level("INFO",800),goog.debug.Logger.Level.CONFIG=new goog.debug.Logger.Level("CONFIG",700),goog.debug.Logger.Level.FINE=new goog.debug.Logger.Level("FINE",500),goog.debug.Logger.Level.FINER=new goog.debug.Logger.Level("FINER",400),goog.debug.Logger.Level.FINEST=new goog.debug.Logger.Level("FINEST",300),goog.debug.Logger.Level.ALL=new goog.debug.Logger.Level("ALL",0),goog.debug.Logger.Level.PREDEFINED_LEVELS=[goog.debug.Logger.Level.OFF,goog.debug.Logger.Level.SHOUT,goog.debug.Logger.Level.SEVERE,goog.debug.Logger.Level.WARNING,goog.debug.Logger.Level.INFO,goog.debug.Logger.Level.CONFIG,goog.debug.Logger.Level.FINE,goog.debug.Logger.Level.FINER,goog.debug.Logger.Level.FINEST,goog.debug.Logger.Level.ALL],goog.debug.Logger.Level.predefinedLevelsCache_=null,goog.debug.Logger.Level.createPredefinedLevelsCache_=function(){goog.debug.Logger.Level.predefinedLevelsCache_={};for(var e,t=0;e=goog.debug.Logger.Level.PREDEFINED_LEVELS[t];t++)goog.debug.Logger.Level.predefinedLevelsCache_[e.value]=e,goog.debug.Logger.Level.predefinedLevelsCache_[e.name]=e},goog.debug.Logger.Level.getPredefinedLevel=function(e){return goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_(),goog.debug.Logger.Level.predefinedLevelsCache_[e]||null},goog.debug.Logger.Level.getPredefinedLevelByValue=function(e){if(goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_(),e in goog.debug.Logger.Level.predefinedLevelsCache_)return goog.debug.Logger.Level.predefinedLevelsCache_[e];for(var t=0;t<goog.debug.Logger.Level.PREDEFINED_LEVELS.length;++t){var o=goog.debug.Logger.Level.PREDEFINED_LEVELS[t];if(o.value<=e)return o}return null},goog.debug.Logger.getLogger=function(e){return goog.debug.LogManager.getLogger(e)},goog.debug.Logger.logToProfilers=function(e){if(goog.debug.Logger.ENABLE_PROFILER_LOGGING){var t=goog.global.msWriteProfilerMark;t?t(e):(t=goog.global.console)&&t.timeStamp&&t.timeStamp(e)}},goog.debug.Logger.prototype.getName=function(){return this.name_},goog.debug.Logger.prototype.addHandler=function(e){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?(this.handlers_||(this.handlers_=[]),this.handlers_.push(e)):(goog.asserts.assert(!this.name_,"Cannot call addHandler on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootHandlers_.push(e)))},goog.debug.Logger.prototype.removeHandler=function(e){if(goog.debug.LOGGING_ENABLED){var t=goog.debug.Logger.ENABLE_HIERARCHY?this.handlers_:goog.debug.Logger.rootHandlers_;return!!t&&goog.array.remove(t,e)}return!1},goog.debug.Logger.prototype.getParent=function(){return this.parent_},goog.debug.Logger.prototype.getChildren=function(){return this.children_||(this.children_={}),this.children_},goog.debug.Logger.prototype.setLevel=function(e){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?this.level_=e:(goog.asserts.assert(!this.name_,"Cannot call setLevel() on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootLevel_=e))},goog.debug.Logger.prototype.getLevel=function(){return goog.debug.LOGGING_ENABLED?this.level_:goog.debug.Logger.Level.OFF},goog.debug.Logger.prototype.getEffectiveLevel=function(){return goog.debug.LOGGING_ENABLED?goog.debug.Logger.ENABLE_HIERARCHY?this.level_?this.level_:this.parent_?this.parent_.getEffectiveLevel():(goog.asserts.fail("Root logger has no level set."),null):goog.debug.Logger.rootLevel_:goog.debug.Logger.Level.OFF},goog.debug.Logger.prototype.isLoggable=function(e){return goog.debug.LOGGING_ENABLED&&e.value>=this.getEffectiveLevel().value},goog.debug.Logger.prototype.log=function(e,t,o){goog.debug.LOGGING_ENABLED&&this.isLoggable(e)&&(goog.isFunction(t)&&(t=t()),this.doLogRecord_(this.getLogRecord(e,t,o)))},goog.debug.Logger.prototype.getLogRecord=function(e,t,o){return e=goog.debug.LogBuffer.isBufferingEnabled()?goog.debug.LogBuffer.getInstance().addRecord(e,t,this.name_):new goog.debug.LogRecord(e,String(t),this.name_),o&&e.setException(o),e},goog.debug.Logger.prototype.shout=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SHOUT,e,t)},goog.debug.Logger.prototype.severe=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SEVERE,e,t)},goog.debug.Logger.prototype.warning=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.WARNING,e,t)},goog.debug.Logger.prototype.info=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.INFO,e,t)},goog.debug.Logger.prototype.config=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.CONFIG,e,t)},goog.debug.Logger.prototype.fine=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINE,e,t)},goog.debug.Logger.prototype.finer=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINER,e,t)},goog.debug.Logger.prototype.finest=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINEST,e,t)},goog.debug.Logger.prototype.logRecord=function(e){goog.debug.LOGGING_ENABLED&&this.isLoggable(e.getLevel())&&this.doLogRecord_(e)},goog.debug.Logger.prototype.doLogRecord_=function(e){if(goog.debug.Logger.ENABLE_PROFILER_LOGGING&&goog.debug.Logger.logToProfilers("log:"+e.getMessage()),goog.debug.Logger.ENABLE_HIERARCHY)for(var t=this;t;)t.callPublish_(e),t=t.getParent();else{t=0;for(var o;o=goog.debug.Logger.rootHandlers_[t++];)o(e)}},goog.debug.Logger.prototype.callPublish_=function(e){if(this.handlers_)for(var t,o=0;t=this.handlers_[o];o++)t(e)},goog.debug.Logger.prototype.setParent_=function(e){this.parent_=e},goog.debug.Logger.prototype.addChild_=function(e,t){this.getChildren()[e]=t},goog.debug.LogManager={},goog.debug.LogManager.loggers_={},goog.debug.LogManager.rootLogger_=null,goog.debug.LogManager.initialize=function(){goog.debug.LogManager.rootLogger_||(goog.debug.LogManager.rootLogger_=new goog.debug.Logger(goog.debug.Logger.ROOT_LOGGER_NAME),goog.debug.LogManager.loggers_[goog.debug.Logger.ROOT_LOGGER_NAME]=goog.debug.LogManager.rootLogger_,goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG))},goog.debug.LogManager.getLoggers=function(){return goog.debug.LogManager.loggers_},goog.debug.LogManager.getRoot=function(){return goog.debug.LogManager.initialize(),goog.debug.LogManager.rootLogger_},goog.debug.LogManager.getLogger=function(e){return goog.debug.LogManager.initialize(),goog.debug.LogManager.loggers_[e]||goog.debug.LogManager.createLogger_(e)},goog.debug.LogManager.createFunctionForCatchErrors=function(e){return function(t){(e||goog.debug.LogManager.getRoot()).severe("Error: "+t.message+" ("+t.fileName+" @ Line: "+t.line+")")}},goog.debug.LogManager.createLogger_=function(e){var t=new goog.debug.Logger(e);if(goog.debug.Logger.ENABLE_HIERARCHY){var o=e.lastIndexOf("."),n=e.substr(0,o);o=e.substr(o+1),n=goog.debug.LogManager.getLogger(n),n.addChild_(o,t),t.setParent_(n)}return goog.debug.LogManager.loggers_[e]=t},goog.log={},goog.log.ENABLED=goog.debug.LOGGING_ENABLED,goog.log.ROOT_LOGGER_NAME=goog.debug.Logger.ROOT_LOGGER_NAME,goog.log.Logger=goog.debug.Logger,goog.log.Level=goog.debug.Logger.Level,goog.log.LogRecord=goog.debug.LogRecord,goog.log.getLogger=function(e,t){if(goog.log.ENABLED){var o=goog.debug.LogManager.getLogger(e);return t&&o&&o.setLevel(t),o}return null},goog.log.addHandler=function(e,t){goog.log.ENABLED&&e&&e.addHandler(t)},goog.log.removeHandler=function(e,t){return!(!goog.log.ENABLED||!e)&&e.removeHandler(t)},goog.log.log=function(e,t,o,n){goog.log.ENABLED&&e&&e.log(t,o,n)},goog.log.error=function(e,t,o){goog.log.ENABLED&&e&&e.severe(t,o)},goog.log.warning=function(e,t,o){goog.log.ENABLED&&e&&e.warning(t,o)},goog.log.info=function(e,t,o){goog.log.ENABLED&&e&&e.info(t,o)},goog.log.fine=function(e,t,o){goog.log.ENABLED&&e&&e.fine(t,o)},goog.string.StringBuffer=function(e,t){null!=e&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.buffer_="",goog.string.StringBuffer.prototype.set=function(e){this.buffer_=""+e},goog.string.StringBuffer.prototype.append=function(e,t,o){if(this.buffer_+=String(e),null!=t)for(var n=1;n<arguments.length;n++)this.buffer_+=arguments[n];return this},goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""},goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length},goog.string.StringBuffer.prototype.toString=function(){return this.buffer_},goog.ui.tree={},goog.ui.tree.BaseNode=function(e,t,o){goog.ui.Component.call(this,o),this.config_=t||goog.ui.tree.BaseNode.defaultConfig,this.html_=goog.html.SafeHtml.htmlEscapePreservingNewlines(e),this.expanded_=this.selected_=!1,this.toolTip_=null,this.afterLabelHtml_=goog.html.SafeHtml.EMPTY,this.isUserCollapsible_=!0,this.depth_=-1},goog.inherits(goog.ui.tree.BaseNode,goog.ui.Component),goog.ui.tree.BaseNode.EventType={BEFORE_EXPAND:"beforeexpand",EXPAND:"expand",BEFORE_COLLAPSE:"beforecollapse",COLLAPSE:"collapse"},goog.ui.tree.BaseNode.allNodes={},goog.ui.tree.BaseNode.prototype.disposeInternal=function(){goog.ui.tree.BaseNode.superClass_.disposeInternal.call(this),this.tree&&(this.tree.removeNode(this),this.tree=null),this.setElementInternal(null)},goog.ui.tree.BaseNode.prototype.initAccessibility=function(){var e=this.getElement();if(e){var t=this.getLabelElement();if(t&&!t.id&&(t.id=this.getId()+".label"),goog.a11y.aria.setRole(e,"treeitem"),goog.a11y.aria.setState(e,"selected",!1),goog.a11y.aria.setState(e,"level",this.getDepth()),t&&goog.a11y.aria.setState(e,"labelledby",t.id),(t=this.getIconElement())&&goog.a11y.aria.setRole(t,"presentation"),(t=this.getExpandIconElement())&&goog.a11y.aria.setRole(t,"presentation"),(t=this.getChildrenElement())&&(goog.a11y.aria.setRole(t,"group"),t.hasChildNodes()))for(goog.a11y.aria.setState(e,goog.a11y.aria.State.EXPANDED,!1),e=this.getChildCount(),t=1;t<=e;t++){var o=this.getChildAt(t-1).getElement();goog.asserts.assert(o,"The child element cannot be null"),goog.a11y.aria.setState(o,"setsize",e),goog.a11y.aria.setState(o,"posinset",t)}}},goog.ui.tree.BaseNode.prototype.createDom=function(){var e=this.getDomHelper().safeHtmlToNode(this.toSafeHtml());this.setElementInternal(e)},goog.ui.tree.BaseNode.prototype.enterDocument=function(){goog.ui.tree.BaseNode.superClass_.enterDocument.call(this),goog.ui.tree.BaseNode.allNodes[this.getId()]=this,this.initAccessibility()},goog.ui.tree.BaseNode.prototype.exitDocument=function(){goog.ui.tree.BaseNode.superClass_.exitDocument.call(this),delete goog.ui.tree.BaseNode.allNodes[this.getId()]},goog.ui.tree.BaseNode.prototype.addChildAt=function(e,t,o){goog.asserts.assert(!e.getParent()),goog.asserts.assertInstanceof(e,goog.ui.tree.BaseNode),o=this.getChildAt(t-1);var n=this.getChildAt(t);if(goog.ui.tree.BaseNode.superClass_.addChildAt.call(this,e,t),e.previousSibling_=o,e.nextSibling_=n,o?o.nextSibling_=e:this.firstChild_=e,n?n.previousSibling_=e:this.lastChild_=e,(t=this.getTree())&&e.setTreeInternal(t),e.setDepth_(this.getDepth()+1),(t=this.getElement())&&(this.updateExpandIcon(),goog.a11y.aria.setState(t,goog.a11y.aria.State.EXPANDED,this.getExpanded()),this.getExpanded())){t=this.getChildrenElement(),e.getElement()||e.createDom();var i=e.getElement(),l=n&&n.getElement();t.insertBefore(i,l),this.isInDocument()&&e.enterDocument(),n||(o?o.updateExpandIcon():(goog.style.setElementShown(t,!0),this.setExpanded(this.getExpanded())))}},goog.ui.tree.BaseNode.prototype.add=function(e,t){return goog.asserts.assert(!t||t.getParent()==this,"Can only add nodes before siblings"),e.getParent()&&e.getParent().removeChild(e),this.addChildAt(e,t?this.indexOfChild(t):this.getChildCount()),e},goog.ui.tree.BaseNode.prototype.removeChild=function(e,t){var o=this.getTree(),n=o?o.getSelectedItem():null;if((n==e||e.contains(n))&&(o.hasFocus()?(this.select(),goog.Timer.callOnce(this.onTimeoutSelect_,10,this)):this.select()),goog.ui.tree.BaseNode.superClass_.removeChild.call(this,e),this.lastChild_==e&&(this.lastChild_=e.previousSibling_),this.firstChild_==e&&(this.firstChild_=e.nextSibling_),e.previousSibling_&&(e.previousSibling_.nextSibling_=e.nextSibling_),e.nextSibling_&&(e.nextSibling_.previousSibling_=e.previousSibling_),n=e.isLastSibling(),e.tree=null,e.depth_=-1,o&&(o.removeNode(e),this.isInDocument())){if(o=this.getChildrenElement(),e.isInDocument()){var i=e.getElement();o.removeChild(i),e.exitDocument()}n&&(n=this.getLastChild())&&n.updateExpandIcon(),this.hasChildren()||(o.style.display="none",this.updateExpandIcon(),this.updateIcon_(),(n=this.getElement())&&goog.a11y.aria.removeState(n,goog.a11y.aria.State.EXPANDED))}return e},goog.ui.tree.BaseNode.prototype.remove=goog.ui.tree.BaseNode.prototype.removeChild,goog.ui.tree.BaseNode.prototype.onTimeoutSelect_=function(){this.select()},goog.ui.tree.BaseNode.prototype.getTree=goog.abstractMethod,goog.ui.tree.BaseNode.prototype.getDepth=function(){var e=this.depth_;return 0>e&&(e=this.computeDepth_(),this.setDepth_(e)),e},goog.ui.tree.BaseNode.prototype.computeDepth_=function(){var e=this.getParent();return e?e.getDepth()+1:0},goog.ui.tree.BaseNode.prototype.setDepth_=function(e){if(e!=this.depth_){this.depth_=e;var t=this.getRowElement();if(t){var o=this.getPixelIndent_()+"px";this.isRightToLeft()?t.style.paddingRight=o:t.style.paddingLeft=o}this.forEachChild(function(t){t.setDepth_(e+1)})}},goog.ui.tree.BaseNode.prototype.contains=function(e){for(;e;){if(e==this)return!0;e=e.getParent()}return!1},goog.ui.tree.BaseNode.EMPTY_CHILDREN_=[],goog.ui.tree.BaseNode.prototype.getChildren=function(){var e=[];return this.forEachChild(function(t){e.push(t)}),e},goog.ui.tree.BaseNode.prototype.getFirstChild=function(){return this.getChildAt(0)},goog.ui.tree.BaseNode.prototype.getLastChild=function(){return this.getChildAt(this.getChildCount()-1)},goog.ui.tree.BaseNode.prototype.getPreviousSibling=function(){return this.previousSibling_},goog.ui.tree.BaseNode.prototype.getNextSibling=function(){return this.nextSibling_},goog.ui.tree.BaseNode.prototype.isLastSibling=function(){return!this.nextSibling_},goog.ui.tree.BaseNode.prototype.isSelected=function(){return this.selected_},goog.ui.tree.BaseNode.prototype.select=function(){var e=this.getTree();e&&e.setSelectedItem(this)},goog.ui.tree.BaseNode.prototype.deselect=goog.nullFunction,goog.ui.tree.BaseNode.prototype.setSelectedInternal=function(e){if(this.selected_!=e){this.selected_=e,this.updateRow();var t=this.getElement();t&&(goog.a11y.aria.setState(t,"selected",e),e&&(e=this.getTree().getElement(),goog.asserts.assert(e,"The DOM element for the tree cannot be null"),goog.a11y.aria.setState(e,"activedescendant",this.getId())))}},goog.ui.tree.BaseNode.prototype.getExpanded=function(){return this.expanded_},goog.ui.tree.BaseNode.prototype.setExpandedInternal=function(e){this.expanded_=e},goog.ui.tree.BaseNode.prototype.setExpanded=function(e){var t=e!=this.expanded_;if(!t||this.dispatchEvent(e?goog.ui.tree.BaseNode.EventType.BEFORE_EXPAND:goog.ui.tree.BaseNode.EventType.BEFORE_COLLAPSE)){this.expanded_=e;var o=this.getTree(),n=this.getElement();if(this.hasChildren()){if(!e&&o&&this.contains(o.getSelectedItem())&&this.select(),n){if((o=this.getChildrenElement())&&(goog.style.setElementShown(o,e),goog.a11y.aria.setState(n,goog.a11y.aria.State.EXPANDED,e),e&&this.isInDocument()&&!o.hasChildNodes())){var i=[];this.forEachChild(function(e){i.push(e.toSafeHtml())}),goog.dom.safe.setInnerHtml(o,goog.html.SafeHtml.concat(i)),this.forEachChild(function(e){e.enterDocument()})}this.updateExpandIcon()}}else(o=this.getChildrenElement())&&goog.style.setElementShown(o,!1);n&&this.updateIcon_(),t&&this.dispatchEvent(e?goog.ui.tree.BaseNode.EventType.EXPAND:goog.ui.tree.BaseNode.EventType.COLLAPSE)}},goog.ui.tree.BaseNode.prototype.toggle=function(){this.setExpanded(!this.getExpanded())},goog.ui.tree.BaseNode.prototype.expand=function(){this.setExpanded(!0)},goog.ui.tree.BaseNode.prototype.collapse=function(){this.setExpanded(!1)},goog.ui.tree.BaseNode.prototype.collapseChildren=function(){this.forEachChild(function(e){e.collapseAll()})},goog.ui.tree.BaseNode.prototype.collapseAll=function(){this.collapseChildren(),this.collapse()},goog.ui.tree.BaseNode.prototype.expandChildren=function(){this.forEachChild(function(e){e.expandAll()})},goog.ui.tree.BaseNode.prototype.expandAll=function(){this.expandChildren(),this.expand()},goog.ui.tree.BaseNode.prototype.reveal=function(){var e=this.getParent();e&&(e.setExpanded(!0),e.reveal())},goog.ui.tree.BaseNode.prototype.setIsUserCollapsible=function(e){(this.isUserCollapsible_=e)||this.expand(),this.getElement()&&this.updateExpandIcon()},goog.ui.tree.BaseNode.prototype.isUserCollapsible=function(){return this.isUserCollapsible_},goog.ui.tree.BaseNode.prototype.toSafeHtml=function(){var e=this.getTree(),t=!e.getShowLines()||e==this.getParent()&&!e.getShowRootLines()?this.config_.cssChildrenNoLines:this.config_.cssChildren;e=this.getExpanded()&&this.hasChildren(),t={class:t,style:this.getLineStyle()};var o=[];return e&&this.forEachChild(function(e){o.push(e.toSafeHtml())}),e=goog.html.SafeHtml.create("div",t,o),goog.html.SafeHtml.create("div",{class:this.config_.cssItem,id:this.getId()},[this.getRowSafeHtml(),e])},goog.ui.tree.BaseNode.prototype.getPixelIndent_=function(){return Math.max(0,(this.getDepth()-1)*this.config_.indentWidth)},goog.ui.tree.BaseNode.prototype.getRowSafeHtml=function(){var e={};e["padding-"+(this.isRightToLeft()?"right":"left")]=this.getPixelIndent_()+"px",e={class:this.getRowClassName(),style:e};var t=[this.getExpandIconSafeHtml(),this.getIconSafeHtml(),this.getLabelSafeHtml()];return goog.html.SafeHtml.create("div",e,t)},goog.ui.tree.BaseNode.prototype.getRowClassName=function(){var e=this.isSelected()?" "+this.config_.cssSelectedRow:"";return this.config_.cssTreeRow+e},goog.ui.tree.BaseNode.prototype.getLabelSafeHtml=function(){var e=goog.html.SafeHtml.create("span",{class:this.config_.cssItemLabel,title:this.getToolTip()||null},this.getSafeHtml());return goog.html.SafeHtml.concat(e,goog.html.SafeHtml.create("span",{},this.getAfterLabelSafeHtml()))},goog.ui.tree.BaseNode.prototype.getAfterLabelHtml=function(){return goog.html.SafeHtml.unwrap(this.getAfterLabelSafeHtml())},goog.ui.tree.BaseNode.prototype.getAfterLabelSafeHtml=function(){return this.afterLabelHtml_},goog.ui.tree.BaseNode.prototype.setAfterLabelSafeHtml=function(e){this.afterLabelHtml_=e;var t=this.getAfterLabelElement();t&&goog.dom.safe.setInnerHtml(t,e)},goog.ui.tree.BaseNode.prototype.getIconSafeHtml=function(){return goog.html.SafeHtml.create("span",{style:{display:"inline-block"},class:this.getCalculatedIconClass()})},goog.ui.tree.BaseNode.prototype.getCalculatedIconClass=goog.abstractMethod,goog.ui.tree.BaseNode.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.create("span",{type:"expand",style:{display:"inline-block"},class:this.getExpandIconClass()})},goog.ui.tree.BaseNode.prototype.getExpandIconClass=function(){var e=this.getTree(),t=!e.getShowLines()||e==this.getParent()&&!e.getShowRootLines(),o=this.config_,n=new goog.string.StringBuffer;if(n.append(o.cssTreeIcon," ",o.cssExpandTreeIcon," "),this.hasChildren()){var i=0;switch(e.getShowExpandIcons()&&this.isUserCollapsible_&&(i=this.getExpanded()?2:1),t||(i=this.isLastSibling()?i+4:i+8),i){case 1:n.append(o.cssExpandTreeIconPlus);break;case 2:n.append(o.cssExpandTreeIconMinus);break;case 4:n.append(o.cssExpandTreeIconL);break;case 5:n.append(o.cssExpandTreeIconLPlus);break;case 6:n.append(o.cssExpandTreeIconLMinus);break;case 8:n.append(o.cssExpandTreeIconT);break;case 9:n.append(o.cssExpandTreeIconTPlus);break;case 10:n.append(o.cssExpandTreeIconTMinus);break;default:n.append(o.cssExpandTreeIconBlank)}}else t?n.append(o.cssExpandTreeIconBlank):this.isLastSibling()?n.append(o.cssExpandTreeIconL):n.append(o.cssExpandTreeIconT);return n.toString()},goog.ui.tree.BaseNode.prototype.getLineStyle=function(){var e=this.getExpanded()&&this.hasChildren();return goog.html.SafeStyle.create({"background-position":this.getBackgroundPosition(),display:e?null:"none"})},goog.ui.tree.BaseNode.prototype.getBackgroundPosition=function(){return(this.isLastSibling()?"-100":(this.getDepth()-1)*this.config_.indentWidth)+"px 0"},goog.ui.tree.BaseNode.prototype.getElement=function(){var e=goog.ui.tree.BaseNode.superClass_.getElement.call(this);return e||(e=this.getDomHelper().getElement(this.getId()),this.setElementInternal(e)),e},goog.ui.tree.BaseNode.prototype.getRowElement=function(){var e=this.getElement();return e?e.firstChild:null},goog.ui.tree.BaseNode.prototype.getExpandIconElement=function(){var e=this.getRowElement();return e?e.firstChild:null},goog.ui.tree.BaseNode.prototype.getIconElement=function(){var e=this.getRowElement();return e?e.childNodes[1]:null},goog.ui.tree.BaseNode.prototype.getLabelElement=function(){var e=this.getRowElement();return e&&e.lastChild?e.lastChild.previousSibling:null},goog.ui.tree.BaseNode.prototype.getAfterLabelElement=function(){var e=this.getRowElement();return e?e.lastChild:null};goog.ui.tree.BaseNode.prototype.getChildrenElement=function(){var e=this.getElement();return e?e.lastChild:null};goog.ui.tree.BaseNode.prototype.setIconClass=function(e){this.iconClass_=e,this.isInDocument()&&this.updateIcon_()},goog.ui.tree.BaseNode.prototype.getIconClass=function(){return this.iconClass_},goog.ui.tree.BaseNode.prototype.setExpandedIconClass=function(e){this.expandedIconClass_=e,this.isInDocument()&&this.updateIcon_()},goog.ui.tree.BaseNode.prototype.getExpandedIconClass=function(){return this.expandedIconClass_},goog.ui.tree.BaseNode.prototype.setText=function(e){this.setSafeHtml(goog.html.SafeHtml.htmlEscape(e))},goog.ui.tree.BaseNode.prototype.getText=function(){return goog.string.unescapeEntities(goog.html.SafeHtml.unwrap(this.html_))},goog.ui.tree.BaseNode.prototype.setSafeHtml=function(e){this.html_=e;var t=this.getLabelElement();t&&goog.dom.safe.setInnerHtml(t,e),(e=this.getTree())&&e.setNode(this)},goog.ui.tree.BaseNode.prototype.getHtml=function(){return goog.html.SafeHtml.unwrap(this.getSafeHtml())},goog.ui.tree.BaseNode.prototype.getSafeHtml=function(){return this.html_},goog.ui.tree.BaseNode.prototype.setToolTip=function(e){this.toolTip_=e;var t=this.getLabelElement();t&&(t.title=e)},goog.ui.tree.BaseNode.prototype.getToolTip=function(){return this.toolTip_},goog.ui.tree.BaseNode.prototype.updateRow=function(){var e=this.getRowElement();e&&(e.className=this.getRowClassName())},goog.ui.tree.BaseNode.prototype.updateExpandIcon=function(){var e=this.getExpandIconElement();e&&(e.className=this.getExpandIconClass()),(e=this.getChildrenElement())&&(e.style.backgroundPosition=this.getBackgroundPosition())},goog.ui.tree.BaseNode.prototype.updateIcon_=function(){this.getIconElement().className=this.getCalculatedIconClass()},goog.ui.tree.BaseNode.prototype.onMouseDown=function(e){"expand"==e.target.getAttribute("type")&&this.hasChildren()?this.isUserCollapsible_&&this.toggle():(this.select(),this.updateRow())},goog.ui.tree.BaseNode.prototype.onClick_=goog.events.Event.preventDefault,goog.ui.tree.BaseNode.prototype.onDoubleClick_=function(e){"expand"==e.target.getAttribute("type")&&this.hasChildren()||this.isUserCollapsible_&&this.toggle()},goog.ui.tree.BaseNode.prototype.onKeyDown=function(e){var t=!0;switch(e.keyCode){case goog.events.KeyCodes.RIGHT:if(e.altKey)break;this.hasChildren()&&(this.getExpanded()?this.getFirstChild().select():this.setExpanded(!0));break;case goog.events.KeyCodes.LEFT:if(e.altKey)break;if(this.hasChildren()&&this.getExpanded()&&this.isUserCollapsible_)this.setExpanded(!1);else{var o=this.getParent(),n=this.getTree();o&&(n.getShowRootNode()||o!=n)&&o.select()}break;case goog.events.KeyCodes.DOWN:(o=this.getNextShownNode())&&o.select();break;case goog.events.KeyCodes.UP:(o=this.getPreviousShownNode())&&o.select();break;default:t=!1}return t&&(e.preventDefault(),(n=this.getTree())&&n.clearTypeAhead()),t},goog.ui.tree.BaseNode.prototype.getLastShownDescendant=function(){return this.getExpanded()&&this.hasChildren()?this.getLastChild().getLastShownDescendant():this},goog.ui.tree.BaseNode.prototype.getNextShownNode=function(){if(this.hasChildren()&&this.getExpanded())return this.getFirstChild();for(var e,t=this;t!=this.getTree();){if(e=t.getNextSibling(),null!=e)return e;t=t.getParent()}return null},goog.ui.tree.BaseNode.prototype.getPreviousShownNode=function(){var e=this.getPreviousSibling();if(null!=e)return e.getLastShownDescendant();e=this.getParent();var t=this.getTree();return!t.getShowRootNode()&&e==t||this==t?null:e},goog.ui.tree.BaseNode.prototype.getClientData=goog.ui.tree.BaseNode.prototype.getModel,goog.ui.tree.BaseNode.prototype.setClientData=goog.ui.tree.BaseNode.prototype.setModel,goog.ui.tree.BaseNode.prototype.getConfig=function(){return this.config_},goog.ui.tree.BaseNode.prototype.setTreeInternal=function(e){this.tree!=e&&(this.tree=e,e.setNode(this),this.forEachChild(function(t){t.setTreeInternal(e)}))},goog.ui.tree.BaseNode.defaultConfig={indentWidth:19,cssRoot:"goog-tree-root goog-tree-item",cssHideRoot:"goog-tree-hide-root",cssItem:"goog-tree-item",cssChildren:"goog-tree-children",cssChildrenNoLines:"goog-tree-children-nolines",cssTreeRow:"goog-tree-row",cssItemLabel:"goog-tree-item-label",cssTreeIcon:"goog-tree-icon",cssExpandTreeIcon:"goog-tree-expand-icon",cssExpandTreeIconPlus:"goog-tree-expand-icon-plus",cssExpandTreeIconMinus:"goog-tree-expand-icon-minus",cssExpandTreeIconTPlus:"goog-tree-expand-icon-tplus",cssExpandTreeIconTMinus:"goog-tree-expand-icon-tminus",cssExpandTreeIconLPlus:"goog-tree-expand-icon-lplus",cssExpandTreeIconLMinus:"goog-tree-expand-icon-lminus",cssExpandTreeIconT:"goog-tree-expand-icon-t",cssExpandTreeIconL:"goog-tree-expand-icon-l",cssExpandTreeIconBlank:"goog-tree-expand-icon-blank",cssExpandedFolderIcon:"goog-tree-expanded-folder-icon",cssCollapsedFolderIcon:"goog-tree-collapsed-folder-icon",cssFileIcon:"goog-tree-file-icon",cssExpandedRootIcon:"goog-tree-expanded-folder-icon",cssCollapsedRootIcon:"goog-tree-collapsed-folder-icon",cssSelectedRow:"selected"},goog.ui.tree.TreeNode=function(e,t,o){goog.ui.tree.BaseNode.call(this,e,t,o)},goog.inherits(goog.ui.tree.TreeNode,goog.ui.tree.BaseNode),goog.ui.tree.TreeNode.prototype.getTree=function(){if(this.tree)return this.tree;var e=this.getParent();return e&&(e=e.getTree())?(this.setTreeInternal(e),e):null},goog.ui.tree.TreeNode.prototype.getCalculatedIconClass=function(){var e=this.getExpanded(),t=this.getExpandedIconClass();if(e&&t)return t;if(t=this.getIconClass(),!e&&t)return t;if(t=this.getConfig(),this.hasChildren()){if(e&&t.cssExpandedFolderIcon)return t.cssTreeIcon+" "+t.cssExpandedFolderIcon;if(!e&&t.cssCollapsedFolderIcon)return t.cssTreeIcon+" "+t.cssCollapsedFolderIcon}else if(t.cssFileIcon)return t.cssTreeIcon+" "+t.cssFileIcon;return""},goog.structs={},goog.structs.getCount=function(e){return e.getCount&&"function"==typeof e.getCount?e.getCount():goog.isArrayLike(e)||goog.isString(e)?e.length:goog.object.getCount(e)},goog.structs.getValues=function(e){if(e.getValues&&"function"==typeof e.getValues)return e.getValues();if(goog.isString(e))return e.split("");if(goog.isArrayLike(e)){for(var t=[],o=e.length,n=0;n<o;n++)t.push(e[n]);return t}return goog.object.getValues(e)},goog.structs.getKeys=function(e){if(e.getKeys&&"function"==typeof e.getKeys)return e.getKeys();if(!e.getValues||"function"!=typeof e.getValues){if(goog.isArrayLike(e)||goog.isString(e)){var t=[];e=e.length;for(var o=0;o<e;o++)t.push(o);return t}return goog.object.getKeys(e)}},goog.structs.contains=function(e,t){return e.contains&&"function"==typeof e.contains?e.contains(t):e.containsValue&&"function"==typeof e.containsValue?e.containsValue(t):goog.isArrayLike(e)||goog.isString(e)?goog.array.contains(e,t):goog.object.containsValue(e,t)},goog.structs.isEmpty=function(e){return e.isEmpty&&"function"==typeof e.isEmpty?e.isEmpty():goog.isArrayLike(e)||goog.isString(e)?goog.array.isEmpty(e):goog.object.isEmpty(e)},goog.structs.clear=function(e){e.clear&&"function"==typeof e.clear?e.clear():goog.isArrayLike(e)?goog.array.clear(e):goog.object.clear(e)},goog.structs.forEach=function(e,t,o){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,o);else if(goog.isArrayLike(e)||goog.isString(e))goog.array.forEach(e,t,o);else for(var n=goog.structs.getKeys(e),i=goog.structs.getValues(e),l=i.length,s=0;s<l;s++)t.call(o,i[s],n&&n[s],e)},goog.structs.filter=function(e,t,o){if("function"==typeof e.filter)return e.filter(t,o);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.filter(e,t,o);var n=goog.structs.getKeys(e),i=goog.structs.getValues(e),l=i.length;if(n)for(var s={},r=0;r<l;r++)t.call(o,i[r],n[r],e)&&(s[n[r]]=i[r]);else for(s=[],r=0;r<l;r++)t.call(o,i[r],void 0,e)&&s.push(i[r]);return s},goog.structs.map=function(e,t,o){if("function"==typeof e.map)return e.map(t,o);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.map(e,t,o);var n=goog.structs.getKeys(e),i=goog.structs.getValues(e),l=i.length;if(n)for(var s={},r=0;r<l;r++)s[n[r]]=t.call(o,i[r],n[r],e);else for(s=[],r=0;r<l;r++)s[r]=t.call(o,i[r],void 0,e);return s},goog.structs.some=function(e,t,o){if("function"==typeof e.some)return e.some(t,o);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.some(e,t,o);for(var n=goog.structs.getKeys(e),i=goog.structs.getValues(e),l=i.length,s=0;s<l;s++)if(t.call(o,i[s],n&&n[s],e))return!0;return!1},goog.structs.every=function(e,t,o){if("function"==typeof e.every)return e.every(t,o);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.every(e,t,o);for(var n=goog.structs.getKeys(e),i=goog.structs.getValues(e),l=i.length,s=0;s<l;s++)if(!t.call(o,i[s],n&&n[s],e))return!1;return!0},goog.structs.Trie=function(e){
this.value_=void 0,this.childNodes_={},e&&this.setAll(e)},goog.structs.Trie.prototype.set=function(e,t){this.setOrAdd_(e,t,!1)},goog.structs.Trie.prototype.add=function(e,t){this.setOrAdd_(e,t,!0)},goog.structs.Trie.prototype.setOrAdd_=function(e,t,o){for(var n=this,i=0;i<e.length;i++){var l=e.charAt(i);n.childNodes_[l]||(n.childNodes_[l]=new goog.structs.Trie),n=n.childNodes_[l]}if(o&&void 0!==n.value_)throw Error('The collection already contains the key "'+e+'"');n.value_=t},goog.structs.Trie.prototype.setAll=function(e){var t=goog.structs.getKeys(e);e=goog.structs.getValues(e);for(var o=0;o<t.length;o++)this.set(t[o],e[o])},goog.structs.Trie.prototype.getChildNode_=function(e){for(var t=this,o=0;o<e.length;o++){var n=e.charAt(o);if(t=t.childNodes_[n],!t)return}return t},goog.structs.Trie.prototype.get=function(e){return(e=this.getChildNode_(e))?e.value_:void 0},goog.structs.Trie.prototype.getKeyAndPrefixes=function(e,t){var o=this,n={},i=t||0;for(void 0!==o.value_&&(n[i]=o.value_);i<e.length;i++){var l=e.charAt(i);if(!(l in o.childNodes_))break;o=o.childNodes_[l],void 0!==o.value_&&(n[i]=o.value_)}return n},goog.structs.Trie.prototype.getValues=function(){var e=[];return this.getValuesInternal_(e),e},goog.structs.Trie.prototype.getValuesInternal_=function(e){void 0!==this.value_&&e.push(this.value_);for(var t in this.childNodes_)this.childNodes_[t].getValuesInternal_(e)},goog.structs.Trie.prototype.getKeys=function(e){var t=[];if(e){for(var o=this,n=0;n<e.length;n++){var i=e.charAt(n);if(!o.childNodes_[i])return[];o=o.childNodes_[i]}o.getKeysInternal_(e,t)}else this.getKeysInternal_("",t);return t},goog.structs.Trie.prototype.getKeysInternal_=function(e,t){void 0!==this.value_&&t.push(e);for(var o in this.childNodes_)this.childNodes_[o].getKeysInternal_(e+o,t)},goog.structs.Trie.prototype.containsKey=function(e){return void 0!==this.get(e)},goog.structs.Trie.prototype.containsPrefix=function(e){return 0==e.length?!this.isEmpty():!!this.getChildNode_(e)},goog.structs.Trie.prototype.containsValue=function(e){if(this.value_===e)return!0;for(var t in this.childNodes_)if(this.childNodes_[t].containsValue(e))return!0;return!1},goog.structs.Trie.prototype.clear=function(){this.childNodes_={},this.value_=void 0},goog.structs.Trie.prototype.remove=function(e){for(var t=this,o=[],n=0;n<e.length;n++){var i=e.charAt(n);if(!t.childNodes_[i])throw Error('The collection does not have the key "'+e+'"');o.push([t,i]),t=t.childNodes_[i]}for(e=t.value_,delete t.value_;0<o.length&&(i=o.pop(),t=i[0],i=i[1],t.childNodes_[i].isEmpty());)delete t.childNodes_[i];return e},goog.structs.Trie.prototype.clone=function(){return new goog.structs.Trie(this)},goog.structs.Trie.prototype.getCount=function(){return goog.structs.getCount(this.getValues())},goog.structs.Trie.prototype.isEmpty=function(){return void 0===this.value_&&goog.object.isEmpty(this.childNodes_)},goog.ui.tree.TypeAhead=function(){this.nodeMap_=new goog.structs.Trie,this.buffer_="",this.matchingNodes_=this.matchingLabels_=null,this.matchingNodeIndex_=this.matchingLabelIndex_=0},goog.ui.tree.TypeAhead.Offset={DOWN:1,UP:-1},goog.ui.tree.TypeAhead.prototype.handleNavigation=function(e){var t=!1;switch(e.keyCode){case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.UP:e.ctrlKey&&(this.jumpTo_(e.keyCode==goog.events.KeyCodes.DOWN?goog.ui.tree.TypeAhead.Offset.DOWN:goog.ui.tree.TypeAhead.Offset.UP),t=!0);break;case goog.events.KeyCodes.BACKSPACE:e=this.buffer_.length-1,t=!0,0<e?(this.buffer_=this.buffer_.substring(0,e),this.jumpToLabel_(this.buffer_)):0==e?this.buffer_="":t=!1;break;case goog.events.KeyCodes.ESC:this.buffer_="",t=!0}return t},goog.ui.tree.TypeAhead.prototype.handleTypeAheadChar=function(e){var t=!1;return e.ctrlKey||e.altKey||(e=String.fromCharCode(e.charCode||e.keyCode).toLowerCase(),goog.string.isUnicodeChar(e)&&(" "!=e||this.buffer_)&&(this.buffer_+=e,t=this.jumpToLabel_(this.buffer_))),t},goog.ui.tree.TypeAhead.prototype.setNodeInMap=function(e){var t=e.getText();if(t&&!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(t))){t=t.toLowerCase();var o=this.nodeMap_.get(t);o?o.push(e):this.nodeMap_.set(t,[e])}},goog.ui.tree.TypeAhead.prototype.removeNodeFromMap=function(e){var t=e.getText();if(t&&!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(t))){t=t.toLowerCase();var o=this.nodeMap_.get(t);if(o){for(var n=e.getChildCount(),i=0;i<n;i++)this.removeNodeFromMap(e.getChildAt(i));goog.array.remove(o,e),o.length||this.nodeMap_.remove(t)}}},goog.ui.tree.TypeAhead.prototype.jumpToLabel_=function(e){var t=!1;return(e=this.nodeMap_.getKeys(e))&&e.length&&(this.matchingLabelIndex_=this.matchingNodeIndex_=0,t=this.nodeMap_.get(e[0]),t=this.selectMatchingNode_(t))&&(this.matchingLabels_=e),t},goog.ui.tree.TypeAhead.prototype.jumpTo_=function(e){var t=!1,o=this.matchingLabels_;if(o){t=null;var n=!1;if(this.matchingNodes_){var i=this.matchingNodeIndex_+e;0<=i&&i<this.matchingNodes_.length?(this.matchingNodeIndex_=i,t=this.matchingNodes_):n=!0}t||(i=this.matchingLabelIndex_+e,0<=i&&i<o.length&&(this.matchingLabelIndex_=i),o.length>this.matchingLabelIndex_&&(t=this.nodeMap_.get(o[this.matchingLabelIndex_])),t&&t.length&&n&&(this.matchingNodeIndex_=e==goog.ui.tree.TypeAhead.Offset.UP?t.length-1:0)),(t=this.selectMatchingNode_(t))&&(this.matchingLabels_=o)}return t},goog.ui.tree.TypeAhead.prototype.selectMatchingNode_=function(e){if(e){if(this.matchingNodeIndex_<e.length){var t=e[this.matchingNodeIndex_];this.matchingNodes_=e}t&&(t.reveal(),t.select())}return!!t},goog.ui.tree.TypeAhead.prototype.clear=function(){this.buffer_=""},goog.ui.tree.TreeControl=function(e,t,o){if(goog.ui.tree.BaseNode.call(this,e,t,o),this.setExpandedInternal(!0),this.setSelectedInternal(!0),this.selectedItem_=this,this.typeAhead_=new goog.ui.tree.TypeAhead,this.focusHandler_=this.keyHandler_=null,this.logger_=goog.log.getLogger("this"),this.focused_=!1,this.focusedNode_=null,this.showRootLines_=this.showRootNode_=this.showExpandIcons_=this.showLines_=!0,goog.userAgent.IE)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){goog.log.warning(this.logger_,"Failed to enable background image cache")}},goog.inherits(goog.ui.tree.TreeControl,goog.ui.tree.BaseNode),goog.ui.tree.TreeControl.prototype.getTree=function(){return this},goog.ui.tree.TreeControl.prototype.getDepth=function(){return 0},goog.ui.tree.TreeControl.prototype.reveal=function(){},goog.ui.tree.TreeControl.prototype.handleFocus_=function(e){this.focused_=!0,goog.dom.classlist.add(goog.asserts.assert(this.getElement()),"focused"),this.selectedItem_&&this.selectedItem_.select()},goog.ui.tree.TreeControl.prototype.handleBlur_=function(e){this.focused_=!1,goog.dom.classlist.remove(goog.asserts.assert(this.getElement()),"focused")},goog.ui.tree.TreeControl.prototype.hasFocus=function(){return this.focused_},goog.ui.tree.TreeControl.prototype.getExpanded=function(){return!this.showRootNode_||goog.ui.tree.TreeControl.superClass_.getExpanded.call(this)},goog.ui.tree.TreeControl.prototype.setExpanded=function(e){this.showRootNode_?goog.ui.tree.TreeControl.superClass_.setExpanded.call(this,e):this.setExpandedInternal(e)},goog.ui.tree.TreeControl.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.EMPTY},goog.ui.tree.TreeControl.prototype.getIconElement=function(){var e=this.getRowElement();return e?e.firstChild:null},goog.ui.tree.TreeControl.prototype.getExpandIconElement=function(){return null},goog.ui.tree.TreeControl.prototype.updateExpandIcon=function(){},goog.ui.tree.TreeControl.prototype.getRowClassName=function(){return goog.ui.tree.TreeControl.superClass_.getRowClassName.call(this)+(this.showRootNode_?"":" "+this.getConfig().cssHideRoot)},goog.ui.tree.TreeControl.prototype.getCalculatedIconClass=function(){var e=this.getExpanded(),t=this.getExpandedIconClass();return e&&t?t:(t=this.getIconClass(),!e&&t?t:(t=this.getConfig(),e&&t.cssExpandedRootIcon?t.cssTreeIcon+" "+t.cssExpandedRootIcon:!e&&t.cssCollapsedRootIcon?t.cssTreeIcon+" "+t.cssCollapsedRootIcon:""))},goog.ui.tree.TreeControl.prototype.setSelectedItem=function(e){if(this.selectedItem_!=e){var t=!1;this.selectedItem_&&(t=this.selectedItem_==this.focusedNode_,this.selectedItem_.setSelectedInternal(!1)),(this.selectedItem_=e)&&(e.setSelectedInternal(!0),t&&e.select()),this.dispatchEvent(goog.events.EventType.CHANGE)}},goog.ui.tree.TreeControl.prototype.getSelectedItem=function(){return this.selectedItem_},goog.ui.tree.TreeControl.prototype.setShowLines=function(e){this.showLines_!=e&&(this.showLines_=e,this.isInDocument()&&this.updateLinesAndExpandIcons_())},goog.ui.tree.TreeControl.prototype.getShowLines=function(){return this.showLines_},goog.ui.tree.TreeControl.prototype.updateLinesAndExpandIcons_=function(){function e(i){var l=i.getChildrenElement();if(l){var s=!o||t==i.getParent()&&!n?i.getConfig().cssChildrenNoLines:i.getConfig().cssChildren;l.className=s,(l=i.getExpandIconElement())&&(l.className=i.getExpandIconClass())}i.forEachChild(e)}var t=this,o=t.getShowLines(),n=t.getShowRootLines();e(this)},goog.ui.tree.TreeControl.prototype.setShowRootLines=function(e){this.showRootLines_!=e&&(this.showRootLines_=e,this.isInDocument()&&this.updateLinesAndExpandIcons_())},goog.ui.tree.TreeControl.prototype.getShowRootLines=function(){return this.showRootLines_},goog.ui.tree.TreeControl.prototype.setShowExpandIcons=function(e){this.showExpandIcons_!=e&&(this.showExpandIcons_=e,this.isInDocument()&&this.updateLinesAndExpandIcons_())},goog.ui.tree.TreeControl.prototype.getShowExpandIcons=function(){return this.showExpandIcons_},goog.ui.tree.TreeControl.prototype.setShowRootNode=function(e){if(this.showRootNode_!=e){if(this.showRootNode_=e,this.isInDocument()){var t=this.getRowElement();t&&(t.className=this.getRowClassName())}!e&&this.getSelectedItem()==this&&this.getFirstChild()&&this.setSelectedItem(this.getFirstChild())}},goog.ui.tree.TreeControl.prototype.getShowRootNode=function(){return this.showRootNode_},goog.ui.tree.TreeControl.prototype.initAccessibility=function(){goog.ui.tree.TreeControl.superClass_.initAccessibility.call(this);var e=this.getElement();goog.asserts.assert(e,"The DOM element for the tree cannot be null."),goog.a11y.aria.setRole(e,"tree"),goog.a11y.aria.setState(e,"labelledby",this.getLabelElement().id)},goog.ui.tree.TreeControl.prototype.enterDocument=function(){goog.ui.tree.TreeControl.superClass_.enterDocument.call(this);var e=this.getElement();e.className=this.getConfig().cssRoot,e.setAttribute("hideFocus","true"),this.attachEvents_(),this.initAccessibility()},goog.ui.tree.TreeControl.prototype.exitDocument=function(){goog.ui.tree.TreeControl.superClass_.exitDocument.call(this),this.detachEvents_()},goog.ui.tree.TreeControl.prototype.attachEvents_=function(){var e=this.getElement();e.tabIndex=0;var t=this.keyHandler_=new goog.events.KeyHandler(e),o=this.focusHandler_=new goog.events.FocusHandler(e);this.getHandler().listen(o,goog.events.FocusHandler.EventType.FOCUSOUT,this.handleBlur_).listen(o,goog.events.FocusHandler.EventType.FOCUSIN,this.handleFocus_).listen(t,goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent).listen(e,goog.events.EventType.MOUSEDOWN,this.handleMouseEvent_).listen(e,goog.events.EventType.CLICK,this.handleMouseEvent_).listen(e,goog.events.EventType.DBLCLICK,this.handleMouseEvent_)},goog.ui.tree.TreeControl.prototype.detachEvents_=function(){this.keyHandler_.dispose(),this.keyHandler_=null,this.focusHandler_.dispose(),this.focusHandler_=null},goog.ui.tree.TreeControl.prototype.handleMouseEvent_=function(e){goog.log.fine(this.logger_,"Received event "+e.type);var t=this.getNodeFromEvent_(e);if(t)switch(e.type){case goog.events.EventType.MOUSEDOWN:t.onMouseDown(e);break;case goog.events.EventType.CLICK:t.onClick_(e);break;case goog.events.EventType.DBLCLICK:t.onDoubleClick_(e)}},goog.ui.tree.TreeControl.prototype.handleKeyEvent=function(e){var t;return(t=this.typeAhead_.handleNavigation(e)||this.selectedItem_&&this.selectedItem_.onKeyDown(e)||this.typeAhead_.handleTypeAheadChar(e))&&e.preventDefault(),t},goog.ui.tree.TreeControl.prototype.getNodeFromEvent_=function(e){for(var t=e.target;null!=t;){if(e=goog.ui.tree.BaseNode.allNodes[t.id])return e;if(t==this.getElement())break;t=t.parentNode}return null},goog.ui.tree.TreeControl.prototype.createNode=function(e){return new goog.ui.tree.TreeNode(e||goog.html.SafeHtml.EMPTY,this.getConfig(),this.getDomHelper())},goog.ui.tree.TreeControl.prototype.setNode=function(e){this.typeAhead_.setNodeInMap(e)},goog.ui.tree.TreeControl.prototype.removeNode=function(e){this.typeAhead_.removeNodeFromMap(e)},goog.ui.tree.TreeControl.prototype.clearTypeAhead=function(){this.typeAhead_.clear()},goog.ui.tree.TreeControl.defaultConfig=goog.ui.tree.BaseNode.defaultConfig,goog.color={},goog.color.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},goog.color.parse=function(e){var t={};e=String(e);var o=goog.color.prependHashIfNecessaryHelper(e);if(goog.color.isValidHexColor_(o))return t.hex=goog.color.normalizeHex(o),t.type="hex",t;if(o=goog.color.isValidRgbColor_(e),o.length)return t.hex=goog.color.rgbArrayToHex(o),t.type="rgb",t;if(goog.color.names&&(o=goog.color.names[e.toLowerCase()]))return t.hex=o,t.type="named",t;throw Error(e+" is not a valid color string")},goog.color.isValidColor=function(e){var t=goog.color.prependHashIfNecessaryHelper(e);return!!(goog.color.isValidHexColor_(t)||goog.color.isValidRgbColor_(e).length||goog.color.names&&goog.color.names[e.toLowerCase()])},goog.color.parseRgb=function(e){var t=goog.color.isValidRgbColor_(e);if(!t.length)throw Error(e+" is not a valid RGB color");return t},goog.color.hexToRgbStyle=function(e){return goog.color.rgbStyle_(goog.color.hexToRgb(e))},goog.color.hexTripletRe_=/#(.)(.)(.)/,goog.color.normalizeHex=function(e){if(!goog.color.isValidHexColor_(e))throw Error("'"+e+"' is not a valid hex color");return 4==e.length&&(e=e.replace(goog.color.hexTripletRe_,"#$1$1$2$2$3$3")),e.toLowerCase()},goog.color.hexToRgb=function(e){e=goog.color.normalizeHex(e);var t=parseInt(e.substr(1,2),16),o=parseInt(e.substr(3,2),16);return e=parseInt(e.substr(5,2),16),[t,o,e]},goog.color.rgbToHex=function(e,t,o){if(e=Number(e),t=Number(t),o=Number(o),e!=(255&e)||t!=(255&t)||o!=(255&o))throw Error('"('+e+","+t+","+o+'") is not a valid RGB color');return e=goog.color.prependZeroIfNecessaryHelper(e.toString(16)),t=goog.color.prependZeroIfNecessaryHelper(t.toString(16)),o=goog.color.prependZeroIfNecessaryHelper(o.toString(16)),"#"+e+t+o},goog.color.rgbArrayToHex=function(e){return goog.color.rgbToHex(e[0],e[1],e[2])},goog.color.rgbToHsl=function(e,t,o){e/=255,t/=255,o/=255;var n=Math.max(e,t,o),i=Math.min(e,t,o),l=0,s=0,r=.5*(n+i);return n!=i&&(n==e?l=60*(t-o)/(n-i):n==t?l=60*(o-e)/(n-i)+120:n==o&&(l=60*(e-t)/(n-i)+240),s=0<r&&.5>=r?(n-i)/(2*r):(n-i)/(2-2*r)),[Math.round(l+360)%360,s,r]},goog.color.rgbArrayToHsl=function(e){return goog.color.rgbToHsl(e[0],e[1],e[2])},goog.color.hueToRgb_=function(e,t,o){return 0>o?o+=1:1<o&&--o,1>6*o?e+6*(t-e)*o:1>2*o?t:2>3*o?e+(t-e)*(2/3-o)*6:e},goog.color.hslToRgb=function(e,t,o){if(e/=360,0==t)o=t=e=255*o;else{var n=.5>o?o*(1+t):o+t-t*o,i=2*o-n;o=255*goog.color.hueToRgb_(i,n,e+1/3),t=255*goog.color.hueToRgb_(i,n,e),e=255*goog.color.hueToRgb_(i,n,e-1/3)}return[Math.round(o),Math.round(t),Math.round(e)]},goog.color.hslArrayToRgb=function(e){return goog.color.hslToRgb(e[0],e[1],e[2])},goog.color.validHexColorRe_=/^#(?:[0-9a-f]{3}){1,2}$/i,goog.color.isValidHexColor_=function(e){return goog.color.validHexColorRe_.test(e)},goog.color.normalizedHexColorRe_=/^#[0-9a-f]{6}$/,goog.color.isNormalizedHexColor_=function(e){return goog.color.normalizedHexColorRe_.test(e)},goog.color.rgbColorRe_=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,goog.color.isValidRgbColor_=function(e){var t=e.match(goog.color.rgbColorRe_);if(t){e=Number(t[1]);var o=Number(t[2]);if(t=Number(t[3]),0<=e&&255>=e&&0<=o&&255>=o&&0<=t&&255>=t)return[e,o,t]}return[]},goog.color.prependZeroIfNecessaryHelper=function(e){return 1==e.length?"0"+e:e},goog.color.prependHashIfNecessaryHelper=function(e){return"#"==e.charAt(0)?e:"#"+e},goog.color.rgbStyle_=function(e){return"rgb("+e.join(",")+")"},goog.color.hsvToRgb=function(e,t,o){var n=0,i=0,l=0;if(0==t)l=i=n=o;else{var s=Math.floor(e/60),r=e/60-s;e=o*(1-t);var a=o*(1-t*r);switch(t=o*(1-t*(1-r)),s){case 1:n=a,i=o,l=e;break;case 2:n=e,i=o,l=t;break;case 3:n=e,i=a,l=o;break;case 4:n=t,i=e,l=o;break;case 5:n=o,i=e,l=a;break;case 6:case 0:n=o,i=t,l=e}}return[Math.floor(n),Math.floor(i),Math.floor(l)]},goog.color.rgbToHsv=function(e,t,o){var n=Math.max(Math.max(e,t),o),i=Math.min(Math.min(e,t),o);if(i==n)i=e=0;else{var l=n-i;i=l/n,e=60*(e==n?(t-o)/l:t==n?2+(o-e)/l:4+(e-t)/l),0>e&&(e+=360),360<e&&(e-=360)}return[e,i,n]},goog.color.rgbArrayToHsv=function(e){return goog.color.rgbToHsv(e[0],e[1],e[2])},goog.color.hsvArrayToRgb=function(e){return goog.color.hsvToRgb(e[0],e[1],e[2])},goog.color.hexToHsl=function(e){return e=goog.color.hexToRgb(e),goog.color.rgbToHsl(e[0],e[1],e[2])},goog.color.hslToHex=function(e,t,o){return goog.color.rgbArrayToHex(goog.color.hslToRgb(e,t,o))},goog.color.hslArrayToHex=function(e){return goog.color.rgbArrayToHex(goog.color.hslToRgb(e[0],e[1],e[2]))},goog.color.hexToHsv=function(e){return goog.color.rgbArrayToHsv(goog.color.hexToRgb(e))},goog.color.hsvToHex=function(e,t,o){return goog.color.rgbArrayToHex(goog.color.hsvToRgb(e,t,o))},goog.color.hsvArrayToHex=function(e){return goog.color.hsvToHex(e[0],e[1],e[2])},goog.color.hslDistance=function(e,t){var o=.5>=e[2]?e[1]*e[2]:e[1]*(1-e[2]),n=.5>=t[2]?t[1]*t[2]:t[1]*(1-t[2]);return(e[2]-t[2])*(e[2]-t[2])+o*o+n*n-2*o*n*Math.cos(2*(e[0]/360-t[0]/360)*Math.PI)},goog.color.blend=function(e,t,o){return o=goog.math.clamp(o,0,1),[Math.round(o*e[0]+(1-o)*t[0]),Math.round(o*e[1]+(1-o)*t[1]),Math.round(o*e[2]+(1-o)*t[2])]},goog.color.darken=function(e,t){return goog.color.blend([0,0,0],e,t)},goog.color.lighten=function(e,t){return goog.color.blend([255,255,255],e,t)},goog.color.highContrast=function(e,t){for(var o=[],n=0;n<t.length;n++)o.push({color:t[n],diff:goog.color.yiqBrightnessDiff_(t[n],e)+goog.color.colorDiff_(t[n],e)});return o.sort(function(e,t){return t.diff-e.diff}),o[0].color},goog.color.yiqBrightness_=function(e){return Math.round((299*e[0]+587*e[1]+114*e[2])/1e3)},goog.color.yiqBrightnessDiff_=function(e,t){return Math.abs(goog.color.yiqBrightness_(e)-goog.color.yiqBrightness_(t))},goog.color.colorDiff_=function(e,t){return Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])+Math.abs(e[2]-t[2])};var Blockly={Blocks:{}};Blockly.Workspace=function(e){this.id=Blockly.genUid(),Blockly.Workspace.WorkspaceDB_[this.id]=this,this.options=e||{},this.RTL=!!this.options.RTL,this.checkInTask=this.options.checkInTask,this.variableDeclaration=!!this.options.variableDeclaration,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.version=this.device="",this.topBlocks_=[],this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null)},Blockly.Workspace.prototype.rendered=!1,Blockly.Workspace.prototype.MAX_UNDO=1024,Blockly.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete Blockly.Workspace.WorkspaceDB_[this.id]},Blockly.Workspace.SCAN_ANGLE=3,Blockly.Workspace.prototype.addTopBlock=function(e){this.topBlocks_.push(e)},Blockly.Workspace.prototype.removeTopBlock=function(e){for(var t,o=!1,n=0;t=this.topBlocks_[n];n++)if(t==e){this.topBlocks_.splice(n,1),o=!0;break}if(!o)throw"Block not present in workspace's list of top-most blocks."},Blockly.Workspace.prototype.getTopBlocks=function(e){var t=[].concat(this.topBlocks_);if(e&&1<t.length){var o=Math.sin(goog.math.toRadians(Blockly.Workspace.SCAN_ANGLE));this.RTL&&(o*=-1),t.sort(function(e,t){var n=e.getRelativeToSurfaceXY(),i=t.getRelativeToSurfaceXY();return n.y+o*n.x-(i.y+o*i.x)})}return t},Blockly.Workspace.prototype.getAllBlocks=function(){for(var e=this.getTopBlocks(!1),t=0;t<e.length;t++)e.push.apply(e,e[t].getChildren());return e},Blockly.Workspace.prototype.clear=function(){var e=Blockly.Events.getGroup();for(e||Blockly.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose();e||Blockly.Events.setGroup(!1)},Blockly.Workspace.prototype.getWidth=function(){return 0},Blockly.Workspace.prototype.newBlock=function(e,t){return new Blockly.Block(this,e,t)},Blockly.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks().length},Blockly.Workspace.prototype.undo=function(e){var t=e?this.redoStack_:this.undoStack_,o=e?this.undoStack_:this.redoStack_,n=t.pop();if(n){for(var i=[n];t.length&&n.group&&n.group==t[t.length-1].group;)i.push(t.pop());for(t=0;n=i[t];t++)o.push(n);for(i=Blockly.Events.filter(i,e),Blockly.Events.recordUndo=!1,t=0;n=i[t];t++)n.run(e);Blockly.Events.recordUndo=!0}},Blockly.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,Blockly.Events.clearPendingUndo()},Blockly.Workspace.prototype.addChangeListener=function(e){return this.listeners_.push(e),e},Blockly.Workspace.prototype.removeChangeListener=function(e){e=this.listeners_.indexOf(e),-1!=e&&this.listeners_.splice(e,1)},Blockly.Workspace.prototype.fireChangeListener=function(e){e.recordUndo&&(this.undoStack_.push(e),this.redoStack_.length=0,this.undoStack_.length>this.MAX_UNDO&&this.undoStack_.unshift());for(var t,o=0;t=this.listeners_[o];o++)t(e)},Blockly.Workspace.prototype.getBlockById=function(e){return this.blockDB_[e]||null},Blockly.Workspace.WorkspaceDB_=Object.create(null),Blockly.Workspace.getById=function(e){return Blockly.Workspace.WorkspaceDB_[e]||null},Blockly.Workspace.prototype.setDevice=function(e){this.device=e,this.toolbox_&&(this.toolbox_.flyout_.workspace_.device=e),this.flyout_&&(this.flyout_.workspace_.device=e)},Blockly.Workspace.prototype.setVersion=function(e){this.version=e},Blockly.Workspace.prototype.clear=Blockly.Workspace.prototype.clear,Blockly.Workspace.prototype.clearUndo=Blockly.Workspace.prototype.clearUndo,Blockly.Workspace.prototype.addChangeListener=Blockly.Workspace.prototype.addChangeListener,Blockly.Workspace.prototype.removeChangeListener=Blockly.Workspace.prototype.removeChangeListener,Blockly.Bubble=function(e,t,o,n,i,l){this.workspace_=e,this.content_=t,this.shape_=o,o=Blockly.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(o=-o),this.arrow_radians_=goog.math.toRadians(o),e.getBubbleCanvas().appendChild(this.createDom_(t,!(!i||!l))),this.setAnchorLocation(n),i&&l||(t=this.content_.getBBox(),i=t.width+2*Blockly.Bubble.BORDER_WIDTH,l=t.height+2*Blockly.Bubble.BORDER_WIDTH),this.setBubbleSize(i,l),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0,e.options.readOnly||(Blockly.bindEvent_(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&Blockly.bindEvent_(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))},Blockly.Bubble.BORDER_WIDTH=3,Blockly.Bubble.ARROW_THICKNESS=15,Blockly.Bubble.ARROW_ANGLE=20,Blockly.Bubble.ARROW_BEND=90,Blockly.Bubble.ANCHOR_RADIUS=8,Blockly.Bubble.onMouseUpWrapper_=null,Blockly.Bubble.onMouseMoveWrapper_=null,Blockly.Bubble.prototype.resizeCallback_=null,Blockly.Bubble.unbindDragEvents_=function(){Blockly.Bubble.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Bubble.onMouseUpWrapper_),Blockly.Bubble.onMouseUpWrapper_=null),Blockly.Bubble.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Bubble.onMouseMoveWrapper_),Blockly.Bubble.onMouseMoveWrapper_=null)},Blockly.Bubble.prototype.rendered_=!1,Blockly.Bubble.prototype.anchorXY_=null,Blockly.Bubble.prototype.relativeLeft_=0,Blockly.Bubble.prototype.relativeTop_=0,Blockly.Bubble.prototype.width_=0,Blockly.Bubble.prototype.height_=0,Blockly.Bubble.prototype.autoLayout_=!0,Blockly.Bubble.prototype.createDom_=function(e,t){return this.bubbleGroup_=Blockly.createSvgElement("g",{},null),this.bubbleArrow_=Blockly.createSvgElement("path",{},this.bubbleGroup_),this.bubbleBack_=Blockly.createSvgElement("rect",{class:"blocklyDraggable",x:0,y:0,rx:Blockly.BlockSvg.CORNER_RADIUS,ry:Blockly.BlockSvg.CORNER_RADIUS},this.bubbleGroup_),this.bubbleGroup_.appendChild(e),t?(this.resizeGroup_=Blockly.createSvgElement("g",{class:Blockly.RTL?"blocklyResizeSW":"blocklyResizeSE"}),Blockly.createSvgElement("rect",{x:-15,y:-15,width:27,height:27,"fill-opacity":0},this.resizeGroup_),Blockly.createSvgElement("path",{transform:"translate(10, -14) rotate(90)",fill:"#333",d:"M19 3h-5.243c-1.302 0-2.401.838-2.815 2h-6.942v7.061l.012.12c -1.167.41-2.012 1.512-2.012 2.819v7h7c1.311 0 2.593-.826 3-2h7v-7.061l-.012-.12c1.167-.41 2.012-1.512 2.012-2.819v-7h-2zm-2 15h-5c-.553 0-1-.448-1-1s.447-1 1-1h3v-3.061c0-.552.447-1 1-1s1 .448 1 1v5.061zm-11-11h5.061c.553 0 1 .448 1 1s-.447 1-1 1h-3.061v3.061c0 .552-.448 1-1 1-.553 0-1-.448-1-1v-5.061z m13 3c0 .552-.447 1-1 1s-1-.448-1-1v-1.586l-3.293 3.293c-.195.195 -.451.293-.707.293s-.512-.098-.707-.293c-.391-.391-.391-1.023 0-1.414l3.293-3.293h-1.586c-.553 0-1-.448-1-1s.447-1 1-1h5v5zm -10 10h-5v-5c0-.552.447-1 1-1s1 .448 1 1v1.586l3.293-3.293c .195-.195.451-.293.707-.293s.512.098.707.293c.391.391.391 1.023 0 1.414l-3.293 3.293h1.586c.553 0 1 .448 1 1s-.448 1-1 1zm2.414 -7.414c-.378-.378-.88-.586-1.414-.586-.367 0-.716.105-1.023.289 l.023-.228v-2.061h2.061l.229-.023c-.186.307-.29.656-.29 1.023 0 .534.208 1.036.586 1.414s.88.586 1.414.586c.367 0 .716-.105 1.023-.289l-.023.228v2.061h-1.939c-.122 0-.24.015-.356.036.189 -.31.295-.664.295-1.036 0-.534-.208-1.036-.586-1.414z"},this.resizeGroup_),this.bubbleGroup_.appendChild(this.resizeGroup_)):this.resizeGroup_=null,this.bubbleGroup_},Blockly.Bubble.prototype.bubbleMouseDown_=function(e){this.promote_(),Blockly.Bubble.unbindDragEvents_(),Blockly.isRightButton(e)?e.stopPropagation():Blockly.isTargetInput_(e)||(Blockly.Css.setCursor(Blockly.Css.Cursor.CLOSED),this.workspace_.startDrag(e,new goog.math.Coordinate(this.workspace_.RTL?-this.relativeLeft_:this.relativeLeft_,this.relativeTop_)),Blockly.Bubble.onMouseUpWrapper_=Blockly.bindEvent_(document,"mouseup",this,Blockly.Bubble.unbindDragEvents_),Blockly.Bubble.onMouseMoveWrapper_=Blockly.bindEvent_(document,"mousemove",this,this.bubbleMouseMove_),Blockly.hideChaff(),e.stopPropagation())},Blockly.Bubble.prototype.bubbleMouseMove_=function(e){this.autoLayout_=!1,e=this.workspace_.moveDrag(e),this.relativeLeft_=this.workspace_.RTL?-e.x:e.x,this.relativeTop_=e.y,this.positionBubble_(),this.renderArrow_()},Blockly.Bubble.prototype.resizeMouseDown_=function(e){this.promote_(),Blockly.Bubble.unbindDragEvents_(),Blockly.isRightButton(e)||(Blockly.Css.setCursor(Blockly.Css.Cursor.CLOSED),this.workspace_.startDrag(e,new goog.math.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),Blockly.Bubble.onMouseUpWrapper_=Blockly.bindEvent_(document,"mouseup",this,Blockly.Bubble.unbindDragEvents_),Blockly.Bubble.onMouseMoveWrapper_=Blockly.bindEvent_(document,"mousemove",this,this.resizeMouseMove_),Blockly.hideChaff()),e.stopPropagation()},Blockly.Bubble.prototype.resizeMouseMove_=function(e){this.autoLayout_=!1,e=this.workspace_.moveDrag(e),this.setBubbleSize(this.workspace_.RTL?-e.x:e.x,e.y),this.workspace_.RTL&&this.positionBubble_()},Blockly.Bubble.prototype.registerResizeEvent=function(e){this.resizeCallback_=e},Blockly.Bubble.prototype.promote_=function(){this.bubbleGroup_.parentNode.appendChild(this.bubbleGroup_)},Blockly.Bubble.prototype.setAnchorLocation=function(e){this.anchorXY_=e,this.rendered_&&this.positionBubble_()},Blockly.Bubble.prototype.layoutBubble_=function(){var e=-this.width_/4,t=-this.height_-Blockly.BlockSvg.MIN_BLOCK_Y,o=this.workspace_.getMetrics();o.viewWidth/=this.workspace_.scale,o.viewLeft/=this.workspace_.scale;var n=this.anchorXY_.x;this.workspace_.RTL?n-o.viewLeft-e-this.width_<Blockly.Scrollbar.scrollbarThickness?e=n-o.viewLeft-this.width_-Blockly.Scrollbar.scrollbarThickness:n-o.viewLeft-e>o.viewWidth&&(e=n-o.viewLeft-o.viewWidth):n+e<o.viewLeft?e=o.viewLeft-n:o.viewLeft+o.viewWidth<n+e+this.width_+Blockly.BlockSvg.SEP_SPACE_X+Blockly.Scrollbar.scrollbarThickness&&(e=o.viewLeft+o.viewWidth-n-this.width_-Blockly.Scrollbar.scrollbarThickness),this.anchorXY_.y+t<o.viewTop&&(t=this.shape_.getBBox().height),this.relativeLeft_=e,this.relativeTop_=t},Blockly.Bubble.prototype.positionBubble_=function(){var e=this.anchorXY_.x;e=this.workspace_.RTL?e-(this.relativeLeft_+this.width_):e+this.relativeLeft_,this.bubbleGroup_.setAttribute("transform","translate("+e+","+(this.relativeTop_+this.anchorXY_.y)+")")},Blockly.Bubble.prototype.getBubbleSize=function(){return{width:this.width_,height:this.height_}},Blockly.Bubble.prototype.setBubbleSize=function(e,t){var o=2*Blockly.Bubble.BORDER_WIDTH;e=Math.max(e,o+45),t=Math.max(t,o+20),this.width_=e,this.height_=t,this.bubbleBack_.setAttribute("width",e),this.bubbleBack_.setAttribute("height",t),this.resizeGroup_&&(this.workspace_.RTL?this.resizeGroup_.setAttribute("transform","translate("+2*Blockly.Bubble.BORDER_WIDTH+","+(t-o)+") scale(-1 1)"):this.resizeGroup_.setAttribute("transform","translate("+(e-o)+","+(t-o)+")")),
this.rendered_&&(this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_()),this.resizeCallback_&&this.resizeCallback_()},Blockly.Bubble.prototype.renderArrow_=function(){var e=[],t=this.width_/2,o=this.height_/2,n=-this.relativeLeft_,i=-this.relativeTop_;if(t==n&&o==i)e.push("M "+t+","+o);else{i-=o,n-=t,this.workspace_.RTL&&(n*=-1);var l=Math.sqrt(i*i+n*n),s=Math.acos(n/l);0>i&&(s=2*Math.PI-s);var r=s+Math.PI/2;r>2*Math.PI&&(r-=2*Math.PI);var a=Math.sin(r),c=Math.cos(r),g=this.getBubbleSize();r=(g.width+g.height)/Blockly.Bubble.ARROW_THICKNESS,r=Math.min(r,g.width,g.height)/2,g=1-Blockly.Bubble.ANCHOR_RADIUS/l,n=t+g*n,i=o+g*i,g=t+r*c;var u=o+r*a;t-=r*c,o-=r*a,a=s+this.arrow_radians_,a>2*Math.PI&&(a-=2*Math.PI),s=Math.sin(a)*l/Blockly.Bubble.ARROW_BEND,l=Math.cos(a)*l/Blockly.Bubble.ARROW_BEND,e.push("M"+g+","+u),e.push("C"+(g+l)+","+(u+s)+" "+n+","+i+" "+n+","+i),e.push("C"+n+","+i+" "+(t+l)+","+(o+s)+" "+t+","+o)}e.push("z"),this.bubbleArrow_.setAttribute("d",e.join(" "))},Blockly.Bubble.prototype.setColour=function(e){this.bubbleBack_.setAttribute("fill","#fff"),this.bubbleBack_.setAttribute("stroke","#333"),this.bubbleBack_.setAttribute("stroke-opacity",.9),this.bubbleBack_.setAttribute("stroke-width",Blockly.Bubble.BORDER_WIDTH),this.bubbleArrow_.setAttribute("fill","#333"),this.bubbleArrow_.setAttribute("fill-opacity",.9)},Blockly.Bubble.prototype.dispose=function(){Blockly.Bubble.unbindDragEvents_(),goog.dom.removeNode(this.bubbleGroup_),this.shape_=this.content_=this.workspace_=this.resizeGroup_=this.bubbleBack_=this.bubbleArrow_=this.bubbleGroup_=null},Blockly.Icon=function(e){this.block_=e},Blockly.Icon.prototype.collapseHidden=!0,Blockly.Icon.prototype.SIZE=17,Blockly.Icon.prototype.bubble_=null,Blockly.Icon.prototype.iconXY_=null,Blockly.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=Blockly.createSvgElement("g",{class:"blocklyIconGroup"},null),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),Blockly.bindEvent_(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},Blockly.Icon.prototype.dispose=function(){goog.dom.removeNode(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},Blockly.Icon.prototype.updateEditable=function(){this.block_.isInFlyout||!this.block_.isEditable()?Blockly.addClass_(this.iconGroup_,"blocklyIconGroupReadonly"):Blockly.removeClass_(this.iconGroup_,"blocklyIconGroupReadonly")},Blockly.Icon.prototype.isVisible=function(){return!!this.bubble_},Blockly.Icon.prototype.iconClick_=function(e){Blockly.dragMode_!=Blockly.DRAG_FREE&&(this.block_.isInFlyout||Blockly.isRightButton(e)||this.setVisible(!this.isVisible()))},Blockly.Icon.prototype.updateColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.getColour())},Blockly.Icon.prototype.renderIcon=function(e){if(this.collapseHidden&&this.block_.isCollapsed())return this.iconGroup_.setAttribute("display","none"),e;this.iconGroup_.setAttribute("display","block");var t=this.SIZE;return this.block_.RTL&&(e-=t),this.iconGroup_.setAttribute("transform","translate("+e+",5)"),this.computeIconLocation(),e=this.block_.RTL?e-Blockly.BlockSvg.SEP_SPACE_X:e+(t+Blockly.BlockSvg.SEP_SPACE_X)},Blockly.Icon.prototype.setIconLocation=function(e){this.iconXY_=e,this.isVisible()&&this.bubble_.setAnchorLocation(e)},Blockly.Icon.prototype.computeIconLocation=function(){var e=this.block_.getRelativeToSurfaceXY(),t=Blockly.getRelativeXY_(this.iconGroup_);e=new goog.math.Coordinate(e.x+t.x+this.SIZE/2,e.y+t.y+this.SIZE/2),goog.math.Coordinate.equals(this.getIconLocation(),e)||this.setIconLocation(e)},Blockly.Icon.prototype.getIconLocation=function(){return this.iconXY_},Blockly.Comment=function(e){Blockly.Comment.superClass_.constructor.call(this,e),this.createIcon()},goog.inherits(Blockly.Comment,Blockly.Icon),Blockly.Comment.prototype.text_="",Blockly.Comment.prototype.width_=160,Blockly.Comment.prototype.height_=80,Blockly.Comment.prototype.drawIcon_=function(e){Blockly.createSvgElement("rect",{class:"blocklyIconShape",height:"16",width:"16","fill-opacity":"0","stroke-opacity":"0"},e),Blockly.createSvgElement("path",{class:"blocklyIconSymbol",d:"M19 6h-13c-1.65 0-3 1.35-3 3v7c0 1.65 1.35 3 3 3h1v3l3-3h9c1.65 0 3-1.35 3-3v-7c0-1.65-1.35-3-3-3zm1 10c0 .542-.458 1-1 1h-13c-.542 0-1-.458-1-1v-7c0-.542.458-1 1-1h13c.542 0 1 .458 1 1v7zM7 14.5c-1.104 0-2-.896-2-2s.896-2 2-2 2 .896 2 2-.896 2-2 2zm0-3c-.552 0 -1 .448-1 1s.448 1 1 1 1-.448 1-1-.448-1-1-1zM11.5 14.5c-1.104 0-2 -.896-2-2s.896-2 2-2 2 .896 2 2-.896 2-2 2zm0-3c-.552 0-1 .448-1 1s.448 1 1 1 1-.448 1-1-.448-1-1-1zM16 14.5c-1.104 0-2-.896-2-2s .896-2 2-2 2 .896 2 2-.896 2-2 2zm0-3c-.552 0-1 .448-1 1s.448 1 1 1 1-.448 1-1-.448-1-1-1z",transform:"scale(0.67)"},e)},Blockly.Comment.prototype.createEditor_=function(){this.foreignObject_=Blockly.createSvgElement("foreignObject",{x:Blockly.Bubble.BORDER_WIDTH,y:Blockly.Bubble.BORDER_WIDTH},null);var e=document.createElementNS(Blockly.HTML_NS,"body");e.setAttribute("xmlns",Blockly.HTML_NS),e.className="blocklyMinimalBody";var t=document.createElementNS(Blockly.HTML_NS,"textarea");return t.className="blocklyCommentTextarea",t.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),e.appendChild(t),this.textarea_=t,this.foreignObject_.appendChild(e),Blockly.bindEvent_(t,"mouseup",this,this.textareaFocus_),Blockly.bindEvent_(t,"wheel",this,function(e){e.stopPropagation()}),Blockly.bindEvent_(t,"change",this,function(e){this.text_!=t.value&&(Blockly.Events.fire(new Blockly.Events.Change(this.block_,"comment",null,this.text_,t.value)),this.text_=t.value)}),setTimeout(function(){t.focus()},0),this.foreignObject_},Blockly.Comment.prototype.updateEditable=function(){this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)),Blockly.Icon.prototype.updateEditable.call(this)},Blockly.Comment.prototype.resizeBubble_=function(){if(this.isVisible()){var e=this.bubble_.getBubbleSize(),t=2*Blockly.Bubble.BORDER_WIDTH;this.foreignObject_.setAttribute("width",e.width-t),this.foreignObject_.setAttribute("height",e.height-t),this.textarea_.style.width=e.width-t-4+"px",this.textarea_.style.height=e.height-t-4+"px"}},Blockly.Comment.prototype.setVisible=function(e){if(e!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"commentOpen",!e,e)),!this.block_.isEditable()&&!this.textarea_||goog.userAgent.IE)Blockly.Warning.prototype.setVisible.call(this,e);else{var t=this.getText(),o=this.getBubbleSize();e?(this.bubble_=new Blockly.Bubble(this.block_.workspace,this.createEditor_(),this.block_.svgPath_,this.iconXY_,this.width_,this.height_),this.bubble_.registerResizeEvent(this.resizeBubble_.bind(this)),this.updateColour()):(this.bubble_.dispose(),this.foreignObject_=this.textarea_=this.bubble_=null),this.setText(t),this.setBubbleSize(o.width,o.height)}},Blockly.Comment.prototype.textareaFocus_=function(e){this.bubble_.promote_(),this.textarea_.focus()},Blockly.Comment.prototype.getBubbleSize=function(){return this.isVisible()?this.bubble_.getBubbleSize():{width:this.width_,height:this.height_}},Blockly.Comment.prototype.setBubbleSize=function(e,t){this.textarea_?this.bubble_.setBubbleSize(e,t):(this.width_=e,this.height_=t)},Blockly.Comment.prototype.getText=function(){return this.textarea_?this.textarea_.value:this.text_},Blockly.Comment.prototype.setText=function(e){this.text_!=e&&(Blockly.Events.fire(new Blockly.Events.Change(this.block_,"comment",null,this.text_,e)),this.text_=e),this.textarea_&&(this.textarea_.value=e)},Blockly.Comment.prototype.dispose=function(){Blockly.Events.isEnabled()&&this.setText(""),this.block_.comment=null,Blockly.Icon.prototype.dispose.call(this)},Blockly.Connection=function(e,t){this.sourceBlock_=e,this.type=t,e.workspace.connectionDBList&&(this.db_=e.workspace.connectionDBList[t],this.dbOpposite_=e.workspace.connectionDBList[Blockly.OPPOSITE_TYPE[t]],this.hidden_=!this.db_)},Blockly.Connection.CAN_CONNECT=0,Blockly.Connection.REASON_SELF_CONNECTION=1,Blockly.Connection.REASON_WRONG_TYPE=2,Blockly.Connection.REASON_TARGET_NULL=3,Blockly.Connection.REASON_CHECKS_FAILED=4,Blockly.Connection.REASON_DIFFERENT_WORKSPACES=5,Blockly.Connection.prototype.targetConnection=null,Blockly.Connection.prototype.check_=null,Blockly.Connection.prototype.shadowDom_=null,Blockly.Connection.prototype.x_=0,Blockly.Connection.prototype.y_=0,Blockly.Connection.prototype.inDB_=!1,Blockly.Connection.prototype.db_=null,Blockly.Connection.prototype.dbOpposite_=null,Blockly.Connection.prototype.hidden_=null,Blockly.Connection.prototype.connect_=function(e){var t=this,o=t.getSourceBlock(),n=e.getSourceBlock();if(e.isConnected()&&e.disconnect(),t.isConnected()){var i=t.targetBlock(),l=t.getShadowDom();if(t.setShadowDom(null),i.isShadow())l=Blockly.Xml.blockToDom(i),i.dispose(),i=null;else if(t.type==Blockly.INPUT_VALUE){if(!i.outputConnection)throw"Orphan block does not have an output connection.";var s=Blockly.Connection.lastConnectionInRow_(n,i);s&&(i.outputConnection.connect(s),i=null)}else if(t.type==Blockly.NEXT_STATEMENT){if(!i.previousConnection)throw"Orphan block does not have a previous connection.";for(s=n;s.nextConnection;){if(!s.nextConnection.isConnected()){i.previousConnection.checkType_(s.nextConnection)&&(s.nextConnection.connect(i.previousConnection),i=null);break}s=s.getNextBlock()}}if(i&&(t.disconnect(),Blockly.Events.recordUndo)){var r=Blockly.Events.getGroup();setTimeout(function(){i.workspace&&!i.getParent()&&(Blockly.Events.setGroup(r),i.outputConnection?i.outputConnection.bumpAwayFrom_(t):i.previousConnection&&i.previousConnection.bumpAwayFrom_(t),Blockly.Events.setGroup(!1))},Blockly.BUMP_DELAY)}t.setShadowDom(l)}var a;Blockly.Events.isEnabled()&&(a=new Blockly.Events.Move(n)),Blockly.Connection.connectReciprocally_(t,e),n.setParent(o),a&&(a.recordNew(),Blockly.Events.fire(a))},Blockly.Connection.prototype.dispose=function(){if(this.isConnected())throw"Disconnect connection before disposing of it.";this.inDB_&&this.db_.removeConnection_(this),Blockly.highlightedConnection_==this&&(Blockly.highlightedConnection_=null),Blockly.localConnection_==this&&(Blockly.localConnection_=null),this.dbOpposite_=this.db_=null},Blockly.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},Blockly.Connection.prototype.isSuperior=function(){return this.type==Blockly.INPUT_VALUE||this.type==Blockly.NEXT_STATEMENT},Blockly.Connection.prototype.isConnected=function(){return!!this.targetConnection},Blockly.Connection.prototype.canConnectWithReason_=function(e){return e?this.sourceBlock_&&e.getSourceBlock()==this.sourceBlock_?Blockly.Connection.REASON_SELF_CONNECTION:e.type!=Blockly.OPPOSITE_TYPE[this.type]?Blockly.Connection.REASON_WRONG_TYPE:this.sourceBlock_&&e.getSourceBlock()&&this.sourceBlock_.workspace!==e.getSourceBlock().workspace?Blockly.Connection.REASON_DIFFERENT_WORKSPACES:this.checkType_(e)?Blockly.Connection.CAN_CONNECT:Blockly.Connection.REASON_CHECKS_FAILED:Blockly.Connection.REASON_TARGET_NULL},Blockly.Connection.prototype.checkConnection_=function(e){switch(this.canConnectWithReason_(e)){case Blockly.Connection.CAN_CONNECT:break;case Blockly.Connection.REASON_SELF_CONNECTION:throw"Attempted to connect a block to itself.";case Blockly.Connection.REASON_DIFFERENT_WORKSPACES:throw"Blocks not on same workspace.";case Blockly.Connection.REASON_WRONG_TYPE:throw"Attempt to connect incompatible types.";case Blockly.Connection.REASON_TARGET_NULL:throw"Target connection is null.";case Blockly.Connection.REASON_CHECKS_FAILED:throw"Connection checks failed.";default:throw"Unknown connection failure: this should never happen!"}},Blockly.Connection.prototype.isConnectionAllowed=function(e){var t=this.canConnectWithReason_(e);return(t==Blockly.Connection.CAN_CONNECT||t==Blockly.Connection.REASON_MUST_DISCONNECT)&&((e.type!=Blockly.OUTPUT_VALUE&&e.type!=Blockly.PREVIOUS_STATEMENT||!e.isConnected()&&!this.isConnected())&&!(e.type==Blockly.INPUT_VALUE&&e.isConnected()&&!e.targetBlock().isMovable()&&!e.targetBlock().isShadow()||this.type==Blockly.PREVIOUS_STATEMENT&&e.isConnected()&&!this.sourceBlock_.nextConnection||-1!=Blockly.draggingConnections_.indexOf(e)))},Blockly.Connection.prototype.connect=function(e){this.targetConnection!=e&&(this.checkConnection_(e),this.isSuperior()?this.connect_(e):e.connect_(this))},Blockly.Connection.connectReciprocally_=function(e,t){goog.asserts.assert(e&&t,"Cannot connect null connections."),e.targetConnection=t,t.targetConnection=e},Blockly.Connection.singleConnection_=function(e,t){for(var o=!1,n=0;n<e.inputList.length;n++){var i=e.inputList[n].connection;if(i&&i.type==Blockly.INPUT_VALUE&&t.outputConnection.checkType_(i)){if(o)return null;o=i}}return o},Blockly.Connection.lastConnectionInRow_=function(e,t){for(var o,n=e;o=Blockly.Connection.singleConnection_(n,t);)if(n=o.targetBlock(),!n||n.isShadow())return o;return null},Blockly.Connection.prototype.disconnect=function(){var e=this.targetConnection;if(goog.asserts.assert(e,"Source connection not connected."),goog.asserts.assert(e.targetConnection==this,"Target connection not connected to source connection."),this.isSuperior()){var t=this.sourceBlock_,o=e.getSourceBlock();e=this}else t=e.getSourceBlock(),o=this.sourceBlock_;this.disconnectInternal_(t,o),e.respawnShadow_()},Blockly.Connection.prototype.disconnectInternal_=function(e,t){var o;Blockly.Events.isEnabled()&&(o=new Blockly.Events.Move(t)),this.targetConnection=this.targetConnection.targetConnection=null,t.setParent(null),o&&(o.recordNew(),Blockly.Events.fire(o))},Blockly.Connection.prototype.respawnShadow_=function(){var e=this.getSourceBlock(),t=this.getShadowDom();if(e.workspace&&t&&Blockly.Events.recordUndo){if(e=Blockly.Xml.domToBlock(t,e.workspace),e.outputConnection)this.connect(e.outputConnection);else{if(!e.previousConnection)throw"Child block does not have output or previous statement.";this.connect(e.previousConnection)}return e}return null},Blockly.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},Blockly.Connection.prototype.checkType_=function(e){if(!this.check_||!e.check_)return!("declaration_only"==this.check_&&!e.check_||!this.check_&&"declaration_only"==e.check_||"ardu"==this.check_&&!e.check_||!this.check_&&"ardu"==e.check_);for(var t=0;t<this.check_.length;t++)if(-1!=e.check_.indexOf(this.check_[t]))return!0;return!1},Blockly.Connection.prototype.setCheck=function(e){return e?(goog.isArray(e)||(e=[e]),this.check_=e,this.isConnected()&&!this.checkType_(this.targetConnection)&&((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours_()),this.sourceBlock_.rendered&&this.sourceBlock_.render()):this.check_=null,this},Blockly.Connection.prototype.setShadowDom=function(e){this.shadowDom_=e},Blockly.Connection.prototype.getShadowDom=function(){return this.shadowDom_},Blockly.Field=function(e,t){this.size_=new goog.math.Size(0,25),this.setValue(e),this.setValidator(t)},Blockly.Field.cacheWidths_=null,Blockly.Field.cacheReference_=0,Blockly.Field.prototype.name=void 0,Blockly.Field.prototype.maxDisplayLength=50,Blockly.Field.prototype.text_="",Blockly.Field.prototype.sourceBlock_=null,Blockly.Field.prototype.visible_=!0,Blockly.Field.prototype.validator_=null,Blockly.Field.NBSP=" ",Blockly.Field.prototype.EDITABLE=!0,Blockly.Field.prototype.setSourceBlock=function(e){goog.asserts.assert(!this.sourceBlock_,"Field already bound to a block."),this.sourceBlock_=e},Blockly.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=Blockly.createSvgElement("g",{},null),this.visible_||(this.fieldGroup_.style.display="none"),this.borderRect_=Blockly.createSvgElement("rect",{rx:2,ry:2,x:-Blockly.BlockSvg.SEP_SPACE_X/2,y:0,height:16},this.fieldGroup_,this.sourceBlock_.workspace),this.textElement_=Blockly.createSvgElement("text",{class:"blocklyText",y:this.size_.height-12.5},this.fieldGroup_),this.updateEditable(),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.mouseUpWrapper_=Blockly.bindEvent_(this.fieldGroup_,"mouseup",this,this.onMouseUp_),this.updateTextNode_(),Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,"",this.getValue())))},Blockly.Field.prototype.dispose=function(){this.mouseUpWrapper_&&(Blockly.unbindEvent_(this.mouseUpWrapper_),this.mouseUpWrapper_=null),this.sourceBlock_=null,goog.dom.removeNode(this.fieldGroup_),this.validator_=this.borderRect_=this.textElement_=this.fieldGroup_=null},Blockly.Field.prototype.updateEditable=function(){this.EDITABLE&&this.sourceBlock_&&(this.sourceBlock_.isEditable()?(Blockly.addClass_(this.fieldGroup_,"blocklyEditableText"),Blockly.removeClass_(this.fieldGroup_,"blocklyNoNEditableText"),this.fieldGroup_.style.cursor=this.CURSOR):(Blockly.addClass_(this.fieldGroup_,"blocklyNonEditableText"),Blockly.removeClass_(this.fieldGroup_,"blocklyEditableText"),this.fieldGroup_.style.cursor=""))},Blockly.Field.prototype.isVisible=function(){return this.visible_},Blockly.Field.prototype.setVisible=function(e){if(this.visible_!=e){this.visible_=e;var t=this.getSvgRoot();t&&(t.style.display=e?"block":"none",this.render_())}},Blockly.Field.prototype.setValidator=function(e){this.validator_=e},Blockly.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},Blockly.Field.prototype.render_=function(){if(this.visible_&&this.textElement_){var e=this.textElement_.textContent+"\n"+this.textElement_.className.baseVal;if(Blockly.Field.cacheWidths_&&Blockly.Field.cacheWidths_[e])var t=Blockly.Field.cacheWidths_[e];else{try{t=this.textElement_.getComputedTextLength()}catch(e){t=8*this.textElement_.textContent.length}Blockly.Field.cacheWidths_&&(Blockly.Field.cacheWidths_[e]=t)}this.borderRect_&&this.borderRect_.setAttribute("width",t+Blockly.BlockSvg.SEP_SPACE_X)}else t=0;this.size_.width=t},Blockly.Field.startCache=function(){Blockly.Field.cacheReference_++,Blockly.Field.cacheWidths_||(Blockly.Field.cacheWidths_={})},Blockly.Field.stopCache=function(){Blockly.Field.cacheReference_--,Blockly.Field.cacheReference_||(Blockly.Field.cacheWidths_=null)},Blockly.Field.prototype.getSize=function(){return this.size_.width||this.render_(),this.size_},Blockly.Field.prototype.getScaledBBox_=function(){var e=this.borderRect_.getBBox();return new goog.math.Size(e.width*this.sourceBlock_.workspace.scale,e.height*this.sourceBlock_.workspace.scale)},Blockly.Field.prototype.getText=function(){return this.text_},Blockly.Field.prototype.setText=function(e){null!==e&&(e=String(e),e!==this.text_&&(this.text_=e,this.updateTextNode_(),this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_())))},Blockly.Field.prototype.updateTextNode_=function(){if(this.textElement_){var e=this.text_;e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"…"),goog.dom.removeChildren(this.textElement_),e=e.replace(/\s/g,Blockly.Field.NBSP),this.sourceBlock_.RTL&&e&&(e+="‏"),e||(e=Blockly.Field.NBSP),e=document.createTextNode(e),this.textElement_.appendChild(e),this.size_.width=0}},Blockly.Field.prototype.getValue=function(){return this.getText()},Blockly.Field.prototype.setValue=function(e){if(null!==e){var t=this.getValue();t!=e&&(this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,t,e)),this.setText(e))}},Blockly.Field.prototype.onMouseUp_=function(e){(!goog.userAgent.IPHONE&&!goog.userAgent.IPAD||goog.userAgent.isVersionOrHigher("537.51.2")||0===e.layerX||0===e.layerY)&&(Blockly.isRightButton(e)||Blockly.dragMode_!=Blockly.DRAG_FREE&&this.sourceBlock_.isEditable()&&this.showEditor_())},Blockly.Field.prototype.setTooltip=function(e){},Blockly.Field.prototype.getAbsoluteXY_=function(){return goog.style.getPageOffset(this.borderRect_)},Blockly.Tooltip={},Blockly.Tooltip.visible=!1,Blockly.Tooltip.LIMIT=50,Blockly.Tooltip.mouseOutPid_=0,Blockly.Tooltip.showPid_=0,Blockly.Tooltip.lastX_=0,Blockly.Tooltip.lastY_=0,Blockly.Tooltip.element_=null,Blockly.Tooltip.poisonedElement_=null,Blockly.Tooltip.OFFSET_X=0,Blockly.Tooltip.OFFSET_Y=10,Blockly.Tooltip.RADIUS_OK=10,Blockly.Tooltip.HOVER_MS=750,Blockly.Tooltip.MARGINS=5,Blockly.Tooltip.DIV=null,Blockly.Tooltip.createDom=function(){Blockly.Tooltip.DIV||(Blockly.Tooltip.DIV=goog.dom.createDom("div","blocklyTooltipDiv"),document.body.appendChild(Blockly.Tooltip.DIV))},Blockly.Tooltip.bindMouseEvents=function(e){Blockly.bindEvent_(e,"mouseover",null,Blockly.Tooltip.onMouseOver_),Blockly.bindEvent_(e,"mouseout",null,Blockly.Tooltip.onMouseOut_),Blockly.bindEvent_(e,"mousemove",null,Blockly.Tooltip.onMouseMove_)},Blockly.Tooltip.onMouseOver_=function(e){for(e=e.target;!goog.isString(e.tooltip)&&!goog.isFunction(e.tooltip);)e=e.tooltip;Blockly.Tooltip.element_!=e&&(Blockly.Tooltip.hide(),Blockly.Tooltip.poisonedElement_=null,Blockly.Tooltip.element_=e),clearTimeout(Blockly.Tooltip.mouseOutPid_)},Blockly.Tooltip.onMouseOut_=function(e){Blockly.Tooltip.mouseOutPid_=setTimeout(function(){Blockly.Tooltip.element_=null,Blockly.Tooltip.poisonedElement_=null,Blockly.Tooltip.hide()},1),clearTimeout(Blockly.Tooltip.showPid_)},Blockly.Tooltip.onMouseMove_=function(e){if(Blockly.Tooltip.element_&&Blockly.Tooltip.element_.tooltip&&Blockly.dragMode_==Blockly.DRAG_NONE&&!Blockly.WidgetDiv.isVisible())if(Blockly.Tooltip.visible){var t=Blockly.Tooltip.lastX_-e.pageX;e=Blockly.Tooltip.lastY_-e.pageY,Math.sqrt(t*t+e*e)>Blockly.Tooltip.RADIUS_OK&&Blockly.Tooltip.hide()}else Blockly.Tooltip.poisonedElement_!=Blockly.Tooltip.element_&&(clearTimeout(Blockly.Tooltip.showPid_),Blockly.Tooltip.lastX_=e.pageX,Blockly.Tooltip.lastY_=e.pageY,Blockly.Tooltip.showPid_=setTimeout(Blockly.Tooltip.show_,Blockly.Tooltip.HOVER_MS))},Blockly.Tooltip.hide=function(){Blockly.Tooltip.visible&&(Blockly.Tooltip.visible=!1,Blockly.Tooltip.DIV&&(Blockly.Tooltip.DIV.style.display="none")),clearTimeout(Blockly.Tooltip.showPid_)},Blockly.Tooltip.show_=function(){if(Blockly.Tooltip.poisonedElement_=Blockly.Tooltip.element_,Blockly.Tooltip.DIV){goog.dom.removeChildren(Blockly.Tooltip.DIV);for(var e=Blockly.Tooltip.element_.tooltip;goog.isFunction(e);)e=e();e=Blockly.Tooltip.wrap_(e,Blockly.Tooltip.LIMIT),e=e.split("\n");for(var t=0;t<e.length;t++){var o=document.createElement("div");o.appendChild(document.createTextNode(e[t])),Blockly.Tooltip.DIV.appendChild(o)}e=Blockly.Tooltip.element_.RTL,t=goog.dom.getViewportSize(),Blockly.Tooltip.DIV.style.direction=e?"rtl":"ltr",Blockly.Tooltip.DIV.style.display="block",Blockly.Tooltip.visible=!0,o=Blockly.Tooltip.lastX_,o=e?o-(Blockly.Tooltip.OFFSET_X+Blockly.Tooltip.DIV.offsetWidth):o+Blockly.Tooltip.OFFSET_X;var n=Blockly.Tooltip.lastY_+Blockly.Tooltip.OFFSET_Y;n+Blockly.Tooltip.DIV.offsetHeight>t.height+window.scrollY&&(n-=Blockly.Tooltip.DIV.offsetHeight+2*Blockly.Tooltip.OFFSET_Y),e?o=Math.max(Blockly.Tooltip.MARGINS-window.scrollX,o):o+Blockly.Tooltip.DIV.offsetWidth>t.width+window.scrollX-2*Blockly.Tooltip.MARGINS&&(o=t.width-Blockly.Tooltip.DIV.offsetWidth-2*Blockly.Tooltip.MARGINS),Blockly.Tooltip.DIV.style.top=n+"px",Blockly.Tooltip.DIV.style.left=o+"px"}},Blockly.Tooltip.wrap_=function(e,t){if(e.length<=t)return e;for(var o=e.trim().split(/\s+/),n=0;n<o.length;n++)o[n].length>t&&(t=o[n].length);n=-(1/0);var i=1;do{var l=n,s=e,r=[],a=o.length/i,c=1;for(n=0;n<o.length-1;n++)c<(n+1.5)/a?(c++,r[n]=!0):r[n]=!1;r=Blockly.Tooltip.wrapMutate_(o,r,t),n=Blockly.Tooltip.wrapScore_(o,r,t),e=Blockly.Tooltip.wrapToText_(o,r),i++}while(n>l);return s},Blockly.Tooltip.wrapScore_=function(e,t,o){for(var n=[0],i=[],l=0;l<e.length;l++)n[n.length-1]+=e[l].length,!0===t[l]?(n.push(0),i.push(e[l].charAt(e[l].length-1))):!1===t[l]&&n[n.length-1]++;for(e=Math.max.apply(Math,n),l=t=0;l<n.length;l++)t-=2*Math.pow(Math.abs(o-n[l]),1.5),t-=Math.pow(e-n[l],1.5),-1!=".?!".indexOf(i[l])?t+=o/3:-1!=",;)]}".indexOf(i[l])&&(t+=o/4);return 1<n.length&&n[n.length-1]<=n[n.length-2]&&(t+=.5),t},Blockly.Tooltip.wrapMutate_=function(e,t,o){for(var n,i=Blockly.Tooltip.wrapScore_(e,t,o),l=0;l<t.length-1;l++)if(t[l]!=t[l+1]){var s=[].concat(t);s[l]=!s[l],s[l+1]=!s[l+1];var r=Blockly.Tooltip.wrapScore_(e,s,o);r>i&&(i=r,n=s)}return n?Blockly.Tooltip.wrapMutate_(e,n,o):t},Blockly.Tooltip.wrapToText_=function(e,t){for(var o=[],n=0;n<e.length;n++)o.push(e[n]),void 0!==t[n]&&o.push(t[n]?"\n":" ");return o.join("")},Blockly.FieldLabel=function(e,t){this.size_=new goog.math.Size(0,17.5),this.class_=t,this.setValue(e)},goog.inherits(Blockly.FieldLabel,Blockly.Field),Blockly.FieldLabel.prototype.EDITABLE=!1,Blockly.FieldLabel.prototype.init=function(){this.textElement_||(this.textElement_=Blockly.createSvgElement("text",{class:"blocklyText",y:this.size_.height-5},null),this.class_&&Blockly.addClass_(this.textElement_,this.class_),this.visible_||(this.textElement_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.textElement_),this.textElement_.tooltip=this.sourceBlock_,Blockly.Tooltip.bindMouseEvents(this.textElement_),this.updateTextNode_())},Blockly.FieldLabel.prototype.dispose=function(){goog.dom.removeNode(this.textElement_),this.textElement_=null},Blockly.FieldLabel.prototype.getSvgRoot=function(){return this.textElement_},Blockly.FieldLabel.prototype.setTooltip=function(e){this.textElement_.tooltip=e},Blockly.Input=function(e,t,o,n){this.type=e,this.name=t,this.sourceBlock_=o,this.connection=n,this.fieldRow=[]},Blockly.Input.prototype.align=Blockly.ALIGN_LEFT,Blockly.Input.prototype.visible_=!0,Blockly.Input.prototype.appendField=function(e,t){return e||t?(goog.isString(e)&&(e=new Blockly.FieldLabel(e)),e.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&e.init(),e.name=t,e.prefixField&&this.appendField(e.prefixField),this.fieldRow.push(e),e.suffixField&&this.appendField(e.suffixField),this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_()),this):this},Blockly.Input.prototype.appendTitle=function(e,t){return console.warn("Deprecated call to appendTitle, use appendField instead."),this.appendField(e,t)},Blockly.Input.prototype.removeField=function(e){for(var t,o=0;t=this.fieldRow[o];o++)if(t.name===e)return t.dispose(),this.fieldRow.splice(o,1),void(this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_()));goog.asserts.fail('Field "%s" not found.',e)},Blockly.Input.prototype.isVisible=function(){return this.visible_},Blockly.Input.prototype.setVisible=function(e){var t=[];if(this.visible_==e)return t;for(var o,n=(this.visible_=e)?"block":"none",i=0;o=this.fieldRow[i];i++)o.setVisible(e);return this.connection&&(e?t=this.connection.unhideAll():this.connection.hideAll(),i=this.connection.targetBlock())&&(i.getSvgRoot().style.display=n,e||(i.rendered=!1)),t},Blockly.Input.prototype.setCheck=function(e){if(!this.connection)throw"This input does not have a connection.";return this.connection.setCheck(e),this};Blockly.Input.prototype.setAlign=function(e){return this.align=e,this.sourceBlock_.rendered&&this.sourceBlock_.render(),this};Blockly.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init()},Blockly.Input.prototype.dispose=function(){for(var e,t=0;e=this.fieldRow[t];t++)e.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},Blockly.ConnectionDB=function(){},Blockly.ConnectionDB.prototype=[],Blockly.ConnectionDB.constructor=Blockly.ConnectionDB,Blockly.ConnectionDB.prototype.addConnection=function(e){if(e.inDB_)throw"Connection already in database.";if(!e.getSourceBlock().isInFlyout){var t=this.findPositionForConnection_(e);this.splice(t,0,e),e.inDB_=!0}},Blockly.ConnectionDB.prototype.findConnection=function(e){if(!this.length)return-1;var t=this.findPositionForConnection_(e);if(t>=this.length)return-1;for(var o=e.y_,n=t;0<=n&&this[n].y_==o;){if(this[n]==e)return n;n--}for(;t<this.length&&this[t].y_==o;){if(this[t]==e)return t;t++}return-1},Blockly.ConnectionDB.prototype.findPositionForConnection_=function(e){if(!this.length)return 0;for(var t=0,o=this.length;t<o;){var n=Math.floor((t+o)/2);if(this[n].y_<e.y_)t=n+1;else{if(!(this[n].y_>e.y_)){t=n;break}o=n}}return t},Blockly.ConnectionDB.prototype.removeConnection_=function(e){if(!e.inDB_)throw"Connection not in database.";var t=this.findConnection(e);if(-1==t)throw"Unable to find connection in connectionDB.";e.inDB_=!1,this.splice(t,1)},Blockly.ConnectionDB.prototype.getNeighbours=function(e,t){function o(e){var o=i-n[e].x_,s=l-n[e].y_;return Math.sqrt(o*o+s*s)<=t&&c.push(n[e]),s<t}for(var n=this,i=e.x_,l=e.y_,s=0,r=n.length-2,a=r;s<a;)n[a].y_<l?s=a:r=a,a=Math.floor((s+r)/2);var c=[];if(r=s=a,n.length){for(;0<=s&&o(s);)s--;do r++;while(r<n.length&&o(r))}return c},Blockly.ConnectionDB.prototype.isInYRange_=function(e,t,o){return Math.abs(this[e].y_-t)<=o},Blockly.ConnectionDB.prototype.searchForClosest=function(e,t,o){if(!this.length)return{connection:null,radius:t};var n=e.y_,i=e.x_;e.x_=i+o.x,e.y_=n+o.y;var l=this.findPositionForConnection_(e);o=null;for(var s,r=t,a=l-1;0<=a&&this.isInYRange_(a,e.y_,t);)s=this[a],e.isConnectionAllowed(s,r)&&(o=s,r=s.distanceFrom(e)),a--;for(;l<this.length&&this.isInYRange_(l,e.y_,t);)s=this[l],e.isConnectionAllowed(s,r)&&(o=s,r=s.distanceFrom(e)),l++;return e.x_=i,e.y_=n,{connection:o,radius:r}},Blockly.ConnectionDB.init=function(e){var t=[];t[Blockly.INPUT_VALUE]=new Blockly.ConnectionDB,t[Blockly.OUTPUT_VALUE]=new Blockly.ConnectionDB,t[Blockly.NEXT_STATEMENT]=new Blockly.ConnectionDB,t[Blockly.PREVIOUS_STATEMENT]=new Blockly.ConnectionDB,e.connectionDBList=t},Blockly.Options=function(e){var t=!!e.readOnly;if(t)var o=null,n=!1,i=!1,l=!1,s=!1,r=!1,a=!1;else o=Blockly.Options.parseToolboxTree(e.toolbox),n=!(!o||!o.getElementsByTagName("category").length),i=e.trashcan,void 0===i&&(i=n),l=e.collapse,void 0===l&&(l=n),s=e.comments,void 0===s&&(s=n),r=e.disable,void 0===r&&(r=n),a=e.sounds,void 0===a&&(a=!0);var c=!!e.rtl,g=e.horizontalLayout;void 0===g&&(g=!1);var u=e.toolboxPosition;u="end"!==u,u=g?u?Blockly.TOOLBOX_AT_TOP:Blockly.TOOLBOX_AT_BOTTOM:u==c?Blockly.TOOLBOX_AT_RIGHT:Blockly.TOOLBOX_AT_LEFT;var p=e.scrollbars;void 0===p&&(p=n);var h=e.css;void 0===h&&(h=!0);var d="https://blockly-demo.appspot.com/static/media/";e.media?d=e.media:e.path&&(d=e.path+"media/"),this.RTL=c,this.collapse=l,this.comments=s,this.disable=r,this.readOnly=t,this.maxBlocks=e.maxBlocks||1/0,this.pathToMedia=d,this.hasCategories=n,this.hasScrollbars=p,this.hasTrashcan=i,this.hasSounds=a,this.hasCss=h,this.horizontalLayout=g,this.languageTree=o,this.gridOptions=Blockly.Options.parseGridOptions_(e),this.zoomOptions=Blockly.Options.parseZoomOptions_(e),this.toolboxPosition=u,this.checkInTask=e.checkInTask||!1,this.variableDeclaration=!!e.variableDeclaration,this.robControls=!!e.robControls,this.toolboxHeaderRenderFunc=e.toolboxHeaderRenderFunc},Blockly.Options.prototype.parentWorkspace=null,Blockly.Options.prototype.setMetrics=function(e){},Blockly.Options.prototype.getMetrics=function(){return null},Blockly.Options.parseZoomOptions_=function(e){e=e.zoom||{};var t={};return t.controls=void 0!==e.controls&&!!e.controls,t.wheel=void 0!==e.wheel&&!!e.wheel,t.startScale=void 0===e.startScale?1:parseFloat(e.startScale),t.maxScale=void 0===e.maxScale?3:parseFloat(e.maxScale),t.minScale=void 0===e.minScale?.3:parseFloat(e.minScale),t.scaleSpeed=void 0===e.scaleSpeed?1.2:parseFloat(e.scaleSpeed),t},Blockly.Options.parseGridOptions_=function(e){e=e.grid||{};var t={};return t.spacing=parseFloat(e.spacing)||0,t.colour=e.colour||"#888",t.length=parseFloat(e.length)||1,t.snap=0<t.spacing&&!!e.snap,t},Blockly.Options.parseToolboxTree=function(e){return e?("string"!=typeof e&&("undefined"==typeof XSLTProcessor&&e.outerHTML?e=e.outerHTML:e instanceof Element||(e=null)),"string"==typeof e&&(e=Blockly.Xml.textToDom(e))):e=null,e},Blockly.ScrollbarPair=function(e){
this.workspace_=e,this.hScroll=new Blockly.Scrollbar(e,!0,!0),this.vScroll=new Blockly.Scrollbar(e,!1,!0),this.corner_=Blockly.createSvgElement("rect",{height:Blockly.Scrollbar.scrollbarThickness,width:Blockly.Scrollbar.scrollbarThickness,class:"blocklyScrollbarBackground"},null),Blockly.Scrollbar.insertAfter_(this.corner_,e.getBubbleCanvas())},Blockly.ScrollbarPair.prototype.oldHostMetrics_=null,Blockly.ScrollbarPair.prototype.dispose=function(){goog.dom.removeNode(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll.dispose(),this.hScroll=null,this.vScroll.dispose(),this.vScroll=null},Blockly.ScrollbarPair.prototype.resize=function(){var e=this.workspace_.getMetrics();if(e){var t=!1,o=!1;this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.contentWidth==e.contentWidth&&this.oldHostMetrics_.viewLeft==e.viewLeft&&this.oldHostMetrics_.contentLeft==e.contentLeft||(t=!0),this.oldHostMetrics_&&this.oldHostMetrics_.contentHeight==e.contentHeight&&this.oldHostMetrics_.viewTop==e.viewTop&&this.oldHostMetrics_.contentTop==e.contentTop||(o=!0)):o=t=!0,t&&this.hScroll.resize(e),o&&this.vScroll.resize(e),this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.xCoordinate),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop||this.corner_.setAttribute("y",this.hScroll.yCoordinate),this.oldHostMetrics_=e}},Blockly.ScrollbarPair.prototype.set=function(e,t){var o={},n=e*this.hScroll.ratio_,i=t*this.vScroll.ratio_,l=parseFloat(this.hScroll.svgBackground_.getAttribute("width")),s=parseFloat(this.vScroll.svgBackground_.getAttribute("height"));o.x=this.getRatio_(n,l),o.y=this.getRatio_(i,s),this.workspace_.setMetrics(o),this.hScroll.svgKnob_.setAttribute("x",n),this.vScroll.svgKnob_.setAttribute("y",i)},Blockly.ScrollbarPair.prototype.getRatio_=function(e,t){var o=e/t;return isNaN(o)?0:o},Blockly.Scrollbar=function(e,t,o){this.workspace_=e,this.pair_=o||!1,this.horizontal_=t,this.createDom_(),t?(this.svgBackground_.setAttribute("height",Blockly.Scrollbar.scrollbarThickness),this.svgKnob_.setAttribute("height",Blockly.Scrollbar.scrollbarThickness-5),this.svgKnob_.setAttribute("y",2.5)):(this.svgBackground_.setAttribute("width",Blockly.Scrollbar.scrollbarThickness),this.svgKnob_.setAttribute("width",Blockly.Scrollbar.scrollbarThickness-5),this.svgKnob_.setAttribute("x",2.5)),this.onMouseDownBarWrapper_=Blockly.bindEvent_(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownKnobWrapper_=Blockly.bindEvent_(this.svgKnob_,"mousedown",this,this.onMouseDownKnob_)},Blockly.Scrollbar.scrollbarThickness=15,goog.events.BrowserFeature.TOUCH_ENABLED&&(Blockly.Scrollbar.scrollbarThickness=25),Blockly.Scrollbar.prototype.dispose=function(){this.onMouseUpKnob_(),Blockly.unbindEvent_(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,Blockly.unbindEvent_(this.onMouseDownKnobWrapper_),this.onMouseDownKnobWrapper_=null,goog.dom.removeNode(this.svgGroup_),this.workspace_=this.svgKnob_=this.svgBackground_=this.svgGroup_=null},Blockly.Scrollbar.prototype.resize=function(e){(e||(e=this.workspace_.getMetrics()))&&(this.horizontal_?this.resizeHorizontal_(e):this.resizeVertical_(e),this.onScroll_())},Blockly.Scrollbar.prototype.resizeHorizontal_=function(e){var t=e.viewWidth-1;this.pair_?t-=Blockly.Scrollbar.scrollbarThickness:this.setVisible(t<e.contentWidth),this.ratio_=t/e.contentWidth,(-(1/0)===this.ratio_||1/0===this.ratio_||isNaN(this.ratio_))&&(this.ratio_=0);var o=(e.viewLeft-e.contentLeft)*this.ratio_;this.svgKnob_.setAttribute("width",Math.max(0,e.viewWidth*this.ratio_)),this.xCoordinate=e.absoluteLeft+.5,this.pair_&&this.workspace_.RTL&&(this.xCoordinate+=Blockly.Scrollbar.scrollbarThickness),this.yCoordinate=e.absoluteTop+e.viewHeight-Blockly.Scrollbar.scrollbarThickness-.5,this.svgGroup_.setAttribute("transform","translate("+this.xCoordinate+","+this.yCoordinate+")"),this.svgBackground_.setAttribute("width",Math.max(0,t)),this.svgKnob_.setAttribute("x",this.constrainKnob_(o))},Blockly.Scrollbar.prototype.resizeVertical_=function(e){var t=e.viewHeight-1;this.pair_?t-=Blockly.Scrollbar.scrollbarThickness:this.setVisible(t<e.contentHeight),this.ratio_=t/e.contentHeight,(-(1/0)===this.ratio_||1/0===this.ratio_||isNaN(this.ratio_))&&(this.ratio_=0);var o=(e.viewTop-e.contentTop)*this.ratio_;this.svgKnob_.setAttribute("height",Math.max(0,e.viewHeight*this.ratio_)),this.xCoordinate=e.absoluteLeft+.5,this.workspace_.RTL||(this.xCoordinate+=e.viewWidth-Blockly.Scrollbar.scrollbarThickness-1),this.yCoordinate=e.absoluteTop+.5,this.svgGroup_.setAttribute("transform","translate("+this.xCoordinate+","+this.yCoordinate+")"),this.svgBackground_.setAttribute("height",Math.max(0,t)),this.svgKnob_.setAttribute("y",this.constrainKnob_(o))},Blockly.Scrollbar.prototype.createDom_=function(){this.svgGroup_=Blockly.createSvgElement("g",{class:"blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical")},null),this.svgBackground_=Blockly.createSvgElement("rect",{class:"blocklyScrollbarBackground"},this.svgGroup_);var e=Math.floor((Blockly.Scrollbar.scrollbarThickness-5)/2);this.svgKnob_=Blockly.createSvgElement("rect",{class:"blocklyScrollbarKnob",rx:e,ry:e},this.svgGroup_),Blockly.Scrollbar.insertAfter_(this.svgGroup_,this.workspace_.getBubbleCanvas())},Blockly.Scrollbar.prototype.isVisible=function(){return"none"!=this.svgGroup_.getAttribute("display")},Blockly.Scrollbar.prototype.setVisible=function(e){if(e!=this.isVisible()){if(this.pair_)throw"Unable to toggle visibility of paired scrollbars.";e?this.svgGroup_.setAttribute("display","block"):(this.workspace_.setMetrics({x:0,y:0}),this.svgGroup_.setAttribute("display","none"))}},Blockly.Scrollbar.prototype.onMouseDownBar_=function(e){if(this.onMouseUpKnob_(),Blockly.isRightButton(e))e.stopPropagation();else{var t=Blockly.mouseToSvg(e,this.workspace_.getParentSvg());t=this.horizontal_?t.x:t.y;var o=Blockly.getSvgXY_(this.svgKnob_,this.workspace_);o=this.horizontal_?o.x:o.y;var n=parseFloat(this.svgKnob_.getAttribute(this.horizontal_?"width":"height")),i=parseFloat(this.svgKnob_.getAttribute(this.horizontal_?"x":"y")),l=.95*n;t<=o?i-=l:t>=o+n&&(i+=l),this.svgKnob_.setAttribute(this.horizontal_?"x":"y",this.constrainKnob_(i)),this.onScroll_(),e.stopPropagation(),e.preventDefault()}},Blockly.Scrollbar.prototype.onMouseDownKnob_=function(e){this.onMouseUpKnob_(),Blockly.isRightButton(e)?e.stopPropagation():(this.startDragKnob=parseFloat(this.svgKnob_.getAttribute(this.horizontal_?"x":"y")),this.startDragMouse=this.horizontal_?e.clientX:e.clientY,Blockly.Scrollbar.onMouseUpWrapper_=Blockly.bindEvent_(document,"mouseup",this,this.onMouseUpKnob_),Blockly.Scrollbar.onMouseMoveWrapper_=Blockly.bindEvent_(document,"mousemove",this,this.onMouseMoveKnob_),e.stopPropagation(),e.preventDefault())},Blockly.Scrollbar.prototype.onMouseMoveKnob_=function(e){this.svgKnob_.setAttribute(this.horizontal_?"x":"y",this.constrainKnob_(this.startDragKnob+((this.horizontal_?e.clientX:e.clientY)-this.startDragMouse))),this.onScroll_()},Blockly.Scrollbar.prototype.onMouseUpKnob_=function(){Blockly.hideChaff(!0),Blockly.Scrollbar.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Scrollbar.onMouseUpWrapper_),Blockly.Scrollbar.onMouseUpWrapper_=null),Blockly.Scrollbar.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Scrollbar.onMouseMoveWrapper_),Blockly.Scrollbar.onMouseMoveWrapper_=null)},Blockly.Scrollbar.prototype.constrainKnob_=function(e){if(0>=e||isNaN(e))e=0;else{var t=this.horizontal_?"width":"height",o=parseFloat(this.svgBackground_.getAttribute(t));t=parseFloat(this.svgKnob_.getAttribute(t)),e=Math.min(e,o-t)}return e},Blockly.Scrollbar.prototype.onScroll_=function(){var e=parseFloat(this.svgKnob_.getAttribute(this.horizontal_?"x":"y")),t=parseFloat(this.svgBackground_.getAttribute(this.horizontal_?"width":"height"));e/=t,!isNaN(e)&&t||(e=0),t={},this.horizontal_?t.x=e:t.y=e,this.workspace_.setMetrics(t)},Blockly.Scrollbar.prototype.set=function(e){e=this.constrainKnob_(e*this.ratio_),this.svgKnob_.setAttribute(this.horizontal_?"x":"y",e),this.onScroll_()},Blockly.Scrollbar.insertAfter_=function(e,t){var o=t.nextSibling,n=t.parentNode;if(!n)throw"Reference node has no parent.";o?n.insertBefore(e,o):n.appendChild(e)},Blockly.Trashcan=function(e){this.workspace_=e},Blockly.Trashcan.prototype.WIDTH_=48,Blockly.Trashcan.prototype.BODY_HEIGHT_=30,Blockly.Trashcan.prototype.LID_HEIGHT_=18,Blockly.Trashcan.prototype.MARGIN_BOTTOM_=12,Blockly.Trashcan.prototype.MARGIN_SIDE_=12,Blockly.Trashcan.prototype.MARGIN_HOTSPOT_=10,Blockly.Trashcan.prototype.SPRITE_LEFT_=0,Blockly.Trashcan.prototype.SPRITE_TOP_=32,Blockly.Trashcan.prototype.isOpen=!1,Blockly.Trashcan.prototype.svgGroup_=null,Blockly.Trashcan.prototype.svgBody_=null,Blockly.Trashcan.prototype.svgLid_=null,Blockly.Trashcan.prototype.lidTask_=0,Blockly.Trashcan.prototype.lidOpen_=0,Blockly.Trashcan.prototype.left_=0,Blockly.Trashcan.prototype.top_=0,Blockly.Trashcan.prototype.createDom=function(){return this.svgGroup_=Blockly.createSvgElement("g",{class:"blocklyButtons",id:"blocklyTrashcan"},null),Blockly.createSvgElement("rect",{class:"blocklyButtonBack",x:"0",y:"0",rx:"2",ry:"2",width:"48",height:"48"},this.svgGroup_),this.svgBody_=Blockly.createSvgElement("path",{class:"blocklyButtonPath"},this.svgGroup_),this.svgBody_.setAttribute("d","M9,15l30,0l0,30l-30,0l0,-30zm5,4l3,0l0,22l-3,0l0,-22zm8,0l3,0l0,22l-3,0l0,-22zl0,0zm8,0l4,0l0,22l-4,0l0,-22z"),this.svgBody_.setAttribute("fill-rule","evenodd"),this.svgBody_.setAttribute("fill","#000"),this.svgLid_=Blockly.createSvgElement("path",{class:"blocklyButtonPath"},this.svgGroup_),this.svgLid_.setAttribute("d","M6,11l36,0m-25,0l4,-4l7,0l4,4"),this.svgLid_.setAttribute("stroke-width","3px"),this.svgLid_.setAttribute("stroke","#000"),this.svgLid_.setAttribute("stroke-linecap","round"),Blockly.bindEvent_(this.svgGroup_,"mouseup",this,this.click),this.animateLid_(),this.svgGroup_},Blockly.Trashcan.prototype.init=function(e){return this.bottom_=this.MARGIN_BOTTOM_+e,this.setOpen_(!1),this.bottom_+this.BODY_HEIGHT_+this.LID_HEIGHT_},Blockly.Trashcan.prototype.dispose=function(){this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,goog.Timer.clear(this.lidTask_)},Blockly.Trashcan.prototype.position=function(){var e=this.workspace_.getMetrics();e&&(this.workspace_.RTL?(this.left_=this.MARGIN_SIDE_,e.toolboxPosition==Blockly.TOOLBOX_AT_LEFT&&(this.left_+=e.flyoutWidth,this.workspace_.toolbox_&&(this.left_+=e.absoluteLeft))):(this.left_=e.viewWidth+e.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_,e.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT&&(this.left_-=e.flyoutWidth)),this.top_=e.viewHeight+e.absoluteTop-(this.BODY_HEIGHT_+this.LID_HEIGHT_)-this.MARGIN_BOTTOM_,e.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM&&(this.top_-=e.flyoutHeight),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))},Blockly.Trashcan.prototype.getClientRect=function(){var e=this.svgGroup_.getBoundingClientRect();return new goog.math.Rect(e.left+this.SPRITE_LEFT_-this.MARGIN_HOTSPOT_,e.top+this.SPRITE_TOP_-this.MARGIN_HOTSPOT_,this.WIDTH_+2*this.MARGIN_HOTSPOT_,this.LID_HEIGHT_+this.BODY_HEIGHT_+2*this.MARGIN_HOTSPOT_)},Blockly.Trashcan.prototype.setOpen_=function(e){this.isOpen!=e&&(goog.Timer.clear(this.lidTask_),this.isOpen=e,this.animateLid_())},Blockly.Trashcan.prototype.animateLid_=function(){this.lidOpen_+=this.isOpen?.2:-.2,this.lidOpen_=goog.math.clamp(this.lidOpen_,0,1);var e=45*this.lidOpen_;this.svgLid_.setAttribute("transform","rotate("+(this.workspace_.RTL?-e:e)+","+(this.workspace_.RTL?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")"),e=goog.math.lerp(.25,.75,this.lidOpen_),this.svgGroup_.style.opacity=e,0<this.lidOpen_&&1>this.lidOpen_&&(this.lidTask_=goog.Timer.callOnce(this.animateLid_,20,this))},Blockly.Trashcan.prototype.close=function(){this.setOpen_(!1)},Blockly.Trashcan.prototype.click=function(){var e=this.workspace_.startScrollX-this.workspace_.scrollX,t=this.workspace_.startScrollY-this.workspace_.scrollY;Math.sqrt(e*e+t*t)>Blockly.DRAG_RADIUS||console.log("TODO: Inspect trash.")},Blockly.RobControls=function(e,t){this.workspace_=e,this.zoom_=t},Blockly.RobControls.prototype.WIDTH_=198,Blockly.RobControls.prototype.HEIGHT_=48,Blockly.RobControls.prototype.MARGIN_BOTTOM_=12,Blockly.RobControls.prototype.MARGIN_SIDE_=62,Blockly.RobControls.prototype.PATH_RUNONBRICK_="M15.396 23.433c2.641-2.574 6.604-6.433 6.604-6.433s-3.963-3.859-6.604-6.433 c-.363-.349-.853-.567-1.396-.567-1.104 0-2 .896-2 2v10c0 1.104.896 2 2 2 .543 0 1.033-.218 1.396-.567z",Blockly.RobControls.prototype.PATH_RUNINSIM_="M13.998 12.002l.085.078 5.051 4.92-5.096 4.964-.038.036-.002-9.998m.002 -2.002c-1.104 0-2 .896-2 2v10c0 1.104.896 2 2 2 .543 0 1.033-.218 1.393 -.568 2.644-2.573 6.607-6.432 6.607-6.432s-3.963-3.859-6.604-6.433c-.363 -.349-.853-.567-1.396-.567z",Blockly.RobControls.prototype.PATH_SIMSTOP_="M20 10h-8c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2 -2z",Blockly.RobControls.prototype.PATH_SIMFORWARD_="M14.396 22.433c2.641-2.574 6.604-6.433 6.604-6.433s-3.963-3.859-6.604-6.433 c-.363-.349-.853-.567-1.396-.567-1.104 0-2 .896-2 2v10c0 1.104.896 2 2 2 .543 0 1.033-.218 1.396-.567z",Blockly.RobControls.prototype.PATH_SIMPAUSE_="M12 10c-1.104 0-2 .896-2 2v8c0 1.104.896 2 2 2s2-.896 2-2v-8c0-1.104-.896-2 -2-2zM19 10c-1.104 0-2 .896-2 2v8c0 1.104.896 2 2 2s2-.896 2-2v-8c0-1.104 -.896-2-2-2z",Blockly.RobControls.prototype.PATH_SIMSTEP_="M23 21.5v-10c0-1.104-0.895-2-2-2s-2 0.896-2 2v10c0 1.104 0.896 2 2 2 1.105 0 2-0.896 2-2zM12.396 22.934c2.641-2.575 6.604-6.434 6.604-6.434s-3.963 -3.859-6.604-6.433c-0.363-0.349-0.853-0.567-1.396-0.567-1.104 0-2 0.896-2 2v10c0 1.104 0.896 2 2 2 0.543 0 1.033-0.218 1.396-0.566z",Blockly.RobControls.prototype.PATH_SAVEPROGRAM_="m 7.7539062,5.453125 c -1.4182731,0 -2.5605468,1.1423469 -2.5605468,2.5605469 l 0,14.5722661 c 0,1.4182 1.1422737,2.560546 2.5605468,2.560546 l 12.0566408,0 2.160156,2.263672 2.371094,-2.371094 c 0.852066,-0.2409 1.514978,-0.903759 1.755859,-1.755859 l 1.722656,-1.722656 -1.615234,0 0,-8.587891 c -0.0062,-0.055 -0.01367,-0.100875 -0.01367,-0.171875 0,-0.9634 -1.487211,-2.351125 -2.955078,-3.9531248 -1.348421,-1.4716 -2.686172,-3.1129312 -4.015625,-3.3945312 z m 1.3125,2.1738281 8.9648438,0 c 0.602581,0 1.089844,0.4872438 1.089844,1.0898438 l 0,3.4433591 c 0,0.6026 -0.487263,1.087891 -1.089844,1.087891 l -8.9648438,0 c -0.6025808,0 -1.0878906,-0.485291 -1.0878906,-1.087891 l 0,-3.4433591 c 0,-0.6026 0.4853096,-1.0898438 1.0878906,-1.0898438 z m 6.9746098,1.296875 0,3.0781249 2.052734,0 0,-3.0781249 z m -6.2089848,7.1093749 11.1484378,0 c 0.376594,0 0.725002,0.114847 1.013672,0.310547 l -2.757813,0 0.01953,1.441406 -9.5019528,0 c -0.1504417,0 -0.2714843,0.121085 -0.2714843,0.271485 l 0,0.441406 c 0,0.1505 0.1210427,0.273437 0.2714843,0.273437 l 9.5136718,0 0.01367,1.15625 -9.4765625,0 c -0.1979406,0 -0.3574219,0.159522 -0.3574219,0.357422 l 0,0.271485 c 0,0.198 0.1594813,0.355468 0.3574219,0.355468 l 9.4902345,0 0.0078,0.648438 -2.882812,0.03516 0.943359,0.986328 -7.5312498,0 c -1.0001446,0 -1.8046874,-0.804487 -1.8046874,-1.804687 l 0,-2.939453 c 0,-1.0001 0.8045427,-1.804688 1.8046874,-1.804688 z m 10.6210938,1.482422 3.498047,0 0,4.826172 1.646484,0 -3.505859,3.505859 -3.326172,-3.486328 1.726563,-0.01953 z",Blockly.RobControls.prototype.PATH_ZOOM_="M17 8c-3.859 0-7 3.141-7 7 0 .763.127 1.495.354 2.183l-.749.75-.511.512 -1.008 1.045c-.562.557-.891 1.345-.891 2.185 0 1.727 1.404 3.131 3.13 3.131.757 0 1.504-.278 2.104-.784l.064-.055.061-.061 1.512-1.51.75-.749 c.688.226 1.421.353 2.184.353 3.859 0 7-3.141 7-7s-3.141-7-7-7zm0 12c -2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5zM17 11c-2.205 0-4 1.794-4 4s1.795 4 4 4 4-1.794 4-4-1.795-4-4-4zm0 7c-1.656 0-3-1.344-3-3s 1.344-3 3-3 3 1.344 3 3-1.344 3-3 3z",Blockly.RobControls.prototype.PATH_ZOOMIN_="M18 16h-2v-2c0-.276-.224-.5-.5-.5s-.5.224-.5.5v2h-2c-.276 0-.5.224-.5.5 s.224.5.5.5h2v2c0 .276.224.5.5.5s.5-.224.5-.5v-2h2c.276 0 .5-.224.5-.5s -.224-.5-.5-.5zM23.432 19.97l-.536-.537-.749-.75c.227-.688.354-1.42.354 -2.183 0-3.859-3.141-7-7-7s-7 3.141-7 7 3.141 7 7 7c.763 0 1.496-.127 2.184-.354l.75.749 1.512 1.51.061.061.064.055c.601.506 1.348.784 2.104.784 1.726 0 3.13-1.404 3.13-3.131 0-.84-.328-1.628-.924-2.218l-.95-.986zm -12.932-3.47c0-2.757 2.243-5 5-5s5 2.243 5 5-2.243 5-5 5-5-2.243-5-5z",Blockly.RobControls.prototype.PATH_ZOOMOUT_="M18 16h-5c-.276 0-.5.224-.5.5s.224.5.5.5h5c.276 0 .5-.224.5-.5s-.224-.5-.5 -.5zM24.381 20.956l-.949-.986-.537-.537-.749-.75c.227-.688.354-1.42.354 -2.183 0-3.859-3.14-7-7-7s-7 3.141-7 7 3.14 7 7 7c.763 0 1.496-.127 2.184 -.354l.75.749 1.512 1.51.06.061.065.055c.601.506 1.348.784 2.104.784 1.726 0 3.13-1.404 3.13-3.131 0-.84-.328-1.628-.924-2.218zm-13.881-4.456c0-2.757 2.243-5 5-5s5 2.243 5 5-2.243 5-5 5-5-2.243-5-5z",Blockly.RobControls.prototype.PATH_ZOOMRESET_="M15 10.1C15.1 9 13.3 8.7 13 9.8 12.8 10.2 13.4 11.5 12.7 11.3 11.6 10.2 10.6 9.1 9.4 8.1 8.3 7.6 7.4 9.2 8.4 9.8 9.5 10.9 10.6 12 11.7 13.1 10.9 13.2 9.7 12.8 9.1 13.7 8.6 14.9 10.1 15.2 11 15c1.3 0 2.7 0 4 0 0-1.6 0-3.3 0-4.9zm8.7 12.2c-1.1-1.1-2.2-2.2-3.3-3.3 0.8-0.1 2.1 0.3 2.5-0.7 0.3-1.2 -1.1-1.5-2-1.3-1.3 0-2.6 0-3.9 0 0 1.8 0 3.5 0 5.3 0.2 1.1 2 0.9 2-0.2 0 -0.4-0.3-2 0.5-1.2 1 1 2 2.1 3.1 3 0.9 0.6 2-0.8 1.2-1.6l0 0 0 0c0 0 0 0 0 0zM10.1 17c-1.1-0.1-1.4 1.7-0.3 2 0.4 0.3 1.7-0.3 1.5 0.3-1.1 1.1-2.3 2.2 -3.3 3.3-0.5 1.1 1.1 2 1.8 1C10.9 22.5 12 21.4 13.1 20.3 13.2 21.1 12.8 22.3 13.7 22.9 14.9 23.4 15.2 21.9 15 21 15 19.7 15 18.3 15 17 13.4 17 11.7 17 10.1 17zM22.3 8.3C21.2 9.4 20.1 10.5 19 11.6 18.9 10.7 19.3 9.5 18.3 9 17.1 8.7 16.8 10.2 17 11.1 17 12.4 17 13.7 17 15c1.8 0 3.5 0 5.3 0C23.3 14.7 23.1 13 22 13 21.6 13 20 13.2 20.9 12.5 21.9 11.5 22.9 10.5 23.9 9.5 24.4 8.6 23.1 7.5 22.3 8.3L22.3 8.3 22.3 8.3z",Blockly.RobControls.prototype.PATH_SHOWCODE_="M12.671 21.5c-.512 0-1.023-.195-1.414-.586l-4.414-4.414 4.414-4.414c.781 -.781 2.049-.781 2.828 0 .781.781.781 2.047 0 2.828l-1.585 1.586 1.585 1.586c.781.781.781 2.047 0 2.828-.39.391-.902.586-1.414.586z M20.329 21.5 c-.512 0-1.024-.195-1.414-.586-.781-.781-.781-2.047 0-2.828l1.585-1.586 -1.585-1.586c-.781-.781-.781-2.047 0-2.828.779-.781 2.047-.781 2.828 0 l4.414 4.414-4.414 4.414c-.39.391-.902.586-1.414.586z",Blockly.RobControls.prototype.svgGroup_=null,Blockly.RobControls.prototype.left_=0,Blockly.RobControls.prototype.top_=0,Blockly.RobControls.prototype.createDom=function(){var e=this.workspace_;this.simVisible_=!1;var t=this;if(this.svgGroup_=Blockly.createSvgElement("g",{class:"blocklyButtons"},null),this.saveProgram=this.createButton_(this.PATH_SAVEPROGRAM_,2,0,Blockly.Msg.MENU_SAVE),this.saveProgram.setAttribute("id","saveProgram"),this.nameLabel=this.createLabel_(1,0,"###############"),this.nameLabel.setAttribute("id","filenamedisplay"),this.zoom_){this.zoomVisible_=!1;var o=this.createButton_(this.PATH_ZOOM_,3,0,Blockly.Msg.MENU_ZOOM),n=this.createButton_(this.PATH_ZOOMIN_,3,0,Blockly.Msg.MENU_ZOOM_IN),i=this.createButton_(this.PATH_ZOOMRESET_,3,1,Blockly.Msg.MENU_ZOOM_RESET),l=this.createButton_(this.PATH_ZOOMOUT_,3,2,Blockly.Msg.MENU_ZOOM_OUT);n.setAttribute("class","robButtonHidden"),l.setAttribute("class","robButtonHidden"),i.setAttribute("class","robButtonHidden"),Blockly.bindEvent_(i,"mousedown",e,function(o){e.setScale(1),e.scrollCenter(),o.stopPropagation(),o.preventDefault(),t.showZoom(!1)}),Blockly.bindEvent_(n,"mousedown",null,function(t){e.zoomCenter(1),t.stopPropagation(),t.preventDefault()}),Blockly.bindEvent_(l,"mousedown",null,function(t){e.zoomCenter(-1),t.stopPropagation(),t.preventDefault()}),Blockly.bindEvent_(o,"mousedown",null,function(e){t.showZoom(!0),e.stopPropagation()}),this.zoominSvg=n,this.zoom=o,this.zoomoutSvg=l,this.zoomresetSvg=i}return this.svgGroup_},Blockly.RobControls.prototype.createButton_=function(e,t,o,n){return t=Blockly.createSvgElement("g",{class:"robButton",transform:"translate("+50*t+","+-50*o+")"},this.svgGroup_),o=Blockly.createSvgElement("rect",{class:"blocklyButtonBack",y:"0",rx:"2",ry:"2",width:"48",height:"48"}),o.tooltip=n,Blockly.Tooltip.bindMouseEvents(o),t.appendChild(o),e=Blockly.createSvgElement("path",{class:"blocklyButtonPath",d:e,transform:"scale(1.5)","fill-rule":"evenodd","stroke-width":"0px",fill:"#333"}),e.tooltip=n,Blockly.Tooltip.bindMouseEvents(e),t.appendChild(e),t},Blockly.RobControls.prototype.createLabel_=function(e,t,o){return e=Blockly.createSvgElement("text",{class:"label",fill:"#333","text-anchor":"end",transform:"translate("+(50*(e+1)-20)+","+(-50*t+30)+")"},this.svgGroup_),e.textContent=o,e},Blockly.RobControls.prototype.dispose=function(){this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=null},Blockly.RobControls.prototype.position=function(){var e=this.workspace_.getMetrics();e&&(this.left_=this.workspace_.RTL?this.MARGIN_SIDE_+Blockly.Scrollbar.scrollbarThickness:e.viewWidth+e.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_,this.simVisible_&&(this.left_+=159),this.top_=e.viewHeight+e.absoluteTop-this.HEIGHT_-this.MARGIN_BOTTOM_,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))},Blockly.RobControls.prototype.disable=function(e){this[e].setAttribute("class","robButton disabled")},Blockly.RobControls.prototype.enable=function(e){this[e].setAttribute("class","robButton")},Blockly.RobControls.prototype.showZoom=function(e){this.zoom_&&this.zoomVisible_!==e&&(e?(this.zoom.setAttribute("class","robButtonHidden"),this.zoominSvg.setAttribute("class","robButton"),this.zoomoutSvg.setAttribute("class","robButton"),this.zoomresetSvg.setAttribute("class","robButton")):(this.zoom.setAttribute("class","robButton"),this.zoominSvg.setAttribute("class","robButtonHidden"),this.zoomoutSvg.setAttribute("class","robButtonHidden"),this.zoomresetSvg.setAttribute("class","robButtonHidden")),this.zoomVisible_=e)},Blockly.RobControls.prototype.toogleSim=function(){this.simVisible_?(this.runInSim.setAttribute("class","robButton runInSim"),this.simStop.setAttribute("class","robButtonHidden"),this.simVisible_=!1):(this.runInSim.setAttribute("class","robButtonHidden "),this.simStop.setAttribute("class","robButton simStop"),this.simVisible_=!0)},Blockly.RobControls.prototype.setSimForward=function(e){this.simForwardVisible_!==e&&(this.simForwardVisible_=e)},Blockly.RobControls.prototype.setSimStart=function(e){this.simStartVisible_!==e&&(e?(this.runInSim.setAttribute("class","robButton runInSim"),this.simStop.setAttribute("class","robButtonHidden"),this.simStartVisible_=!0):(this.runInSim.setAttribute("class","robButtonHidden"),this.simStop.setAttribute("class","robButton simStop"),this.simStartVisible_=!1))},Blockly.RobControls.prototype.dispose=function(){this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=null},Blockly.Xml={},Blockly.Xml.workspaceToDom=function(e){for(var t,o=goog.dom.createDom("block_set"),n=e.getTopBlocks(!0),i=0;t=n[i];i++){var l=goog.dom.createDom("instance");Blockly.Xml.appendlistToDom(l,t),t=t.getRelativeToSurfaceXY(),l.setAttribute("x",Math.round(e.RTL?width-t.x:t.x)),l.setAttribute("y",Math.round(t.y)),o.appendChild(l)}return o.setAttribute("xmlversion",e.version),o},Blockly.Xml.blockToDomWithXY=function(e,t){var o;e.workspace.RTL&&(o=e.workspace.getWidth());var n=Blockly.Xml.blockToDom(e,t),i=e.getRelativeToSurfaceXY();return n.setAttribute("x",Math.round(e.workspace.RTL?o-i.x:i.x)),n.setAttribute("y",Math.round(i.y)),n},Blockly.Xml.blockToDom=function(e,t){var o=goog.dom.createDom(e.isShadow()?"shadow":"block"),n=goog.dom.createDom("repetitions"),i=!1;if(t.push(o),o.setAttribute("type",e.type),o.setAttribute("id",e.id),e.mutationToDom){var l=e.mutationToDom();l&&(l.hasChildNodes()||l.hasAttributes())&&(o.appendChild(l),void 0!==l&&null!=l&&"unityControls_wait_for"==e.type&&(o.appendChild(n),i=!0))}l=0;for(var s;s=e.inputList[l];l++)for(var r,a=0;r=s.fieldRow[a];a++)if(r.name&&r.EDITABLE){var c=r.getValue(),g=r.getValue().replace(/,/g,".");isNaN(g)||(c=String(g)),c=goog.dom.createDom("field",null,c),c.setAttribute("name",r.name),o.appendChild(c)}for(e.mutationToDom&&(l=e.mutationToDom())&&void 0!==l&&null!=l&&"robProcedures_defreturn"==e.type&&(o.appendChild(n),i=!0),(l=e.getCommentText())&&(l=goog.dom.createDom("comment",null,l),"object"==typeof e.comment&&(l.setAttribute("pinned",e.comment.isVisible()),s=e.comment.getBubbleSize(),l.setAttribute("h",s.height),l.setAttribute("w",s.width)),o.appendChild(l)),e.data&&(l=goog.dom.createDom("data",null,e.data),o.appendChild(l)),l=0;s=e.inputList[l];l++){var u;r=!0,s.type!=Blockly.DUMMY_INPUT&&(c=s.connection.targetBlock(),s.type==Blockly.INPUT_VALUE?u=goog.dom.createDom("value"):s.type==Blockly.NEXT_STATEMENT&&(u=goog.dom.createDom("statement")),a=s.connection.getShadowDom(),!a||c&&c.isShadow()||u.appendChild(Blockly.Xml.cloneShadow_(a)),c&&(Blockly.Xml.appendlistToDom(u,c),r=!1),u.setAttribute("name",s.name),r||(i?n.appendChild(u):o.appendChild(u)))}return e.inputsInlineDefault!=e.inputsInline&&o.setAttribute("inline",e.inputsInline),e.isCollapsed()&&o.setAttribute("collapsed",!0),e.disabled&&o.setAttribute("disabled",!0),e.inTask?o.setAttribute("intask",!0):o.setAttribute("intask",!1),e.isDeletable()||e.isShadow()||o.setAttribute("deletable",!1),e.isMovable()||e.isShadow()||o.setAttribute("movable",!1),e.isEditable()||o.setAttribute("editable",!1),(n=e.getNextBlock())&&Blockly.Xml.blockToDom(n,t),a=e.nextConnection&&e.nextConnection.getShadowDom(),!a||n&&n.isShadow()||u.appendChild(Blockly.Xml.cloneShadow_(a)),o},Blockly.Xml.appendlistToDom=function(e,t){var o=[];Blockly.Xml.blockToDom(t,o);for(var n=0;n<o.length;n++)e.appendChild(o[n])},Blockly.Xml.cloneShadow_=function(e){for(var t,o=e=e.cloneNode(!0);o;)if(o.firstChild)o=o.firstChild;else{for(;o&&!o.nextSibling;)t=o,o=o.parentNode,3==t.nodeType&&""==t.data.trim()&&o.firstChild!=t&&goog.dom.removeNode(t);o&&(t=o,o=o.nextSibling,3==t.nodeType&&""==t.data.trim()&&goog.dom.removeNode(t))}return e},Blockly.Xml.domToText=function(e){return e=(new XMLSerializer).serializeToString(e),e=e.replace(' xmlns="http://www.w3.org/1999/xhtml"',"")},Blockly.Xml.domToPrettyText=function(e){e=Blockly.Xml.domToText(e).split("<");for(var t="",o=1;o<e.length;o++){var n=e[o];"/"==n[0]&&(t=t.substring(2)),e[o]=t+"<"+n,"/"!=n[0]&&"/>"!=n.slice(-2)&&(t+="  ")}return e=e.join("\n"),e=e.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),e.replace(/^\n/,"")},Blockly.Xml.textToDom=function(e){if(e=(new DOMParser).parseFromString(e,"text/xml"),!e||!e.firstChild||"block_set"!=e.firstChild.nodeName.toLowerCase()&&"toolbox_set"!=e.firstChild.nodeName.toLowerCase()||e.firstChild!==e.lastChild)throw"Blockly.Xml.textToDom did not obtain a valid XML tree.";return e.firstChild},Blockly.Xml.domToWorkspace=function(e,t){if(e instanceof Blockly.Workspace){var o=e;e=t,t=o,console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}o=[];var n,i=[];t.RTL&&(n=t.getWidth()),Blockly.Field.startCache();var l=e.childNodes.length,s=Blockly.Events.getGroup();s||Blockly.Events.setGroup(!0);for(var r=0;r<l;r++){var a=e.childNodes[r];if("instance"==a.nodeName.toLowerCase()){var c=[],g=parseInt(a.getAttribute("x"),10),u=parseInt(a.getAttribute("y"),10);if(i.push({x:g,y:u}),a.childNodes)for(g=0;g<a.childNodes.length;g++)u=a.childNodes[g].nodeName.toLowerCase(),"block"!=u&&"shadow"!=u||c.push(a.childNodes[g]);o.push(c)}}for(r=0;r<o.length;r++)if(-1!==o[r][0].getAttribute("type").indexOf("Controls_start")){o[r]=o.splice(0,1,o[r])[0],i[r]=i.splice(0,1,i[r])[0];break}for(r=0;r<o.length;r++)l=Blockly.Xml.domToBlock(o[r],t),isNaN(i[r].x)||isNaN(i[r].y)||l.moveBy(Blockly.RTL?n-i[r].x:i[r].x,i[r].y);s||Blockly.Events.setGroup(!1),Blockly.Field.stopCache()},Blockly.Xml.domToBlock=function(e,t){if(e instanceof Blockly.Workspace){var o=e;e=t,t=o,console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}Blockly.Events.disable();var n=Blockly.Xml.domToBlockHeadless_(e,t);if(t.rendered){n.setConnectionsHidden(!0),o=n.getDescendants();for(var i=o.length-1;0<=i;i--)o[i].initSvg();for(i=o.length-1;0<=i;i--)o[i].render(!1);setTimeout(function(){n.workspace&&n.setConnectionsHidden(!1)},1),n.updateDisabled(),Blockly.asyncSvgResize(t)}return Blockly.Events.enable(),Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Create(n)),n},Blockly.Xml.domToBlockHeadless_=function(e,t){var o=e.constructor===Array?e[0]:e,n=o.getAttribute("type");if(!n)throw"Block type unspecified: \n"+o.outerHTML;var i=o.getAttribute("id");n=t.newBlock(n,i),i=0;for(var l;l=o.childNodes[i];i++)if(3!=l.nodeType)if("repetitions"!=l.nodeName)Blockly.Xml.childToBlock(t,n,l);else for(var s,r=0;s=l.childNodes[r];r++)3!=s.nodeType&&Blockly.Xml.childToBlock(t,n,s);if((i=o.getAttribute("inline"))&&n.setInputsInline("true"==i),(i=o.getAttribute("disabled"))&&n.setDisabled("true"==i),(i=o.getAttribute("intask"))&&n.setInTask("true"==i),(i=o.getAttribute("deletable"))&&n.setDeletable("true"==i),(i=o.getAttribute("movable"))&&n.setMovable("true"==i),(i=o.getAttribute("editable"))&&n.setEditable("true"==i),(i=o.getAttribute("collapsed"))&&n.setCollapsed("true"==i),"shadow"==o.nodeName.toLowerCase()&&n.setShadow(!0),n.validate&&n.validate(),e.constructor===Array&&(o=e.slice(1,e.length),0!=o.length)){if(!n.nextConnection)throw"Next statement does not exist.";if(n.nextConnection.targetConnection)throw"Next statement is already connected.";if(o=Blockly.Xml.domToBlockHeadless_(o,t),!o.previousConnection)throw"Next block does not have previous statement.";n.nextConnection.connect(o.previousConnection)}return n},Blockly.Xml.childToBlock=function(e,t,o){var n=null,i=null,l=null;l=[];for(var s,r=0;s=o.childNodes[r];r++)1==s.nodeType&&l.push(s);for(r=0;r<l.length;r++)0<l.length&&("block"==l[r].nodeName.toLowerCase()?n=l[r]:"shadow"==l[r].nodeName.toLowerCase()&&(i=l[r]));switch(!n&&i&&(n=i),r=o.getAttribute("name"),o.nodeName.toLowerCase()){case"mutation":t.domToMutation&&(t.domToMutation(o),t.initSvg&&t.initSvg());break;case"comment":t.setCommentText(o.textContent);var a=o.getAttribute("pinned");a&&setTimeout(function(){t.comment&&t.comment.setVisible&&t.comment.setVisible("true"==a)},1),e=parseInt(o.getAttribute("w"),10),o=parseInt(o.getAttribute("h"),10),!isNaN(e)&&!isNaN(o)&&t.comment&&t.comment.setVisible&&t.comment.setBubbleSize(e,o);break;case"warning":t.setWarningText(Blockly.Msg[o.textContent]),(a=o.getAttribute("pinned"))&&setTimeout(function(){t.warning&&t.warning.setVisible&&t.warning.setVisible("true"==a)},1),e=parseInt(o.getAttribute("w"),10),o=parseInt(o.getAttribute("h"),10),!isNaN(e)&&!isNaN(o)&&t.warning&&t.warning.isVisible()&&t.warning.bubble_.setBubbleSize(e,o);break;case"error":t.setErrorText(Blockly.Msg[o.textContent]),(a=o.getAttribute("pinned"))&&setTimeout(function(){t.error&&t.error.setVisible&&t.error.setVisible("true"==a)},10),e=parseInt(o.getAttribute("w"),10),o=parseInt(o.getAttribute("h"),10),!isNaN(e)&&!isNaN(o)&&t.error&&t.error.isVisible()&&t.error.bubble_.setBubbleSize(e,o);break;case"data":t.data=o.textContent;break;case"title":case"field":if(e=t.getField(r),!e){console.warn("Ignoring non-existent field "+r+" in block "+t.type);break}e.setValue(o.textContent);break;case"value":case"statement":if(o=t.getInput(r),!o){t.migrateMissingInput?n&&(l=i?Blockly.Xml.domToBlockHeadless_(n,e):Blockly.Xml.domToBlockHeadless_(l,e),t.migrateMissingInput(r,l),l.dispose()):console.warn("Ignoring non-existent input "+r+" in block "+t.type);break}if(i&&o.connection.setShadowDom(i),n)if(l=i?Blockly.Xml.domToBlockHeadless_(n,e):Blockly.Xml.domToBlockHeadless_(l,e),
l.outputConnection)o.connection.connect(l.outputConnection);else{if(!l.previousConnection)throw"Child block does not have output or previous statement.";o.connection.connect(l.previousConnection)}break;case"next":if(i&&t.nextConnection&&t.nextConnection.setShadowDom(i),n){if(!t.nextConnection)throw"Next statement does not exist.";if(t.nextConnection.targetConnection)throw"Next statement is already connected.";if(l=Blockly.Xml.domToBlockHeadless_(n,e),!l.previousConnection)throw"Next block does not have previous statement.";t.nextConnection.connect(l.previousConnection)}break;case"repetitions":break;default:console.warn("Ignoring unknown tag: "+o.nodeName)}},Blockly.Xml.deleteNext=function(e){for(var t,o=0;t=e.childNodes[o];o++)if("next"==t.nodeName.toLowerCase()){e.removeChild(t);break}},goog.global.Blockly||(goog.global.Blockly={}),goog.global.Blockly.Xml||(goog.global.Blockly.Xml={}),goog.global.Blockly.Xml.domToText=Blockly.Xml.domToText,goog.global.Blockly.Xml.domToWorkspace=Blockly.Xml.domToWorkspace,goog.global.Blockly.Xml.textToDom=Blockly.Xml.textToDom,goog.global.Blockly.Xml.workspaceToDom=Blockly.Xml.workspaceToDom,Blockly.ZoomControls=function(e){this.workspace_=e},Blockly.ZoomControls.prototype.WIDTH_=32,Blockly.ZoomControls.prototype.HEIGHT_=110,Blockly.ZoomControls.prototype.MARGIN_BOTTOM_=20,Blockly.ZoomControls.prototype.MARGIN_SIDE_=20,Blockly.ZoomControls.prototype.svgGroup_=null,Blockly.ZoomControls.prototype.left_=0,Blockly.ZoomControls.prototype.top_=0,Blockly.ZoomControls.prototype.createDom=function(){var e=this.workspace_;this.svgGroup_=Blockly.createSvgElement("g",{class:"blocklyZoom"},null);var t=String(Math.random()).substring(2),o=Blockly.createSvgElement("clipPath",{id:"blocklyZoomoutClipPath"+t},this.svgGroup_);Blockly.createSvgElement("rect",{width:32,height:32,y:77},o);var n=Blockly.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,x:-64,y:-15,"clip-path":"url(#blocklyZoomoutClipPath"+t+")"},this.svgGroup_);n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.options.pathToMedia+Blockly.SPRITE.url),o=Blockly.createSvgElement("clipPath",{id:"blocklyZoominClipPath"+t},this.svgGroup_),Blockly.createSvgElement("rect",{width:32,height:32,y:43},o);var i=Blockly.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,x:-32,y:-49,"clip-path":"url(#blocklyZoominClipPath"+t+")"},this.svgGroup_);return i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.options.pathToMedia+Blockly.SPRITE.url),o=Blockly.createSvgElement("clipPath",{id:"blocklyZoomresetClipPath"+t},this.svgGroup_),Blockly.createSvgElement("rect",{width:32,height:32},o),t=Blockly.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+t+")"},this.svgGroup_),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.options.pathToMedia+Blockly.SPRITE.url),Blockly.bindEvent_(t,"mousedown",null,function(t){e.setScale(1),e.scrollCenter(),t.stopPropagation(),t.preventDefault()}),Blockly.bindEvent_(i,"mousedown",null,function(t){e.zoomCenter(1),t.stopPropagation(),t.preventDefault()}),Blockly.bindEvent_(n,"mousedown",null,function(t){e.zoomCenter(-1),t.stopPropagation(),t.preventDefault()}),this.svgGroup_},Blockly.ZoomControls.prototype.init=function(e){return this.bottom_=this.MARGIN_BOTTOM_+e,this.bottom_+this.HEIGHT_},Blockly.ZoomControls.prototype.dispose=function(){this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=null},Blockly.ZoomControls.prototype.position=function(){var e=this.workspace_.getMetrics();e&&(this.workspace_.RTL?(this.left_=this.MARGIN_SIDE_+Blockly.Scrollbar.scrollbarThickness,e.toolboxPosition==Blockly.TOOLBOX_AT_LEFT&&(this.left_+=e.flyoutWidth,this.workspace_.toolbox_&&(this.left_+=e.absoluteLeft))):(this.left_=e.viewWidth+e.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-Blockly.Scrollbar.scrollbarThickness,e.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT&&(this.left_-=e.flyoutWidth)),this.top_=e.viewHeight+e.absoluteTop-this.HEIGHT_-this.bottom_,e.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM&&(this.top_-=e.flyoutHeight),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))},Blockly.WorkspaceSvg=function(e){Blockly.WorkspaceSvg.superClass_.constructor.call(this,e),this.getMetrics=e.getMetrics,this.setMetrics=e.setMetrics,Blockly.ConnectionDB.init(this),this.SOUNDS_=Object.create(null)},goog.inherits(Blockly.WorkspaceSvg,Blockly.Workspace),Blockly.WorkspaceSvg.prototype.rendered=!0,Blockly.WorkspaceSvg.prototype.isFlyout=!1,Blockly.WorkspaceSvg.prototype.isScrolling=!1,Blockly.WorkspaceSvg.prototype.scrollX=0,Blockly.WorkspaceSvg.prototype.scrollY=0,Blockly.WorkspaceSvg.prototype.startScrollX=0,Blockly.WorkspaceSvg.prototype.startScrollY=0,Blockly.WorkspaceSvg.prototype.dragDeltaXY_=null,Blockly.WorkspaceSvg.prototype.scale=1,Blockly.WorkspaceSvg.prototype.trashcan=null,Blockly.WorkspaceSvg.prototype.scrollbar=null,Blockly.WorkspaceSvg.prototype.createDom=function(e){this.svgGroup_=Blockly.createSvgElement("g",{class:"blocklyWorkspace"},null),e&&(this.svgBackground_=Blockly.createSvgElement("rect",{height:"100%",width:"100%",class:e},this.svgGroup_),"blocklyMainBackground"==e&&(this.svgBackground_.style.fill="url(#"+this.options.gridPattern.id+")")),this.svgBlockCanvas_=Blockly.createSvgElement("g",{class:"blocklyBlockCanvas"},this.svgGroup_,this),this.svgBubbleCanvas_=Blockly.createSvgElement("g",{class:"blocklyBubbleCanvas"},this.svgGroup_,this),e=Blockly.Scrollbar.scrollbarThickness,this.options.hasTrashcan&&(e=this.addTrashcan_(e)),this.options.robControls&&this.options.zoomOptions&&this.options.zoomOptions.controls?this.addRobControls_(this.options.zoomOptions.controls):this.options.zoomOptions&&this.options.zoomOptions.controls&&(e=this.addZoomControls_(e)),Blockly.bindEvent_(this.svgGroup_,"mousedown",this,this.onMouseDown_);var t=this;return Blockly.bindEvent_(this.svgGroup_,"touchstart",null,function(e){Blockly.longStart_(e,t)}),this.options.zoomOptions&&this.options.zoomOptions.wheel&&Blockly.bindEvent_(this.svgGroup_,"wheel",this,this.onMouseWheel_),this.options.hasCategories?this.toolbox_=new Blockly.Toolbox(this):this.options.languageTree&&this.addFlyout_(),this.updateGridPattern_(),this.svgGroup_},Blockly.WorkspaceSvg.prototype.dispose=function(){this.rendered=!1,Blockly.WorkspaceSvg.superClass_.dispose.call(this),this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.robControls&&(this.robControls.dispose(),this.robControls=null),this.options.parentWorkspace||goog.dom.removeNode(this.getParentSvg())},Blockly.WorkspaceSvg.prototype.newBlock=function(e,t){return new Blockly.BlockSvg(this,e,t)},Blockly.WorkspaceSvg.prototype.addTrashcan_=function(e){this.trashcan=new Blockly.Trashcan(this);var t=this.trashcan.createDom();return this.svgGroup_.insertBefore(t,this.svgBlockCanvas_),this.trashcan.init(e)},Blockly.WorkspaceSvg.prototype.addZoomControls_=function(e){this.zoomControls_=new Blockly.ZoomControls(this);var t=this.zoomControls_.createDom();return this.svgGroup_.appendChild(t),this.zoomControls_.init(e)},Blockly.WorkspaceSvg.prototype.addRobControls_=function(e){this.robControls=new Blockly.RobControls(this,e),e=this.robControls.createDom(),this.svgGroup_.appendChild(e)},Blockly.WorkspaceSvg.prototype.addFlyout_=function(){this.flyout_=new Blockly.Flyout({disabledPatternId:this.options.disabledPatternId,parentWorkspace:this,RTL:this.RTL,horizontalLayout:this.horizontalLayout,toolboxPosition:this.options.toolboxPosition,variableDeclaration:this.variableDeclaration}),this.flyout_.autoClose=!1;var e=this.flyout_.createDom();this.svgGroup_.insertBefore(e,this.svgBlockCanvas_)},Blockly.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position(),this.trashcan&&this.trashcan.position(),this.robControls?this.robControls.position():this.zoomControls_&&this.zoomControls_.position(),this.scrollbar&&this.scrollbar.resize()},Blockly.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},Blockly.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},Blockly.WorkspaceSvg.prototype.getParentSvg=function(){if(this.cachedParentSvg_)return this.cachedParentSvg_;for(var e=this.svgGroup_;e;){if("svg"==e.tagName)return this.cachedParentSvg_=e;e=e.parentNode}return null},Blockly.WorkspaceSvg.prototype.translate=function(e,t){var o="translate("+e+","+t+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",o),this.svgBubbleCanvas_.setAttribute("transform",o)},Blockly.WorkspaceSvg.prototype.getWidth=function(){var e=this.getMetrics();return e?e.viewWidth/this.scale:0},Blockly.WorkspaceSvg.prototype.setVisible=function(e){this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&(this.toolbox_.HtmlDiv.style.display=e?"block":"none"),e?(this.render(),this.toolbox_&&this.toolbox_.position()):Blockly.hideChaff(!0)},Blockly.WorkspaceSvg.prototype.render=function(){for(var e=this.getAllBlocks(),t=e.length-1;0<=t;t--)e[t].render(!1)},Blockly.WorkspaceSvg.prototype.traceOn=function(e){this.traceOn_=e,this.traceWrapper_&&(Blockly.unbindEvent_(this.traceWrapper_),this.traceWrapper_=null),e&&(this.traceWrapper_=Blockly.bindEvent_(this.svgBlockCanvas_,"blocklySelectChange",this,function(){this.traceOn_=!1}))},Blockly.WorkspaceSvg.prototype.highlightBlock=function(e){if(this.traceOn_&&Blockly.dragMode_!=Blockly.DRAG_NONE&&this.traceOn(!1),this.traceOn_){var t=null;if(e&&(t=this.getBlockById(e),!t))return;this.traceOn(!1),t?t.select():Blockly.selected&&Blockly.selected.unselect();var o=this;setTimeout(function(){o.traceOn(!0)},1)}},Blockly.WorkspaceSvg.prototype.paste=function(e){if(this.rendered&&!(e.getElementsByTagName("block").length>=this.remainingCapacity())){Blockly.terminateDrag_(),Blockly.Events.disable();var t=Blockly.Xml.domToBlock(e,this),o=parseInt(e.getAttribute("x"),10);if(e=parseInt(e.getAttribute("y"),10),!isNaN(o)&&!isNaN(e)){this.RTL&&(o=-o);do{for(var n,i=!1,l=this.getAllBlocks(),s=0;n=l[s];s++)if(n=n.getRelativeToSurfaceXY(),1>=Math.abs(o-n.x)&&1>=Math.abs(e-n.y)){i=!0;break}if(!i)for(l=t.getConnections_(!1),s=0;n=l[s];s++)if(n.closest(Blockly.SNAP_RADIUS,new goog.math.Coordinate(o,e)).connection){i=!0;break}i&&(o=this.RTL?o-Blockly.SNAP_RADIUS:o+Blockly.SNAP_RADIUS,e+=2*Blockly.SNAP_RADIUS)}while(i);t.moveBy(o,e)}Blockly.Events.enable(),Blockly.Events.isEnabled()&&!t.isShadow()&&Blockly.Events.fire(new Blockly.Events.Create(t)),t.select()}},Blockly.WorkspaceSvg.prototype.recordDeleteAreas=function(){this.deleteAreaTrash_=this.trashcan?this.trashcan.getClientRect():null,this.deleteAreaToolbox_=this.flyout_?this.flyout_.getClientRect():this.toolbox_?this.toolbox_.getClientRect():null},Blockly.WorkspaceSvg.prototype.isDeleteArea=function(e){if(e=new goog.math.Coordinate(e.clientX,e.clientY),this.deleteAreaTrash_){if(this.deleteAreaTrash_.contains(e))return this.trashcan.setOpen_(!0),Blockly.Css.setCursor(Blockly.Css.Cursor.DELETE),!0;this.trashcan.setOpen_(!1)}return this.deleteAreaToolbox_&&this.deleteAreaToolbox_.contains(e)?(Blockly.Css.setCursor(Blockly.Css.Cursor.DELETE),!0):(Blockly.Css.setCursor(Blockly.Css.Cursor.CLOSED),!1)},Blockly.WorkspaceSvg.prototype.onMouseDown_=function(e){if(this.robControls&&this.robControls.showZoom&&this.robControls.showZoom(!1),this.markFocused(),!Blockly.isTargetInput_(e)){if(Blockly.svgResize(this),Blockly.terminateDrag_(),Blockly.hideChaff(),e.target&&e.target.nodeName&&("svg"==e.target.nodeName.toLowerCase()||e.target==this.svgBackground_)&&Blockly.selected&&!this.options.readOnly&&Blockly.selected.unselect(),Blockly.isRightButton(e))this.showContextMenu_(e);else{for(var t=this.getAllBlocks(),o=0;o<t.length;o++)for(var n=t[o].getIcons(),i=0;i<n.length;i++)if(n[i].bubble_){var l=n[i].block_;n[i].block_.error?(l.error.dispose(),l.render()):n[i].block_.warning?(l.warning.dispose(),l.render()):n[i].setVisible(!1)}this.scrollbar&&(this.isScrolling=!0,this.startDragMouseX=e.clientX,this.startDragMouseY=e.clientY,this.startDragMetrics=this.getMetrics(),this.startScrollX=this.scrollX,this.startScrollY=this.scrollY,"mouseup"in Blockly.bindEvent_.TOUCH_MAP&&(Blockly.onTouchUpWrapper_=Blockly.onTouchUpWrapper_||[],Blockly.onTouchUpWrapper_=Blockly.onTouchUpWrapper_.concat(Blockly.bindEvent_(document,"mouseup",null,Blockly.onMouseUp_))),Blockly.onMouseMoveWrapper_=Blockly.onMouseMoveWrapper_||[],Blockly.onMouseMoveWrapper_=Blockly.onMouseMoveWrapper_.concat(Blockly.bindEvent_(document,"mousemove",null,Blockly.onMouseMove_)))}e.stopPropagation(),e.preventDefault()}},Blockly.WorkspaceSvg.prototype.startDrag=function(e,t){var o=Blockly.mouseToSvg(e,this.getParentSvg());o.x/=this.scale,o.y/=this.scale,this.dragDeltaXY_=goog.math.Coordinate.difference(t,o)},Blockly.WorkspaceSvg.prototype.moveDrag=function(e){return e=Blockly.mouseToSvg(e,this.getParentSvg()),e.x/=this.scale,e.y/=this.scale,goog.math.Coordinate.sum(this.dragDeltaXY_,e)},Blockly.WorkspaceSvg.prototype.onMouseWheel_=function(e){Blockly.terminateDrag_();var t=0<e.deltaY?-1:1,o=Blockly.mouseToSvg(e,this.getParentSvg());this.zoom(o.x,o.y,t),e.preventDefault()},Blockly.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var e=this.getTopBlocks();if(!e.length)return{x:0,y:0,width:0,height:0};for(var t=e[0].getBoundingRectangle(),o=1;o<e.length;o++){var n=e[o].getBoundingRectangle();n.topLeft.x<t.topLeft.x&&(t.topLeft.x=n.topLeft.x),n.bottomRight.x>t.bottomRight.x&&(t.bottomRight.x=n.bottomRight.x),n.topLeft.y<t.topLeft.y&&(t.topLeft.y=n.topLeft.y),n.bottomRight.y>t.bottomRight.y&&(t.bottomRight.y=n.bottomRight.y)}return{x:t.topLeft.x,y:t.topLeft.y,width:t.bottomRight.x-t.topLeft.x,height:t.bottomRight.y-t.topLeft.y}},Blockly.WorkspaceSvg.prototype.cleanUp_=function(){Blockly.Events.setGroup(!0);for(var e,t=this.getTopBlocks(!0),o=0,n=0;e=t[n];n++){var i=e.getRelativeToSurfaceXY();e.moveBy(-i.x,o-i.y),e.snapToGrid(),o=e.getRelativeToSurfaceXY().y+e.getHeightWidth().height+Blockly.BlockSvg.MIN_BLOCK_Y}Blockly.Events.setGroup(!1),Blockly.asyncSvgResize(this)},Blockly.WorkspaceSvg.prototype.showContextMenu_=function(e){function t(e){if(e.isDeletable())u=u.concat(e.getDescendants());else{e=e.getChildren();for(var o=0;o<e.length;o++)t(e[o])}}function o(){Blockly.Events.setGroup(l);var e=u.shift();e&&(e.workspace?(e.dispose(!1,!0),setTimeout(o,10)):o()),Blockly.Events.setGroup(!1)}if(!this.options.readOnly&&!this.isFlyout){var n=[],i=this.getTopBlocks(!0),l=Blockly.genUid(),s={};if(s.text=Blockly.Msg.UNDO,s.enabled=0<this.undoStack_.length,s.callback=this.undo.bind(this,!1),n.push(s),s={},s.text=Blockly.Msg.REDO,s.enabled=0<this.redoStack_.length,s.callback=this.undo.bind(this,!0),n.push(s),this.scrollbar&&(s={},s.text=Blockly.Msg.CLEAN_UP,s.enabled=1<i.length,s.callback=this.cleanUp_.bind(this),n.push(s)),this.options.collapse){for(var r=s=!1,a=0;a<i.length;a++)for(var c=i[a];c;)c.isCollapsed()?s=!0:r=!0,c=c.getNextBlock();var g=function(e){for(var t=0,o=0;o<i.length;o++)for(var n=i[o];n;)setTimeout(n.setCollapsed.bind(n,e),t),n=n.getNextBlock(),t+=10};r={enabled:r},r.text=Blockly.Msg.COLLAPSE_ALL,r.callback=function(){g(!0)},n.push(r),s={enabled:s},s.text=Blockly.Msg.EXPAND_ALL,s.callback=function(){g(!1)},n.push(s)}var u=[];for(a=0;a<i.length;a++)t(i[a]);s={text:1==u.length?Blockly.Msg.DELETE_BLOCK:Blockly.Msg.DELETE_X_BLOCKS.replace("%1",String(u.length)),enabled:0<u.length,callback:function(){(2>u.length||window.confirm(Blockly.Msg.DELETE_ALL_BLOCKS.replace("%1",String(u.length))))&&o()}},n.push(s),Blockly.ContextMenu.show(e,n,this.RTL)}},Blockly.WorkspaceSvg.prototype.loadAudio_=function(e,t){if(e.length){try{var o=new window.Audio}catch(e){return}for(var n,i=0;i<e.length;i++){var l=e[i],s=l.match(/\.(\w+)$/);if(s&&o.canPlayType("audio/"+s[1])){n=new window.Audio(l);break}}n&&n.play&&(this.SOUNDS_[t]=n)}},Blockly.WorkspaceSvg.prototype.preloadAudio_=function(){for(var e in this.SOUNDS_){var t=this.SOUNDS_[e];if(t.volume=.01,t.play(),t.pause(),goog.userAgent.IPAD||goog.userAgent.IPHONE)break}},Blockly.WorkspaceSvg.prototype.playAudio=function(e,t){var o=this.SOUNDS_[e];o?(o=goog.userAgent.DOCUMENT_MODE&&9===goog.userAgent.DOCUMENT_MODE||goog.userAgent.IPAD||goog.userAgent.ANDROID?o:o.cloneNode(),o.volume=void 0===t?1:t,o.play()):this.options.parentWorkspace&&this.options.parentWorkspace.playAudio(e,t)},Blockly.WorkspaceSvg.prototype.updateToolbox=function(e){if(e=Blockly.Options.parseToolboxTree(e)){if(!this.options.languageTree)throw"Existing toolbox is null.  Can't create new toolbox.";if(e.getElementsByTagName("category").length){if(!this.toolbox_)throw"Existing toolbox has no categories.  Can't change mode.";this.options.languageTree=e,this.toolbox_.populate_(e),this.toolbox_.addColour_()}else{if(!this.flyout_)throw"Existing toolbox has categories.  Can't change mode.";this.options.languageTree=e,this.flyout_.show(e.childNodes)}}else if(this.options.languageTree)throw"Can't nullify an existing toolbox."},Blockly.WorkspaceSvg.prototype.updateRobControls=function(){this.robControls&&(this.robControls.dispose(),this.options.robControls&&this.options.zoomOptions&&this.options.zoomOptions.controls&&this.addRobControls_(this.options.zoomOptions.controls))},Blockly.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():Blockly.mainWorkspace=this},Blockly.WorkspaceSvg.prototype.zoom=function(e,t,o){var n=this.options.zoomOptions.scaleSpeed,i=this.getMetrics(),l=this.getParentSvg().createSVGPoint();l.x=e,l.y=t,l=l.matrixTransform(this.getCanvas().getCTM().inverse()),e=l.x,t=l.y,l=this.getCanvas(),n=1==o?n:1/n,o=this.scale*n,o>this.options.zoomOptions.maxScale?n=this.options.zoomOptions.maxScale/this.scale:o<this.options.zoomOptions.minScale&&(n=this.options.zoomOptions.minScale/this.scale),this.scale!=o&&(this.scrollbar&&(e=l.getCTM().translate(e*(1-n),t*(1-n)).scale(n),this.scrollX=e.e-i.absoluteLeft,this.scrollY=e.f-i.absoluteTop),this.setScale(o))},Blockly.WorkspaceSvg.prototype.zoomCenter=function(e){var t=this.getMetrics();this.zoom(t.viewWidth/2,t.viewHeight/2,e)},Blockly.WorkspaceSvg.prototype.zoomToFit=function(){var e=this.getMetrics(),t=this.getBlocksBoundingBox(),o=t.width;if(t=t.height,o){var n=e.viewWidth,i=e.viewHeight;this.flyout_&&(n-=this.flyout_.width_),this.scrollbar||(o+=e.contentLeft,t+=e.contentTop),this.setScale(Math.min(n/o,i/t)),this.scrollCenter()}},Blockly.WorkspaceSvg.prototype.scrollCenter=function(){if(this.scrollbar){var e=this.getMetrics(),t=(e.contentWidth-e.viewWidth)/2;this.flyout_&&(t-=this.flyout_.width_/2),this.scrollbar.set(t,(e.contentHeight-e.viewHeight)/2)}},Blockly.WorkspaceSvg.prototype.setScale=function(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.updateGridPattern_(),this.scrollbar?this.scrollbar.resize():this.translate(this.scrollX,this.scrollY),Blockly.hideChaff(!1),this.flyout_&&this.flyout_.reflow()},Blockly.WorkspaceSvg.prototype.updateGridPattern_=function(){if(this.options.gridPattern){var e=this.options.gridOptions.spacing*this.scale||100;this.options.gridPattern.setAttribute("width",e),this.options.gridPattern.setAttribute("height",e),e=Math.floor(this.options.gridOptions.spacing/2)+.5;var t=e-this.options.gridOptions.length/2,o=e+this.options.gridOptions.length/2,n=this.options.gridPattern.firstChild,i=n&&n.nextSibling;e*=this.scale,t*=this.scale,o*=this.scale,n&&(n.setAttribute("stroke-width",this.scale),n.setAttribute("x1",t),n.setAttribute("y1",e),n.setAttribute("x2",o),n.setAttribute("y2",e)),i&&(i.setAttribute("stroke-width",this.scale),i.setAttribute("x1",e),i.setAttribute("y1",t),i.setAttribute("x2",e),i.setAttribute("y2",o))}},Blockly.WorkspaceSvg.prototype.setVisible=Blockly.WorkspaceSvg.prototype.setVisible,Blockly.Mutator=function(e){Blockly.Mutator.superClass_.constructor.call(this,null),this.quarkNames_=e},goog.inherits(Blockly.Mutator,Blockly.Icon),Blockly.Mutator.prototype.workspaceWidth_=0,Blockly.Mutator.prototype.workspaceHeight_=0,Blockly.Mutator.prototype.drawIcon_=function(e){Blockly.createSvgElement("rect",{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},e),Blockly.createSvgElement("path",{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},e),Blockly.createSvgElement("circle",{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},e)},Blockly.Mutator.prototype.iconClick_=function(e){this.block_.isEditable()&&Blockly.Icon.prototype.iconClick_.call(this,e)},Blockly.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=Blockly.createSvgElement("svg",{x:Blockly.Bubble.BORDER_WIDTH,y:Blockly.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var e,t=goog.dom.createDom("xml"),o=0;e=this.quarkNames_[o];o++)t.appendChild(goog.dom.createDom("block",{type:e}));else t=null;return t={languageTree:t,parentWorkspace:this.block_.workspace,pathToMedia:this.block_.workspace.options.pathToMedia,RTL:this.block_.RTL,toolboxPosition:this.block_.RTL?Blockly.TOOLBOX_AT_RIGHT:Blockly.TOOLBOX_AT_LEFT,horizontalLayout:!1,getMetrics:this.getFlyoutMetrics_.bind(this),setMetrics:null},this.workspace_=new Blockly.WorkspaceSvg(t),this.svgDialog_.appendChild(this.workspace_.createDom("blocklyMutatorBackground")),this.svgDialog_},Blockly.Mutator.prototype.updateEditable=function(){this.block_.isEditable()?Blockly.Icon.prototype.updateEditable.call(this):(this.setVisible(!1),this.iconGroup_&&Blockly.addClass_(this.iconGroup_,"blocklyIconGroupReadonly"))},Blockly.Mutator.prototype.resizeBubble_=function(){var e=2*Blockly.Bubble.BORDER_WIDTH,t=this.workspace_.getCanvas().getBBox(),o=this.block_.RTL?-t.x:t.width+t.x;if(t=t.height+3*e,this.workspace_.flyout_){var n=this.workspace_.flyout_.getMetrics_();t=Math.max(t,n.contentHeight+20)}o+=3*e,(Math.abs(this.workspaceWidth_-o)>e||Math.abs(this.workspaceHeight_-t)>e)&&(this.workspaceWidth_=o,this.workspaceHeight_=t,this.bubble_.setBubbleSize(o+e,t+e),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_)),this.block_.RTL&&(e="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",e)),this.workspace_.resize()},Blockly.Mutator.prototype.setVisible=function(e){if(e!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"mutatorOpen",!e,e)),e){this.bubble_=new Blockly.Bubble(this.block_.workspace,this.createEditor_(),this.block_.svgPath_,this.iconXY_,null,null),(e=this.workspace_.options.languageTree)&&(this.workspace_.flyout_.init(this.workspace_),this.workspace_.flyout_.show(e.childNodes)),this.rootBlock_=this.block_.decompose(this.workspace_),e=this.rootBlock_.getDescendants();for(var t,o=0;t=e[o];o++)t.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),this.workspace_.flyout_?(e=2*this.workspace_.flyout_.CORNER_RADIUS,o=this.workspace_.flyout_.width_+e):o=e=16,this.block_.RTL&&(o=-o),this.rootBlock_.moveBy(o,e),this.block_.saveConnections){var n=this;this.block_.saveConnections(this.rootBlock_),this.sourceListener_=function(){n.block_.saveConnections(n.rootBlock_)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.updateColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},Blockly.Mutator.prototype.workspaceChanged_=function(){if(Blockly.dragMode_==Blockly.DRAG_NONE)for(var e,t=this.workspace_.getTopBlocks(!1),o=0;e=t[o];o++){var n=e.getRelativeToSurfaceXY(),i=e.getHeightWidth();20>n.y+i.height&&e.moveBy(0,20-i.height-n.y)}if(this.rootBlock_.workspace==this.workspace_){if(Blockly.Events.setGroup(!0),e=this.block_,t=(t=e.mutationToDom())&&Blockly.Xml.domToText(t),o=e.rendered,e.rendered=!1,e.compose(this.rootBlock_),e.rendered=o,e.initSvg(),o=(o=e.mutationToDom())&&Blockly.Xml.domToText(o),t!=o){Blockly.Events.fire(new Blockly.Events.Change(e,"mutation",null,t,o));var l=Blockly.Events.getGroup();setTimeout(function(){Blockly.Events.setGroup(l),e.bumpNeighbours_(),Blockly.Events.setGroup(!1)},Blockly.BUMP_DELAY)}e.rendered&&e.render(),this.resizeBubble_(),Blockly.Events.setGroup(!1)}},Blockly.Mutator.prototype.getFlyoutMetrics_=function(){return{viewHeight:this.workspaceHeight_,viewWidth:this.workspaceWidth_,absoluteTop:0,absoluteLeft:0}},Blockly.Mutator.prototype.dispose=function(){this.block_.mutator=null,Blockly.Icon.prototype.dispose.call(this)};Blockly.Mutator.reconnect=function(e,t,o){if(!e||!e.getSourceBlock().workspace)return!1;o=t.getInput(o).connection;var n=e.targetBlock();return!(n&&n!=t||o.targetConnection==e)&&(o.isConnected()&&o.disconnect(),o.connect(e),!0)};goog.global.Blockly||(goog.global.Blockly={}),goog.global.Blockly.Mutator||(goog.global.Blockly.Mutator={}),goog.global.Blockly.Mutator.reconnect=Blockly.Mutator.reconnect,Blockly.MutatorPlus=function(e){Blockly.MutatorPlus.superClass_.constructor.call(this,null)},goog.inherits(Blockly.MutatorPlus,Blockly.Mutator),Blockly.MutatorPlus.prototype.drawIcon_=function(e){Blockly.createSvgElement("rect",{class:"blocklyIconShape",height:"16",width:"16","fill-opacity":"0","stroke-opacity":"0"},e),Blockly.createSvgElement("path",{class:"blocklyIconSymbol",d:"M18 10h-4v-4c0-1.104-.896-2-2-2s-2 .896-2 2l.071 4h-4.071c-1.104 0-2 .896-2 2s.896 2 2 2l4.071-.071-.071 4.071c0 1.104.896 2 2 2s2-.896 2-2v-4.071l4 .071c1.104 0 2-.896 2-2s-.896-2-2-2z",transform:"scale(0.67)"},e)},Blockly.MutatorPlus.prototype.iconClick_=function(e){this.block_.isEditable()&&2!=Blockly.dragMode_&&!Blockly.isRightButton(e)&&this.block_.updateShape_(1)},Blockly.MutatorPlus.prototype.clicked_=!1,Blockly.MutatorMinus=function(e){Blockly.MutatorMinus.superClass_.constructor.call(this,null)},goog.inherits(Blockly.MutatorMinus,Blockly.Mutator),Blockly.MutatorMinus.prototype.drawIcon_=function(e){Blockly.createSvgElement("rect",{class:"blocklyIconShape",height:"16",width:"16","fill-opacity":"0","stroke-opacity":"0"},e),Blockly.createSvgElement("path",{class:"blocklyIconSymbol",d:"M18 11h-12c-1.104 0-2 .896-2 2s.896 2 2 2h12c1.104 0 2-.896 2-2s-.896-2-2-2z",transform:"scale(0.67)"},e)},Blockly.MutatorMinus.prototype.iconClick_=function(e){this.block_.isEditable()&&2!=Blockly.dragMode_&&!Blockly.isRightButton(e)&&this.block_.updateShape_(-1)},Blockly.MutatorMinus.prototype.clicked_=!1,Blockly.Warning=function(e){Blockly.Warning.superClass_.constructor.call(this,e),this.createIcon(),this.text_={}},goog.inherits(Blockly.Warning,Blockly.Icon),Blockly.Warning.prototype.collapseHidden=!1,Blockly.Warning.prototype.drawIcon_=function(e){Blockly.createSvgElement("rect",{class:"blocklyIconShape",height:"16",width:"16","fill-opacity":"0","stroke-opacity":"0"},e),Blockly.createSvgElement("path",{class:"blocklyIconMarkWarningError",fill:"#333",d:"M12 5.511c.561 0 1.119.354 1.544 1.062l5.912 9.854c.851 1.415.194 2.573-1.456 2.573h-12c-1.65 0-2.307-1.159-1.456-2.573l5.912-9.854c.425-.708.983-1.062 1.544-1.062m0-2c-1.296 0-2.482.74-3.259 2.031l-5.912 9.856c-.786 1.309-.872 2.705-.235 3.83s1.879 1.772 3.406 1.772h12c1.527 0 2.77-.646 3.406-1.771s.551-2.521-.235-3.83l-5.912 -9.854c-.777-1.294-1.963-2.034-3.259-2.034z",transform:"scale(0.67)",opacity:"1"},e),Blockly.createSvgElement("path",{class:"blocklyIconMarkWarningError",fill:"#333",d:"M13.5 10c0-.83-.671-1.5-1.5-1.5s-1.5.67-1.5 1.5c0 .199.041.389.111.562.554 1.376 1.389 3.438 1.389 3.438l1.391-3.438c.068-.173.109-.363.109-.562z",transform:"scale(0.67)",opacity:"1"},e),Blockly.createSvgElement("circle",{class:"blocklyIconMarkWarningError",fill:"#333",cx:"8",cy:"10.67",r:"0.9"},e)},Blockly.Warning.textToDom_=function(e){var t=Blockly.createSvgElement("text",{class:"blocklyText blocklyBubbleText",y:Blockly.Bubble.BORDER_WIDTH},null);e=e.split("\n");for(var o=0;o<e.length;o++){var n=Blockly.createSvgElement("tspan",{dy:"1em",x:Blockly.Bubble.BORDER_WIDTH},t),i=document.createTextNode(e[o]);n.appendChild(i)}return t},Blockly.Warning.prototype.setVisible=function(e){if(e!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"warningOpen",!e,e)),e){if(e=Blockly.Warning.textToDom_(this.getText()),this.bubble_=new Blockly.Bubble(this.block_.workspace,e,this.block_.svgPath_,this.iconXY_,null,null),this.block_.RTL)for(var t,o=e.getBBox().width,n=0;t=e.childNodes[n];n++)t.setAttribute("text-anchor","end"),t.setAttribute("x",o+Blockly.Bubble.BORDER_WIDTH);this.updateColour(),e=this.bubble_.getBubbleSize(),this.bubble_.setBubbleSize(e.width,e.height)}else this.bubble_.dispose(),this.body_=this.bubble_=null},Blockly.Warning.prototype.bodyFocus_=function(e){this.bubble_.promote_()},Blockly.Warning.prototype.setText=function(e,t){this.text_[t]!=e&&(e?this.text_[t]=e:delete this.text_[t],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},Blockly.Warning.prototype.getText=function(){var e,t=[];for(e in this.text_)t.push(this.text_[e]);return t.join("\n")},Blockly.Warning.prototype.dispose=function(){this.block_.warning=null,Blockly.Icon.prototype.dispose.call(this)},Blockly.Error=function(e){Blockly.Error.superClass_.constructor.call(this,e),this.createIcon(),this.text_={}},goog.inherits(Blockly.Error,Blockly.Icon),Blockly.Error.prototype.collapseHidden=!1,Blockly.Error.prototype.drawIcon_=function(e){Blockly.createSvgElement("rect",{class:"blocklyIconShape",height:"16",width:"16","fill-opacity":"0","stroke-opacity":"0"},e),Blockly.createSvgElement("path",{class:"blocklyIconMarkWarningError",fill:"#333",d:"M12 3c-4.963 0-9 4.038-9 9s4.037 9 9 9 9-4.038 9-9-4.037-9-9-9zm0 16c-3.859 0-7-3.14-7-7s3.141-7 7-7 7 3.14 7 7-3.141 7-7 7z M12.707 12l2.646-2.646c.194-.194.194-.512 0-.707-.195-.194-.513-.194-.707 0l-2.646 2.646-2.646-2.647c-.195-.194-.513-.194-.707 0-.195.195 -.195.513 0 .707l2.646 2.647-2.646 2.646c-.195.195-.195.513 0 .707.097.098.225.147.353.147s.256-.049.354-.146l2.646-2.647 2.646 2.646c.098.098.226.147.354.147s.256-.049.354-.146c.194-.194.194 -.512 0-.707l-2.647-2.647z",transform:"scale(0.67)",opacity:"1"},e)},Blockly.Error.textToDom_=function(e){var t=Blockly.createSvgElement("text",{class:"blocklyText blocklyBubbleText",y:Blockly.Bubble.BORDER_WIDTH},null);e=e.split("\n");for(var o=0;o<e.length;o++){var n=Blockly.createSvgElement("tspan",{dy:"1em",x:Blockly.Bubble.BORDER_WIDTH},t),i=document.createTextNode(e[o]);n.appendChild(i)}return t},Blockly.Error.prototype.setVisible=function(e){if(e!=this.isVisible())if(e){if(e=Blockly.Error.textToDom_(this.getText()),this.bubble_=new Blockly.Bubble(this.block_.workspace,e,this.block_.svgPath_,this.iconXY_,null,null),this.block_.RTL)for(var t,o=e.getBBox().width,n=0;t=e.childNodes[n];n++)t.setAttribute("text-anchor","end"),t.setAttribute("x",o+Blockly.Bubble.BORDER_WIDTH);this.updateColour(),e=this.bubble_.getBubbleSize(),this.bubble_.setBubbleSize(e.width,e.height);
}else this.bubble_.dispose(),this.body_=this.bubble_=null},Blockly.Error.prototype.bodyFocus_=function(e){this.bubble_.promote_()},Blockly.Error.prototype.setText=function(e,t){this.text_[t]!=e&&(e?this.text_[t]=e:delete this.text_[t],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},Blockly.Error.prototype.getText=function(){var e,t=[];for(e in this.text_)t.push(this.text_[e]);return t.join("\n")},Blockly.Error.prototype.dispose=function(){this.block_.error=null,Blockly.Icon.prototype.dispose.call(this)},Blockly.Block=function(e,t,o){this.id=o&&!e.getBlockById(o)?o:Blockly.genUid(),e.blockDB_[this.id]=this,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.inTask=!0,this.comment=null,this.xy_=new goog.math.Coordinate(0,0),this.workspace=e,this.isInFlyout=e.isFlyout,this.RTL=e.RTL,this.variableDeclaration=e.variableDeclaration,t&&(this.type=t,o=Blockly.Blocks[t],goog.asserts.assertObject(o,'Error: "%s" is an unknown language block.',t),goog.mixin(this,o)),e.addTopBlock(this),goog.isFunction(this.init)&&this.init(),this.inputsInlineDefault=this.inputsInline,Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Create(this)),goog.isFunction(this.onchange)&&(this.onchangeWrapper_=this.onchange.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},Blockly.Block.obtain=function(e,t){return console.warn("Deprecated call to Blockly.Block.obtain, use workspace.newBlock instead."),e.newBlock(t)},Blockly.Block.prototype.data=null,Blockly.Block.prototype.colour_="#000000",Blockly.Block.prototype.dispose=function(e){for(this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(e),Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Delete(this)),Blockly.Events.disable(),this.workspace&&(this.workspace.removeTopBlock(this),delete this.workspace.blockDB_[this.id],this.workspace=null),e=this.childBlocks_.length-1;0<=e;e--)this.childBlocks_[e].dispose(!1);e=0;for(var t;t=this.inputList[e];e++)t.dispose();for(this.inputList.length=0,t=this.getConnections_(!0),e=0;e<t.length;e++){var o=t[e];o.isConnected()&&o.disconnect(),t[e].dispose()}Blockly.Events.enable()},Blockly.Block.prototype.unplug=function(e){if(this.outputConnection)this.outputConnection.isConnected()&&this.outputConnection.disconnect();else if(this.previousConnection){var t=null;this.previousConnection.isConnected()&&(t=this.previousConnection.targetConnection,this.previousConnection.disconnect());var o=this.getNextBlock();e&&o&&(e=this.nextConnection.targetConnection,e.disconnect(),t&&t.checkType_(e)&&t.connect(e))}},Blockly.Block.prototype.getConnections_=function(){var e=[];this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(var t,o=0;t=this.inputList[o];o++)t.connection&&e.push(t.connection);return e},Blockly.Block.prototype.lastConnectionInStack_=function(){for(var e=this.nextConnection;e;){var t=e.targetBlock();if(!t)return e;e=t.nextConnection}return null},Blockly.Block.prototype.bumpNeighbours_=function(){if(this.workspace&&Blockly.dragMode_==Blockly.DRAG_NONE){var e=this.getRootBlock();if(!e.isInFlyout)for(var t,o=this.getConnections_(!1),n=0;t=o[n];n++){t.isConnected()&&t.isSuperior()&&t.targetBlock().bumpNeighbours_();for(var i,l=t.neighbours_(Blockly.SNAP_RADIUS),s=0;i=l[s];s++)t.isConnected()&&i.isConnected()||i.getSourceBlock().getRootBlock()!=e&&(t.isSuperior()?i.bumpAwayFrom_(t):t.bumpAwayFrom_(i))}}},Blockly.Block.prototype.getParent=function(){return this.parentBlock_},Blockly.Block.prototype.getInputWithBlock=function(e){for(var t,o=0;t=this.inputList[o];o++)if(t.connection&&t.connection.targetBlock()==e)return t;return null},Blockly.Block.prototype.getSurroundParent=function(){var e=this;do{var t=e;if(e=e.getParent(),!e)return null}while(e.getNextBlock()==t);return e},Blockly.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},Blockly.Block.prototype.getRootBlock=function(){var e=this;do{var t=e;e=t.parentBlock_}while(e);return t},Blockly.Block.prototype.getChildren=function(){return this.childBlocks_},Blockly.Block.prototype.setParent=function(e){if(e!=this.parentBlock_){if(this.parentBlock_){for(var t,o=this.parentBlock_.childBlocks_,n=0;t=o[n];n++)if(t==this){o.splice(n,1);break}if(this.previousConnection&&this.previousConnection.isConnected())throw"Still connected to previous block.";if(this.outputConnection&&this.outputConnection.isConnected())throw"Still connected to parent block.";this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}},Blockly.Block.prototype.getDescendants=function(){for(var e,t=[this],o=0;e=this.childBlocks_[o];o++)t.push.apply(t,e.getDescendants());return t},Blockly.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},Blockly.Block.prototype.setDeletable=function(e){this.deletable_=e},Blockly.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},Blockly.Block.prototype.setMovable=function(e){this.movable_=e},Blockly.Block.prototype.isShadow=function(){return this.isShadow_},Blockly.Block.prototype.setShadow=function(e){this.isShadow_=e},Blockly.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},Blockly.Block.prototype.setEditable=function(e){this.editable_=e,e=0;for(var t;t=this.inputList[e];e++)for(var o,n=0;o=t.fieldRow[n];n++)o.updateEditable()},Blockly.Block.prototype.setConnectionsHidden=function(e){if(!e&&this.isCollapsed()){if(this.outputConnection&&this.outputConnection.setHidden(e),this.previousConnection&&this.previousConnection.setHidden(e),this.nextConnection){this.nextConnection.setHidden(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionsHidden(e)}}else for(var o=this.getConnections_(!0),n=0;t=o[n];n++)t.setHidden(e),t.isSuperior()&&(t=t.targetBlock())&&t.setConnectionsHidden(e)},Blockly.Block.prototype.setHelpUrl=function(e){this.helpUrl=e},Blockly.Block.prototype.setTooltip=function(e){this.tooltip=e},Blockly.Block.prototype.getColour=function(){return this.colour_},Blockly.Block.prototype.setColour=function(e){var t=parseFloat(e);if(isNaN(t)){if(!goog.isString(e)||!e.match(/^#[0-9a-fA-F]{6}$/))throw"Invalid colour: "+e;this.colour_=e}else this.colour_=Blockly.hueToRgb(t)},Blockly.Block.prototype.getField=function(e){for(var t,o=0;t=this.inputList[o];o++)for(var n,i=0;n=t.fieldRow[i];i++)if(n.name===e)return n;return null},Blockly.Block.prototype.getVars=function(){for(var e,t=[],o=0;e=this.inputList[o];o++)for(var n,i=0;n=e.fieldRow[i];i++)n instanceof Blockly.FieldVariable&&t.push(n.getValue());return t},Blockly.Block.prototype.renameVar=function(e,t){for(var o,n=0;o=this.inputList[n];n++)for(var i,l=0;i=o.fieldRow[l];l++)i instanceof Blockly.FieldVariable&&Blockly.Names.equals(e,i.getValue())&&i.setValue(t)},Blockly.Block.prototype.getFieldValue=function(e){return(e=this.getField(e))?e.getValue():null},Blockly.Block.prototype.getTitleValue=function(e){return console.warn("Deprecated call to getTitleValue, use getFieldValue instead."),this.getFieldValue(e)},Blockly.Block.prototype.setFieldValue=function(e,t){var o=this.getField(t);goog.asserts.assertObject(o,'Field "%s" not found.',t),o.setValue(e)},Blockly.Block.prototype.setTitleValue=function(e,t){console.warn("Deprecated call to setTitleValue, use setFieldValue instead."),this.setFieldValue(e,t)},Blockly.Block.prototype.setPreviousStatement=function(e,t){e?(void 0===t&&(t=null),this.previousConnection||(goog.asserts.assert(!this.outputConnection,"Remove output connection prior to adding previous connection."),this.previousConnection=this.makeConnection_(Blockly.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(t)):this.previousConnection&&(goog.asserts.assert(!this.previousConnection.isConnected(),"Must disconnect previous statement before removing connection."),this.previousConnection.dispose(),this.previousConnection=null)},Blockly.Block.prototype.setNextStatement=function(e,t){e?(void 0===t&&(t=null),this.nextConnection||(this.nextConnection=this.makeConnection_(Blockly.NEXT_STATEMENT)),this.nextConnection.setCheck(t)):this.nextConnection&&(goog.asserts.assert(!this.nextConnection.isConnected(),"Must disconnect next statement before removing connection."),this.nextConnection.dispose(),this.nextConnection=null)},Blockly.Block.prototype.setOutput=function(e,t){e?(void 0===t&&(t=null),this.outputConnection||(goog.asserts.assert(!this.previousConnection,"Remove previous connection prior to adding output connection."),this.outputConnection=this.makeConnection_(Blockly.OUTPUT_VALUE)),this.outputConnection.setCheck(t)):this.outputConnection&&(goog.asserts.assert(!this.outputConnection.isConnected(),"Must disconnect output value before removing connection."),this.outputConnection.dispose(),this.outputConnection=null)},Blockly.Block.prototype.setInputsInline=function(e){this.inputsInline!=e&&(Blockly.Events.fire(new Blockly.Events.Change(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)},Blockly.Block.prototype.getInputsInline=function(){if(void 0!=this.inputsInline)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==Blockly.DUMMY_INPUT&&this.inputList[e].type==Blockly.DUMMY_INPUT)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==Blockly.INPUT_VALUE&&this.inputList[e].type==Blockly.DUMMY_INPUT)return!0;return!1},Blockly.Block.prototype.setDisabled=function(e){this.disabled!=e&&(Blockly.Events.fire(new Blockly.Events.Change(this,"disabled",null,this.disabled,e)),this.disabled=e)},Blockly.Block.prototype.getInheritedDisabled=function(){for(var e=this;;){if(e=e.getSurroundParent(),!e)return!1;if(e.disabled)return!0}},Blockly.Block.prototype.setInTask=function(e){this.inTask=e},Blockly.Block.prototype.isCollapsed=function(){return this.collapsed_},Blockly.Block.prototype.setCollapsed=function(e){this.collapsed_!=e&&(Blockly.Events.fire(new Blockly.Events.Change(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)},Blockly.Block.prototype.toString=function(e){var t=[];if(this.collapsed_)t.push(this.getInput("_TEMP_COLLAPSED_INPUT").fieldRow[0].text_);else for(var o,n=0;o=this.inputList[n];n++){for(var i,l=0;i=o.fieldRow[l];l++)t.push(i.getText());o.connection&&((o=o.connection.targetBlock())?t.push(o.toString()):t.push("?"))}return t=goog.string.trim(t.join(" "))||"???",e&&(t=goog.string.truncate(t,e)),t},Blockly.Block.prototype.appendValueInput=function(e){return this.appendInput_(Blockly.INPUT_VALUE,e)},Blockly.Block.prototype.appendStatementInput=function(e){return this.appendInput_(Blockly.NEXT_STATEMENT,e)},Blockly.Block.prototype.appendDummyInput=function(e){return this.appendInput_(Blockly.DUMMY_INPUT,e||"")},Blockly.Block.prototype.jsonInit=function(e){goog.asserts.assert(void 0==e.output||void 0==e.previousStatement,"Must not have both an output and a previousStatement."),void 0!==e.colour&&this.setColour(e.colour);for(var t=0;void 0!==e["message"+t];)this.interpolate_(e["message"+t],e["args"+t]||[],e["lastDummyAlign"+t]),t++;void 0!==e.inputsInline&&this.setInputsInline(e.inputsInline),void 0!==e.output&&this.setOutput(!0,e.output),void 0!==e.previousStatement&&this.setPreviousStatement(!0,e.previousStatement),void 0!==e.nextStatement&&this.setNextStatement(!0,e.nextStatement),void 0!==e.tooltip&&this.setTooltip(e.tooltip),void 0!==e.helpUrl&&this.setHelpUrl(e.helpUrl)},Blockly.Block.prototype.interpolate_=function(e,t,o){var n=Blockly.tokenizeInterpolation(e),i=[],l=0;e=[];for(var s=0;s<n.length;s++){var r=n[s];"number"==typeof r?(goog.asserts.assert(0<r&&r<=t.length,'Message index "%s" out of range.',r),goog.asserts.assert(!i[r],'Message index "%s" duplicated.',r),i[r]=!0,l++,e.push(t[r-1])):(r=r.trim())&&e.push(r)}for(goog.asserts.assert(l==t.length,"Message does not reference all %s arg(s).",t.length),!e.length||"string"!=typeof e[e.length-1]&&0!=e[e.length-1].type.indexOf("field_")||(s={type:"input_dummy"},o&&(s.align=o),e.push(s)),o={LEFT:Blockly.ALIGN_LEFT,RIGHT:Blockly.ALIGN_RIGHT,CENTRE:Blockly.ALIGN_CENTRE},t=[],s=0;s<e.length;s++)if(i=e[s],"string"==typeof i)t.push([i,void 0]);else{n=l=null;do switch(r=!1,i.type){case"input_value":n=this.appendValueInput(i.name);break;case"input_statement":n=this.appendStatementInput(i.name);break;case"input_dummy":n=this.appendDummyInput(i.name);break;case"field_label":l=new Blockly.FieldLabel(i.text,i.class);break;case"field_input":l=new Blockly.FieldTextInput(i.text),"boolean"==typeof i.spellcheck&&l.setSpellcheck(i.spellcheck);break;case"field_angle":l=new Blockly.FieldAngle(i.angle);break;case"field_note":l=new Blockly.FieldNote(i.note);break;case"field_checkbox":l=new Blockly.FieldCheckbox(i.checked?"TRUE":"FALSE");break;case"field_colour":l=new Blockly.FieldColour(i.colour);break;case"field_variable":l=new Blockly.FieldVariable(i.variable);break;case"field_dropdown":l=new Blockly.FieldDropdown(i.options);break;case"field_dropdownImage":l=new Blockly.FieldDropdownImage(i.options);break;case"field_image":l=new Blockly.FieldImage(i.src,i.width,i.height,i.alt);break;case"field_number":l=new Blockly.FieldNumber(i.text);break;case"field_date":if(Blockly.FieldDate){l=new Blockly.FieldDate(i.date);break}default:i.alt&&(i=i.alt,r=!0)}while(r);if(l)t.push([l,i.name]);else if(n){for(i.check&&n.setCheck(i.check),i.align&&n.setAlign(o[i.align]),i=0;i<t.length;i++)n.appendField(t[i][0],t[i][1]);t.length=0}}},Blockly.Block.prototype.appendInput_=function(e,t){var o=null;return e!=Blockly.INPUT_VALUE&&e!=Blockly.NEXT_STATEMENT||(o=this.makeConnection_(e)),o=new Blockly.Input(e,t,this,o),this.inputList.push(o),o},Blockly.Block.prototype.moveInputBefore=function(e,t){if(e!=t){for(var o,n=-1,i=t?-1:this.inputList.length,l=0;o=this.inputList[l];l++)if(o.name==e){if(n=l,-1!=i)break}else if(t&&o.name==t&&(i=l,-1!=n))break;goog.asserts.assert(-1!=n,'Named input "%s" not found.',e),goog.asserts.assert(-1!=i,'Reference input "%s" not found.',t),this.moveNumberedInputBefore(n,i)}},Blockly.Block.prototype.moveNumberedInputBefore=function(e,t){goog.asserts.assert(e!=t,"Can't move input to itself."),goog.asserts.assert(e<this.inputList.length,"Input index "+e+" out of bounds."),goog.asserts.assert(t<=this.inputList.length,"Reference input "+t+" out of bounds.");var o=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,o)},Blockly.Block.prototype.removeInput=function(e,t){for(var o,n=0;o=this.inputList[n];n++)if(o.name==e){if(o.connection&&o.connection.isConnected()){o.connection.setShadowDom(null);var i=o.connection.targetBlock();i.isShadow()?i.dispose():i.unplug()}return o.dispose(),void this.inputList.splice(n,1)}t||goog.asserts.fail('Input "%s" not found.',e)},Blockly.Block.prototype.getInput=function(e){for(var t,o=0;t=this.inputList[o];o++)if(t.name==e)return t;return null},Blockly.Block.prototype.getInputTargetBlock=function(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()},Blockly.Block.prototype.getCommentText=function(){return this.comment||""},Blockly.Block.prototype.setCommentText=function(e){this.comment!=e&&(Blockly.Events.fire(new Blockly.Events.Change(this,"comment",null,this.comment,e||"")),this.comment=e)},Blockly.Block.prototype.setWarningText=function(e){},Blockly.Block.prototype.setErrorText=function(e){},Blockly.Block.prototype.setMutator=function(e){},Blockly.Block.prototype.setMutatorPlus=function(e){},Blockly.Block.prototype.setMutatorMinus=function(e){},Blockly.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},Blockly.Block.prototype.moveBy=function(e,t){goog.asserts.assert(!this.parentBlock_,"Block has parent.");var o=new Blockly.Events.Move(this);this.xy_.translate(e,t),o.recordNew(),Blockly.Events.fire(o)},Blockly.Block.prototype.makeConnection_=function(e){return new Blockly.Connection(this,e)},Blockly.ContextMenu={},Blockly.ContextMenu.currentBlock=null,Blockly.ContextMenu.show=function(e,t,o){if(Blockly.WidgetDiv.show(Blockly.ContextMenu,o,null),t.length){var n=new goog.ui.Menu;n.setRightToLeft(o);for(var i,l=0;i=t[l];l++){var s=new goog.ui.MenuItem(i.text);s.setRightToLeft(o),n.addChild(s,!0),s.setEnabled(i.enabled),i.enabled&&goog.events.listen(s,goog.ui.Component.EventType.ACTION,i.callback)}goog.events.listen(n,goog.ui.Component.EventType.ACTION,Blockly.ContextMenu.hide),t=goog.dom.getViewportSize(),l=goog.style.getViewportPageOffset(document),n.render(Blockly.WidgetDiv.DIV);var r=n.getElement();Blockly.addClass_(r,"blocklyContextMenu"),i=goog.style.getSize(r),s=e.clientX+l.x;var a=e.clientY+l.y;e.clientY+i.height>=t.height&&(a-=i.height),o?i.width>=e.clientX&&(s+=i.width):e.clientX+i.width>=t.width&&(s-=i.width),Blockly.WidgetDiv.position(s,a,t,l,o),n.setAllowAutoFocus(!0),setTimeout(function(){r.focus()},1),Blockly.ContextMenu.currentBlock=null}else Blockly.ContextMenu.hide()},Blockly.ContextMenu.hide=function(){Blockly.WidgetDiv.hideIfOwner(Blockly.ContextMenu),Blockly.ContextMenu.currentBlock=null},Blockly.ContextMenu.callbackFactory=function(e,t){return function(){Blockly.Events.disable();var o=Blockly.Xml.domToBlock(t,e.workspace),n=e.getRelativeToSurfaceXY();n.x=e.RTL?n.x-Blockly.SNAP_RADIUS:n.x+Blockly.SNAP_RADIUS,n.y+=2*Blockly.SNAP_RADIUS,o.moveBy(n.x,n.y),Blockly.Events.enable(),Blockly.Events.isEnabled()&&!o.isShadow()&&Blockly.Events.fire(new Blockly.Events.Create(o)),o.select()}},Blockly.RenderedConnection=function(e,t){Blockly.RenderedConnection.superClass_.constructor.call(this,e,t)},goog.inherits(Blockly.RenderedConnection,Blockly.Connection),Blockly.RenderedConnection.prototype.distanceFrom=function(e){var t=this.x_-e.x_;return e=this.y_-e.y_,Math.sqrt(t*t+e*e)},Blockly.RenderedConnection.prototype.bumpAwayFrom_=function(e){if(Blockly.dragMode_==Blockly.DRAG_NONE){var t=this.sourceBlock_.getRootBlock();if(!t.isInFlyout){var o=!1;if(!t.isMovable()){if(t=e.getSourceBlock().getRootBlock(),!t.isMovable())return;e=this,o=!0}t.getSvgRoot().parentNode.appendChild(t.getSvgRoot());var n=e.x_+Blockly.SNAP_RADIUS-this.x_;e=e.y_+Blockly.SNAP_RADIUS-this.y_,o&&(e=-e),t.RTL&&(n=-n),t.moveBy(n,e),t.setInTask(!1)}}},Blockly.RenderedConnection.prototype.moveTo=function(e,t){this.inDB_&&this.db_.removeConnection_(this),this.x_=e,this.y_=t,this.hidden_||this.db_.addConnection(this)},Blockly.RenderedConnection.prototype.moveBy=function(e,t){this.moveTo(this.x_+e,this.y_+t)},Blockly.RenderedConnection.prototype.tighten_=function(){var e=this.targetConnection.x_-this.x_,t=this.targetConnection.y_-this.y_;if(0!=e||0!=t){var o=this.targetBlock(),n=o.getSvgRoot();if(!n)throw"block is not rendered.";n=Blockly.getRelativeXY_(n),o.getSvgRoot().setAttribute("transform","translate("+(n.x-e)+","+(n.y-t)+")"),o.moveConnections_(-e,-t)}},Blockly.RenderedConnection.prototype.closest=function(e,t,o){return this.dbOpposite_.searchForClosest(this,e,t,o)},Blockly.RenderedConnection.prototype.highlight=function(){var e=this.type==Blockly.INPUT_VALUE||this.type==Blockly.OUTPUT_VALUE?"M -1, 4.6 l-4.892 -0.446l-0.561 1.8c-1.109 3.66 -1.01 6.28 0.32 8.021c0.972 1.289 1.758 2.015 5.132 2.015 z":this.sourceBlock_.RTL?"m 20,0 h -5 "+Blockly.BlockSvg.NOTCH_PATH_RIGHT+" h -5":"m -20,0 h 5 "+Blockly.BlockSvg.NOTCH_PATH_LEFT+" h 5",t=this.sourceBlock_.getRelativeToSurfaceXY();Blockly.Connection.highlightedPath_=Blockly.createSvgElement("path",{class:"blocklyHighlightedConnectionPath",d:e,transform:"translate("+(this.x_-t.x)+","+(this.y_-t.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},Blockly.RenderedConnection.prototype.unhideAll=function(){this.setHidden(!1);var e=[];if(this.type!=Blockly.INPUT_VALUE&&this.type!=Blockly.NEXT_STATEMENT)return e;var t=this.targetBlock();if(t){if(t.isCollapsed()){var o=[];t.outputConnection&&o.push(t.outputConnection),t.nextConnection&&o.push(t.nextConnection),t.previousConnection&&o.push(t.previousConnection)}else o=t.getConnections_(!0);for(var n=0;n<o.length;n++)e.push.apply(e,o[n].unhideAll());e.length||(e[0]=t)}return e},Blockly.RenderedConnection.prototype.unhighlight=function(){goog.dom.removeNode(Blockly.Connection.highlightedPath_),delete Blockly.Connection.highlightedPath_},Blockly.RenderedConnection.prototype.setHidden=function(e){(this.hidden_=e)&&this.inDB_?this.db_.removeConnection_(this):e||this.inDB_||this.db_.addConnection(this)},Blockly.RenderedConnection.prototype.hideAll=function(){if(this.setHidden(!0),this.targetConnection)for(var e=this.targetBlock().getDescendants(),t=0;t<e.length;t++){for(var o=e[t],n=o.getConnections_(!0),i=0;i<n.length;i++)n[i].setHidden(!0);for(o=o.getIcons(),n=0;n<o.length;n++)o[n].setVisible(!1)}},Blockly.RenderedConnection.prototype.isConnectionAllowed=function(e,t){return!(this.distanceFrom(e)>t)&&Blockly.RenderedConnection.superClass_.isConnectionAllowed.call(this,e)},Blockly.RenderedConnection.prototype.disconnectInternal_=function(e,t){Blockly.RenderedConnection.superClass_.disconnectInternal_.call(this,e,t),e.rendered&&e.render(),t.rendered&&(t.updateDisabled(),t.render())},Blockly.RenderedConnection.prototype.respawnShadow_=function(){var e=this.getSourceBlock(),t=this.getShadowDom();if(e.workspace&&t&&Blockly.Events.recordUndo){if(t=Blockly.RenderedConnection.superClass_.respawnShadow_.call(this),!t)throw"Couldn't respawn the shadow block that should exist here.";t.initSvg(),t.render(!1),e.rendered&&e.render()}},Blockly.RenderedConnection.prototype.neighbours_=function(e){return this.dbOpposite_.getNeighbours(this,e)},Blockly.RenderedConnection.prototype.connect_=function(e){Blockly.RenderedConnection.superClass_.connect_.call(this,e);var t=this.getSourceBlock();e=e.getSourceBlock(),t.rendered&&t.updateDisabled(),e.rendered&&e.updateDisabled(),t.rendered&&e.rendered&&(this.type==Blockly.NEXT_STATEMENT||this.type==Blockly.PREVIOUS_STATEMENT?e.render():t.render())},Blockly.BlockSvg=function(e,t,o){this.svgGroup_=Blockly.createSvgElement("g",{},null),this.svgPath_=Blockly.createSvgElement("path",{class:"blocklyPath"},this.svgGroup_),this.svgPathInput_=[],this.svgPath_.tooltip=this,this.rendered=!1,Blockly.Tooltip.bindMouseEvents(this.svgPath_),Blockly.BlockSvg.superClass_.constructor.call(this,e,t,o)},goog.inherits(Blockly.BlockSvg,Blockly.Block),Blockly.BlockSvg.prototype.height=0,Blockly.BlockSvg.prototype.width=0,Blockly.BlockSvg.prototype.dragStartXY_=null,Blockly.BlockSvg.INLINE=-1,Blockly.BlockSvg.prototype.initSvg=function(){goog.asserts.assert(this.workspace.rendered,"Workspace is headless.");for(var e,t=0;e=this.inputList[t];t++)e.init();for(e=this.getIcons(),t=0;t<e.length;t++)e[t].createIcon();if(this.updateColour(),this.updateMovable(),!this.workspace.options.readOnly&&!this.eventsInit_){Blockly.bindEvent_(this.getSvgRoot(),"mousedown",this,this.onMouseDown_);var o=this;Blockly.bindEvent_(this.getSvgRoot(),"touchstart",null,function(e){Blockly.longStart_(e,o)})}this.eventsInit_=!0,this.getSvgRoot().parentNode||this.workspace.getCanvas().appendChild(this.getSvgRoot())},Blockly.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(Blockly.selected!=this){var e=null;Blockly.selected&&(e=Blockly.selected.id,Blockly.Events.disable(),Blockly.selected.unselect(),Blockly.Events.enable()),e=new Blockly.Events.Ui(null,"selected",e,this.id),e.workspaceId=this.workspace.id,Blockly.Events.fire(e),Blockly.selected=this,this.addSelect()}},Blockly.BlockSvg.prototype.unselect=function(){if(Blockly.selected==this){var e=new Blockly.Events.Ui(null,"selected",this.id,null);e.workspaceId=this.workspace.id,Blockly.Events.fire(e),Blockly.selected=null,this.removeSelect()}},Blockly.BlockSvg.prototype.mutator=null,Blockly.BlockSvg.prototype.mutatorPlus=null,Blockly.BlockSvg.prototype.mutatorMinus=null,Blockly.BlockSvg.prototype.comment=null,Blockly.BlockSvg.prototype.warning=null,Blockly.BlockSvg.prototype.error=null,Blockly.BlockSvg.prototype.getIcons=function(){var e=[];return this.mutator&&e.push(this.mutator),this.mutatorPlus&&e.push(this.mutatorPlus),this.mutatorMinus&&e.push(this.mutatorMinus),this.comment&&e.push(this.comment),this.warning&&e.push(this.warning),this.error&&e.push(this.error),e},Blockly.BlockSvg.onMouseUpWrapper_=null,Blockly.BlockSvg.onMouseMoveWrapper_=null,Blockly.BlockSvg.terminateDrag_=function(){Blockly.BlockSvg.disconnectUiStop_(),Blockly.BlockSvg.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.BlockSvg.onMouseUpWrapper_),Blockly.BlockSvg.onMouseUpWrapper_=null),Blockly.BlockSvg.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.BlockSvg.onMouseMoveWrapper_),Blockly.BlockSvg.onMouseMoveWrapper_=null);var e=Blockly.selected;if(Blockly.dragMode_==Blockly.DRAG_FREE&&e){var t=e.getRelativeToSurfaceXY();t=goog.math.Coordinate.difference(t,e.dragStartXY_);var o=new Blockly.Events.Move(e);o.oldCoordinate=e.dragStartXY_,o.recordNew(),Blockly.Events.fire(o),e.moveConnections_(t.x,t.y),delete e.draggedBubbles_,e.setDragging_(!1),e.render();var n=Blockly.Events.getGroup();setTimeout(function(){Blockly.Events.setGroup(n),e.snapToGrid(),Blockly.Events.setGroup(!1)},Blockly.BUMP_DELAY/2),setTimeout(function(){Blockly.Events.setGroup(n),e.bumpNeighbours_(),Blockly.Events.setGroup(!1)},Blockly.BUMP_DELAY),Blockly.asyncSvgResize(this.workspace)}Blockly.dragMode_=Blockly.DRAG_NONE,Blockly.Css.setCursor(Blockly.Css.Cursor.OPEN)},Blockly.BlockSvg.prototype.setParent=function(e){if(e!=this.parentBlock_){var t=this.getSvgRoot();if(this.parentBlock_&&t){var o=this.getRelativeToSurfaceXY();this.workspace.getCanvas().appendChild(t),t.setAttribute("transform","translate("+o.x+","+o.y+")")}Blockly.Field.startCache(),Blockly.BlockSvg.superClass_.setParent.call(this,e),Blockly.Field.stopCache(),e&&(o=this.getRelativeToSurfaceXY(),e.getSvgRoot().appendChild(t),e=this.getRelativeToSurfaceXY(),this.moveConnections_(e.x-o.x,e.y-o.y))}},Blockly.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var e=0,t=0,o=this.getSvgRoot();if(o)do{var n=Blockly.getRelativeXY_(o);e+=n.x,t+=n.y,o=o.parentNode}while(o&&o!=this.workspace.getCanvas());return new goog.math.Coordinate(e,t)},Blockly.BlockSvg.prototype.moveBy=function(e,t){goog.asserts.assert(!this.parentBlock_,"Block has parent.");var o=new Blockly.Events.Move(this),n=this.getRelativeToSurfaceXY();this.getSvgRoot().setAttribute("transform","translate("+(n.x+e)+","+(n.y+t)+")"),this.moveConnections_(e,t),o.recordNew(),Blockly.Events.fire(o)},Blockly.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&Blockly.dragMode_==Blockly.DRAG_NONE&&!this.getParent()&&!this.isInFlyout&&this.workspace.options.gridOptions&&this.workspace.options.gridOptions.snap){var e=this.workspace.options.gridOptions.spacing,t=e/2,o=this.getRelativeToSurfaceXY(),n=Math.round((o.x-t)/e)*e+t-o.x;e=Math.round((o.y-t)/e)*e+t-o.y,n=Math.round(n),e=Math.round(e),0==n&&0==e||this.moveBy(n,e)}},Blockly.BlockSvg.prototype.getHeightWidth=function(){var e=this.height,t=this.width,o=this.getNextBlock();return o?(o=o.getHeightWidth(),e+=o.height-4,t=Math.max(t,o.width)):this.nextConnection||this.outputConnection||(e+=2),{height:e,width:t}},Blockly.BlockSvg.prototype.getBoundingRectangle=function(){var e=this.getRelativeToSurfaceXY(this),t=this.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0,o=this.getHeightWidth();if(this.RTL){var n=new goog.math.Coordinate(e.x-(o.width-t),e.y);e=new goog.math.Coordinate(e.x+t,e.y+o.height)}else n=new goog.math.Coordinate(e.x-t,e.y),e=new goog.math.Coordinate(e.x+o.width-t,e.y+o.height);return{topLeft:n,bottomRight:e}},Blockly.BlockSvg.prototype.setCollapsed=function(e){if(this.collapsed_!=e){for(var t,o=[],n=0;t=this.inputList[n];n++)o.push.apply(o,t.setVisible(!e));if(e){for(t=this.getIcons(),n=0;n<t.length;n++)t[n].setVisible(!1);n=this.toString(Blockly.COLLAPSE_CHARS),this.appendDummyInput("_TEMP_COLLAPSED_INPUT").appendField(n).init()}else this.removeInput("_TEMP_COLLAPSED_INPUT"),this.setWarningText(null);if(Blockly.BlockSvg.superClass_.setCollapsed.call(this,e),o.length||(o[0]=this),this.rendered)for(n=0;e=o[n];n++)e.render()}},Blockly.BlockSvg.prototype.tab=function(e,t){for(var o,n=[],i=0;o=this.inputList[i];i++){for(var l,s=0;l=o.fieldRow[s];s++)l instanceof Blockly.FieldTextInput&&n.push(l);o.connection&&(o=o.connection.targetBlock())&&n.push(o)}i=n.indexOf(e),-1==i&&(i=t?-1:n.length),(n=n[t?i+1:i-1])?n instanceof Blockly.Field?n.showEditor_():n.tab(null,t):(n=this.getParent())&&n.tab(this,t)},Blockly.BlockSvg.prototype.onMouseDown_=function(e){if(!this.workspace.options.readOnly)if(this.isInFlyout)e.stopPropagation();else{if(this.workspace.robControls&&this.workspace.robControls.showZoom(!1),this.workspace.markFocused(),Blockly.svgResize(this.workspace),Blockly.terminateDrag_(),this.select(),Blockly.hideChaff(),this.workspace.recordDeleteAreas(),Blockly.isRightButton(e))this.showContextMenu_(e);else{if(!this.isMovable())return;Blockly.Events.getGroup()||Blockly.Events.setGroup(!0),Blockly.Css.setCursor(Blockly.Css.Cursor.CLOSED),this.dragStartXY_=this.getRelativeToSurfaceXY(),this.workspace.startDrag(e,this.dragStartXY_),Blockly.dragMode_=Blockly.DRAG_STICKY,Blockly.BlockSvg.onMouseUpWrapper_=Blockly.bindEvent_(document,"mouseup",this,this.onMouseUp_),Blockly.BlockSvg.onMouseMoveWrapper_=Blockly.bindEvent_(document,"mousemove",this,this.onMouseMove_),this.draggedBubbles_=[];for(var t,o=this.getDescendants(),n=0;t=o[n];n++){t=t.getIcons();for(var i=0;i<t.length;i++){var l=t[i].getIconLocation();l.bubble=t[i],this.draggedBubbles_.push(l)}}}e.stopPropagation(),e.preventDefault()}},Blockly.BlockSvg.prototype.onMouseUp_=function(e){if(Blockly.dragMode_==Blockly.DRAG_FREE||Blockly.WidgetDiv.isVisible()||Blockly.Events.fire(new Blockly.Events.Ui(this,"click",void 0,void 0)),Blockly.terminateDrag_(),Blockly.selected&&Blockly.highlightedConnection_?(Blockly.localConnection_.connect(Blockly.highlightedConnection_),this.rendered&&(Blockly.localConnection_.isSuperior()?Blockly.highlightedConnection_:Blockly.localConnection_).getSourceBlock().connectionUiEffect(),this.workspace.trashcan&&this.workspace.trashcan.close()):!this.getParent()&&Blockly.selected.isDeletable()&&this.workspace.isDeleteArea(e)&&((e=this.workspace.trashcan)&&goog.Timer.callOnce(e.close,100,e),Blockly.selected.dispose(!1,!0),Blockly.asyncSvgResize(this.workspace)),Blockly.getMainWorkspace().checkInTask&&Blockly.selected){var t=this.getRootBlock();e=!!t.PROPERTY_VALID_ROOT,t=t.getDescendants();for(var o=0;o<t.length;o++)t[o].setInTask(e)}Blockly.highlightedConnection_&&(Blockly.highlightedConnection_.unhighlight(),Blockly.highlightedConnection_=null),Blockly.Css.setCursor(Blockly.Css.Cursor.OPEN),Blockly.WidgetDiv.isVisible()||Blockly.Events.setGroup(!1)},Blockly.BlockSvg.prototype.showHelp_=function(){var e=goog.isFunction(this.helpUrl)?this.helpUrl():this.helpUrl;e&&window.open(e)},Blockly.BlockSvg.prototype.showContextMenu_=function(e){if(!this.workspace.options.readOnly&&this.contextMenu){var t=this,o=[];if(this.isDeletable()&&this.isMovable()&&!t.isInFlyout){var n={text:Blockly.Msg.DUPLICATE_BLOCK,enabled:!0,callback:function(){Blockly.duplicate_(t)}};if(this.getDescendants().length>this.workspace.remainingCapacity()&&(n.enabled=!1),o.push(n),this.isEditable()&&!this.collapsed_&&this.workspace.options.comments&&(n={enabled:!goog.userAgent.IE},this.comment?(n.text=Blockly.Msg.REMOVE_COMMENT,n.callback=function(){t.setCommentText(null)}):(n.text=Blockly.Msg.ADD_COMMENT,n.callback=function(){t.setCommentText("")}),o.push(n)),!this.collapsed_)for(n=1;n<this.inputList.length;n++)if(this.inputList[n-1].type!=Blockly.NEXT_STATEMENT&&this.inputList[n].type!=Blockly.NEXT_STATEMENT){
n={enabled:!0};var i=this.getInputsInline();n.text=i?Blockly.Msg.EXTERNAL_INPUTS:Blockly.Msg.INLINE_INPUTS,n.callback=function(){t.setInputsInline(!i)},o.push(n);break}this.workspace.options.collapse&&(this.collapsed_?(n={enabled:!0},n.text=Blockly.Msg.EXPAND_BLOCK,n.callback=function(){t.setCollapsed(!1)},o.push(n)):(n={enabled:!0},n.text=Blockly.Msg.COLLAPSE_BLOCK,n.callback=function(){t.setCollapsed(!0)},o.push(n))),this.workspace.options.disable&&(n={text:this.disabled?Blockly.Msg.ENABLE_BLOCK:Blockly.Msg.DISABLE_BLOCK,enabled:!this.getInheritedDisabled(),callback:function(){t.setDisabled(!t.disabled)}},o.push(n)),n=this.getDescendants().length;var l=this.getNextBlock();l&&(n-=l.getDescendants().length),n={text:1==n?Blockly.Msg.DELETE_BLOCK:Blockly.Msg.DELETE_X_BLOCKS.replace("%1",String(n)),enabled:!0,callback:function(){Blockly.Events.setGroup(!0),t.dispose(!0,!0),Blockly.Events.setGroup(!1)}},o.push(n)}n={enabled:!(goog.isFunction(this.helpUrl)?!this.helpUrl():!this.helpUrl)},n.text=Blockly.Msg.HELP,n.callback=function(){t.showHelp_()},o.push(n),this.customContextMenu&&!t.isInFlyout&&this.customContextMenu(o),Blockly.ContextMenu.show(e,o,this.RTL),Blockly.ContextMenu.currentBlock=this}},Blockly.BlockSvg.prototype.moveConnections_=function(e,t){if(this.rendered){for(var o=this.getConnections_(!1),n=0;n<o.length;n++)o[n].moveBy(e,t);for(o=this.getIcons(),n=0;n<o.length;n++)o[n].computeIconLocation();for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].moveConnections_(e,t)}},Blockly.BlockSvg.prototype.setDragging_=function(e){if(e){var t=this.getSvgRoot();t.translate_="",t.skew_="",this.addDragging(),Blockly.draggingConnections_=Blockly.draggingConnections_.concat(this.getConnections_(!0))}else this.removeDragging(),Blockly.draggingConnections_=[];for(t=0;t<this.childBlocks_.length;t++)this.childBlocks_[t].setDragging_(e)},Blockly.BlockSvg.prototype.onMouseMove_=function(e){if("mousemove"==e.type&&1>=e.clientX&&0==e.clientY&&0==e.button)e.stopPropagation();else{var t=this.getRelativeToSurfaceXY(),o=this.workspace.moveDrag(e);if(Blockly.dragMode_==Blockly.DRAG_STICKY&&goog.math.Coordinate.distance(t,o)*this.workspace.scale>Blockly.DRAG_RADIUS){if(Blockly.dragMode_=Blockly.DRAG_FREE,Blockly.longStop_(),this.parentBlock_){this.unplug();var n=this.getSvgRoot();n.translate_="translate("+o.x+","+o.y+")",this.disconnectUiEffect()}this.setDragging_(!0)}if(Blockly.dragMode_==Blockly.DRAG_FREE){for(t=goog.math.Coordinate.difference(t,this.dragStartXY_),n=this.getSvgRoot(),n.translate_="translate("+o.x+","+o.y+")",n.setAttribute("transform",n.translate_+n.skew_),o=0;o<this.draggedBubbles_.length;o++)n=this.draggedBubbles_[o],n.bubble.setIconLocation(goog.math.Coordinate.sum(n,t));n=this.getConnections_(!1),(o=this.lastConnectionInStack_())&&o!=this.nextConnection&&n.push(o);var i=null,l=null,s=Blockly.SNAP_RADIUS;for(o=0;o<n.length;o++){var r=n[o],a=r.closest(s,t);a.connection&&(i=a.connection,l=r,s=a.radius)}Blockly.highlightedConnection_&&Blockly.highlightedConnection_!=i&&(Blockly.highlightedConnection_.unhighlight(),Blockly.highlightedConnection_=null,Blockly.localConnection_=null),i&&i!=Blockly.highlightedConnection_&&(i.highlight(),Blockly.highlightedConnection_=i,Blockly.localConnection_=l),this.isDeletable()&&this.workspace.isDeleteArea(e)}e.stopPropagation(),e.preventDefault()}},Blockly.BlockSvg.prototype.updateMovable=function(){this.isMovable()?Blockly.addClass_(this.svgGroup_,"blocklyDraggable"):Blockly.removeClass_(this.svgGroup_,"blocklyDraggable")},Blockly.BlockSvg.prototype.setMovable=function(e){Blockly.BlockSvg.superClass_.setMovable.call(this,e),this.updateMovable()},Blockly.BlockSvg.prototype.setEditable=function(e){if(Blockly.BlockSvg.superClass_.setEditable.call(this,e),this.rendered){e=this.getIcons();for(var t=0;t<e.length;t++)e[t].updateEditable()}},Blockly.BlockSvg.prototype.setShadow=function(e){Blockly.BlockSvg.superClass_.setShadow.call(this,e),this.updateColour()},Blockly.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},Blockly.BlockSvg.prototype.dispose=function(e,t){Blockly.Field.startCache(),Blockly.selected==this&&(this.unselect(),Blockly.terminateDrag_()),Blockly.ContextMenu.currentBlock==this&&Blockly.ContextMenu.hide(),t&&this.rendered&&(this.unplug(e),this.disposeUiEffect()),this.rendered=!1,Blockly.Events.disable();for(var o=this.getIcons(),n=0;n<o.length;n++)o[n].dispose();Blockly.Events.enable(),Blockly.BlockSvg.superClass_.dispose.call(this,e),goog.dom.removeNode(this.svgGroup_),this.svgPath_=this.svgGroup_=null,Blockly.Field.stopCache()},Blockly.BlockSvg.prototype.disposeUiEffect=function(){this.workspace.playAudio("delete");var e=Blockly.getSvgXY_(this.svgGroup_,this.workspace),t=this.svgGroup_.cloneNode(!0);t.translateX_=e.x,t.translateY_=e.y,t.setAttribute("transform","translate("+t.translateX_+","+t.translateY_+")"),this.workspace.getParentSvg().appendChild(t),t.bBox_=t.getBBox(),Blockly.BlockSvg.disposeUiStep_(t,this.RTL,new Date,this.workspace.scale)},Blockly.BlockSvg.disposeUiStep_=function(e,t,o,n){var i=(new Date-o)/150;1<i?goog.dom.removeNode(e):(e.setAttribute("transform","translate("+(e.translateX_+(t?-1:1)*e.bBox_.width*n/2*i)+","+(e.translateY_+e.bBox_.height*n*i)+") scale("+(1-i)*n+")"),setTimeout(function(){Blockly.BlockSvg.disposeUiStep_(e,t,o,n)},10))},Blockly.BlockSvg.prototype.connectionUiEffect=function(){if(this.workspace.playAudio("click"),!(1>this.workspace.scale)){var e=Blockly.getSvgXY_(this.svgGroup_,this.workspace);this.outputConnection?(e.x+=(this.RTL?3:-3)*this.workspace.scale,e.y+=13*this.workspace.scale):this.previousConnection&&(e.x+=(this.RTL?-23:23)*this.workspace.scale,e.y+=3*this.workspace.scale),e=Blockly.createSvgElement("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},this.workspace.getParentSvg()),Blockly.BlockSvg.connectionUiStep_(e,new Date,this.workspace.scale)}},Blockly.BlockSvg.connectionUiStep_=function(e,t,o){var n=(new Date-t)/150;1<n?goog.dom.removeNode(e):(e.setAttribute("r",25*n*o),e.style.opacity=1-n,Blockly.BlockSvg.disconnectUiStop_.pid_=setTimeout(function(){Blockly.BlockSvg.connectionUiStep_(e,t,o)},10))},Blockly.BlockSvg.prototype.disconnectUiEffect=function(){if(this.workspace.playAudio("disconnect"),!(1>this.workspace.scale)){var e=this.getHeightWidth().height;e=Math.atan(10/e)/Math.PI*180,this.RTL||(e*=-1),Blockly.BlockSvg.disconnectUiStep_(this.svgGroup_,e,new Date)}},Blockly.BlockSvg.disconnectUiStep_=function(e,t,o){var n=(new Date-o)/200;1<n?e.skew_="":(e.skew_="skewX("+Math.round(Math.sin(n*Math.PI*3)*(1-n)*t)+")",Blockly.BlockSvg.disconnectUiStop_.group=e,Blockly.BlockSvg.disconnectUiStop_.pid=setTimeout(function(){Blockly.BlockSvg.disconnectUiStep_(e,t,o)},10)),e.setAttribute("transform",e.translate_+e.skew_)},Blockly.BlockSvg.disconnectUiStop_=function(){if(Blockly.BlockSvg.disconnectUiStop_.group){clearTimeout(Blockly.BlockSvg.disconnectUiStop_.pid);var e=Blockly.BlockSvg.disconnectUiStop_.group;e.skew_="",e.setAttribute("transform",e.translate_),Blockly.BlockSvg.disconnectUiStop_.group=null}},Blockly.BlockSvg.disconnectUiStop_.pid=0,Blockly.BlockSvg.disconnectUiStop_.group=null,Blockly.BlockSvg.prototype.updateColour=function(){if(!this.disabled){var e=this.getColour();goog.color.hexToRgb(e),this.svgPath_.setAttribute("fill",e),e=this.getIcons();for(var t=0;t<e.length;t++)e[t].updateColour();for(e=0;t=this.inputList[e];e++)for(var o,n=0;o=t.fieldRow[n];n++)o.setText(null)}},Blockly.BlockSvg.prototype.updateDisabled=function(){var e=Blockly.hasClass_(this.svgGroup_,"blocklyDisabled");this.disabled||this.getInheritedDisabled()||!this.inTask?e||(Blockly.addClass_(this.svgGroup_,"blocklyDisabled"),this.svgPath_.setAttribute("stroke","#000000")):e&&(Blockly.removeClass_(this.svgGroup_,"blocklyDisabled"),this.svgPath_.setAttribute("stroke","none"),this.updateColour()),e=this.getChildren();for(var t,o=0;t=e[o];o++)t.updateDisabled()},Blockly.BlockSvg.prototype.getCommentText=function(){return this.comment?this.comment.getText().replace(/\s+$/,"").replace(/ +\n/g,"\n"):""},Blockly.BlockSvg.prototype.setCommentText=function(e){var t=!1;goog.isString(e)?(this.comment||(this.comment=new Blockly.Comment(this),t=!0),this.comment.setText(e)):this.comment&&(this.comment.dispose(),t=!0),t&&this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.setWarningText=function(e,t){this.setWarningText.pid_||(this.setWarningText.pid_=Object.create(null));var o=t||"";if(o)this.setWarningText.pid_[o]&&(clearTimeout(this.setWarningText.pid_[o]),delete this.setWarningText.pid_[o]);else for(var n in this.setWarningText.pid_)clearTimeout(this.setWarningText.pid_[n]),delete this.setWarningText.pid_[n];if(Blockly.dragMode_==Blockly.DRAG_FREE){var i=this;this.setWarningText.pid_[o]=setTimeout(function(){i.workspace&&(delete i.setWarningText.pid_[o],i.setWarningText(e,o))},100)}else{this.isInFlyout&&(e=null),n=this.getSurroundParent();for(var l=null;n;)n.isCollapsed()&&(l=n),n=n.getSurroundParent();l&&l.setWarningText(e,"collapsed "+this.id+" "+o),n=!1,goog.isString(e)?(this.warning||(this.warning=new Blockly.Warning(this),n=!0),this.warning.setText(e,o)):this.warning&&!o?(this.warning.dispose(),n=!0):this.warning&&(n=this.warning.getText(),this.warning.setText("",o),(l=this.warning.getText())||this.warning.dispose(),n=n==l),n&&this.rendered&&(this.render(),this.bumpNeighbours_())}},Blockly.BlockSvg.prototype.setErrorText=function(e,t){this.setErrorText.pid_||(this.setErrorText.pid_=Object.create(null));var o=t||"";if(o)this.setErrorText.pid_[o]&&(clearTimeout(this.setErrorText.pid_[o]),delete this.setErrorText.pid_[o]);else for(var n in this.setErrorText.pid_)clearTimeout(this.setErrorText.pid_[n]),delete this.setErrorText.pid_[n];if(2==Blockly.dragMode_){var i=this;this.setErrorText.pid_[o]=setTimeout(function(){i.workspace&&(delete i.setErrorText.pid_[o],i.setErrorText(e,o))},100)}else{this.isInFlyout&&(e=null),n=this.getSurroundParent();for(var l=null;n;)n.isCollapsed()&&(l=n),n=n.getSurroundParent();l&&l.setErrorText(e,"collapsed "+this.id+" "+o),n=!1,goog.isString(e)?(this.error||(this.error=new Blockly.Error(this),n=!0),this.error.setText(e,o)):this.error&&!o?(this.error.dispose(),n=!0):this.error&&(n=this.error.getText(),this.error.setText("",o),(l=this.error.getText())||this.error.dispose(),n=n==l),n&&this.rendered&&(this.render(),this.bumpNeighbours_())}},Blockly.BlockSvg.prototype.setMutator=function(e){this.mutator&&this.mutator!==e&&this.mutator.dispose(),e&&(e.block_=this,this.mutator=e,e.createIcon())},Blockly.BlockSvg.prototype.setMutatorPlus=function(e){this.mutatorPlus&&this.mutatorPlus!==e&&this.mutatorPlus.dispose(),e&&(e.block_=this,this.mutatorPlus=e,this.rendered&&this.mutatorPlus.createIcon())},Blockly.BlockSvg.prototype.setMutatorMinus=function(e){this.mutatorMinus&&this.mutatorMinus!==e&&this.mutatorMinus.dispose(),e&&(e.block_=this,this.mutatorMinus=e,this.rendered&&this.mutatorMinus.createIcon())},Blockly.BlockSvg.prototype.setDisabled=function(e){this.disabled!=e&&(Blockly.BlockSvg.superClass_.setDisabled.call(this,e),this.rendered&&this.updateDisabled())},Blockly.BlockSvg.prototype.setInTask=function(e){this.inTask!=e&&(Blockly.BlockSvg.superClass_.setInTask.call(this,e),this.rendered&&this.updateDisabled())},Blockly.BlockSvg.prototype.addSelect=function(){Blockly.addClass_(this.svgGroup_,"blocklySelected"),this.svgGroup_.parentNode.appendChild(this.svgGroup_)},Blockly.BlockSvg.prototype.removeSelect=function(){Blockly.removeClass_(this.svgGroup_,"blocklySelected")},Blockly.BlockSvg.prototype.addDragging=function(){Blockly.addClass_(this.svgGroup_,"blocklyDragging")},Blockly.BlockSvg.prototype.removeDragging=function(){Blockly.removeClass_(this.svgGroup_,"blocklyDragging")},Blockly.BlockSvg.prototype.setColour=function(e){Blockly.BlockSvg.superClass_.setColour.call(this,e),this.rendered&&this.updateColour()},Blockly.BlockSvg.prototype.setPreviousStatement=function(e,t){Blockly.BlockSvg.superClass_.setPreviousStatement.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.setNextStatement=function(e,t){Blockly.BlockSvg.superClass_.setNextStatement.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.setOutput=function(e,t){Blockly.BlockSvg.superClass_.setOutput.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.setInputsInline=function(e){Blockly.BlockSvg.superClass_.setInputsInline.call(this,e),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.removeInput=function(e,t){Blockly.BlockSvg.superClass_.removeInput.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.moveNumberedInputBefore=function(e,t){Blockly.BlockSvg.superClass_.moveNumberedInputBefore.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.appendInput_=function(e,t){var o=Blockly.BlockSvg.superClass_.appendInput_.call(this,e,t);return this.rendered&&(this.render(),this.bumpNeighbours_()),o},Blockly.BlockSvg.prototype.getConnections_=function(e){var t=[];if((e||this.rendered)&&(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_)){e=0;for(var o;o=this.inputList[e];e++)o.connection&&t.push(o.connection)}return t},Blockly.BlockSvg.prototype.makeConnection_=function(e){return new Blockly.RenderedConnection(this,e)},Blockly.BlockSvg.render={};Blockly.BlockSvg.SEP_SPACE_X=10;Blockly.BlockSvg.SEP_SPACE_Y=10,Blockly.BlockSvg.INLINE_PADDING_Y=5,Blockly.BlockSvg.MIN_BLOCK_Y=25,Blockly.BlockSvg.TAB_HEIGHT=20,Blockly.BlockSvg.TAB_WIDTH=8,Blockly.BlockSvg.NOTCH_WIDTH=30,Blockly.BlockSvg.CORNER_RADIUS=2,Blockly.BlockSvg.START_HAT=!0,Blockly.BlockSvg.START_HAT_HEIGHT=15,Blockly.BlockSvg.START_HAT_PATH="c 30,-"+Blockly.BlockSvg.START_HAT_HEIGHT+" 70,-"+Blockly.BlockSvg.START_HAT_HEIGHT+" 100,0",Blockly.BlockSvg.START_HAT_HIGHLIGHT_LTR="c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5",Blockly.BlockSvg.START_HAT_HIGHLIGHT_RTL="m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7",Blockly.BlockSvg.DISTANCE_45_INSIDE=(1-Math.SQRT1_2)*(Blockly.BlockSvg.CORNER_RADIUS-.5)+.5,Blockly.BlockSvg.DISTANCE_45_OUTSIDE=(1-Math.SQRT1_2)*(Blockly.BlockSvg.CORNER_RADIUS+.5)-.5,Blockly.BlockSvg.NOTCH_PATH_LEFT="h 2.5l 5, 5 5, -5 h 2.5",Blockly.BlockSvg.NOTCH_PATH_RIGHT="h -3.5l -4, 4 -4, -4 h -3.5",Blockly.BlockSvg.JAGGED_TEETH="l 8,0 0,4 8,4 -16,8 8,4",Blockly.BlockSvg.JAGGED_TEETH_HEIGHT=20,Blockly.BlockSvg.JAGGED_TEETH_WIDTH=15,Blockly.BlockSvg.TAB_PATH_DOWN_INNER="v 4.1 l-5.154 -0.469c0 0 -1.096 3.125 -1.33 4.656s-0.25 3.703 0.406 5.078s 1.984 2.688 3.484 2.953s2.375 0.203 2.594 0.219 v 3.5",Blockly.BlockSvg.TAB_PATH_DOWN_OUTER="v -5 c-4.217 0.097 -4.471 -0.54 -5.281 -1.609c-1.109 -1.46 -1.159 -3.82 -0.159 -7.12l0.33 -1.061l5.11 0.44 v -5.2",Blockly.BlockSvg.TAB_PATH_DOWN_SELECTED="M -1, 4.6 l-4.892 -0.446l-0.561 1.8c-1.109 3.66 -1.01 6.28 0.32 8.021c0.972 1.289 1.758 2.015 5.132 2.015 z",Blockly.BlockSvg.TOP_LEFT_CORNER_START="m 0,"+Blockly.BlockSvg.CORNER_RADIUS,Blockly.BlockSvg.TOP_LEFT_CORNER="A "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,1 "+Blockly.BlockSvg.CORNER_RADIUS+",0",Blockly.BlockSvg.INNER_TOP_LEFT_CORNER=Blockly.BlockSvg.NOTCH_PATH_RIGHT+" h -"+(Blockly.BlockSvg.NOTCH_WIDTH-15+1-Blockly.BlockSvg.CORNER_RADIUS)+" a "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,0 -"+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS,Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER="a "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,0 "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS,Blockly.BlockSvg.prototype.render=function(e){Blockly.Field.startCache(),this.rendered=!0;var t=Blockly.BlockSvg.SEP_SPACE_X;this.RTL&&(t=-t);for(var o=this.getIcons(),n=0;n<o.length;n++)t=o[n].renderIcon(t);t+=this.RTL?Blockly.BlockSvg.SEP_SPACE_X:-Blockly.BlockSvg.SEP_SPACE_X,o=this.renderCompute_(t),this.renderDraw_(t,o),!1!==e&&((e=this.getParent())?e.render(!0):Blockly.asyncSvgResize(this.workspace)),Blockly.Field.stopCache()},Blockly.BlockSvg.prototype.renderFields_=function(e,t,o){o+=Blockly.BlockSvg.INLINE_PADDING_Y,this.RTL&&(t=-t);for(var n,i=0;n=e[i];i++){var l=n.getSvgRoot();l&&(this.RTL?(t-=n.renderSep+n.renderWidth,l.setAttribute("transform","translate("+t+","+o+")"),n.renderWidth&&(t-=Blockly.BlockSvg.SEP_SPACE_X)):(l.setAttribute("transform","translate("+(t+n.renderSep)+","+o+")"),n.renderWidth&&(t+=n.renderSep+n.renderWidth+Blockly.BlockSvg.SEP_SPACE_X)))}return this.RTL?-t:t},Blockly.BlockSvg.prototype.renderCompute_=function(e){var t=this.inputList,o=[];o.rightEdge=e+2*Blockly.BlockSvg.SEP_SPACE_X,(this.previousConnection||this.nextConnection)&&(o.rightEdge=Math.max(o.rightEdge,Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.SEP_SPACE_X));for(var n,i=0,l=0,s=!1,r=!1,a=!1,c=void 0,g=this.getInputsInline()&&!this.isCollapsed(),u=0;n=t[u];u++)if(n.isVisible()){if(g&&c&&c!=Blockly.NEXT_STATEMENT&&n.type!=Blockly.NEXT_STATEMENT)var p=o[o.length-1];else c=n.type,p=[],p.type=g&&n.type!=Blockly.NEXT_STATEMENT?Blockly.BlockSvg.INLINE:n.type,p.height=0,o.push(p);if(p.push(n),n.renderHeight=Blockly.BlockSvg.MIN_BLOCK_Y,n.renderWidth=g&&n.type==Blockly.INPUT_VALUE?Blockly.BlockSvg.TAB_WIDTH+1.25*Blockly.BlockSvg.SEP_SPACE_X:0,n.connection&&n.connection.isConnected()){var h=n.connection.targetBlock().getHeightWidth();n.renderHeight=Math.max(n.renderHeight,h.height),n.renderWidth=Math.max(n.renderWidth,h.width)}g||u!=t.length-1?!g&&n.type==Blockly.INPUT_VALUE&&t[u+1]&&t[u+1].type==Blockly.NEXT_STATEMENT&&n.renderHeight--:n.renderHeight--,p.height=Math.max(p.height,n.renderHeight),n.fieldWidth=0,1==o.length&&(n.fieldWidth+=this.RTL?-e:e),h=!1;for(var d,y=0;d=n.fieldRow[y];y++){0!=y&&(n.fieldWidth+=Blockly.BlockSvg.SEP_SPACE_X);var _=d.getSize();d.renderWidth=_.width,d.renderSep=h&&d.EDITABLE?Blockly.BlockSvg.SEP_SPACE_X:0,n.fieldWidth+=d.renderWidth+d.renderSep,p.height=Math.max(p.height,_.height),h=d.EDITABLE}p.type!=Blockly.BlockSvg.INLINE&&(p.type==Blockly.NEXT_STATEMENT?(r=!0,l=Math.max(l,n.fieldWidth)):(p.type==Blockly.INPUT_VALUE?s=!0:p.type==Blockly.DUMMY_INPUT&&(a=!0),i=Math.max(i,n.fieldWidth)))}for(e=0;p=o[e];e++)if(p.thicker=!1,p.type==Blockly.BlockSvg.INLINE)for(t=0;n=p[t];t++)if(n.type==Blockly.INPUT_VALUE){p.height+=2*Blockly.BlockSvg.INLINE_PADDING_Y,p.thicker=!0;break}return o.statementEdge=2*Blockly.BlockSvg.SEP_SPACE_X+l,r&&(o.rightEdge=Math.max(o.rightEdge,o.statementEdge+Blockly.BlockSvg.NOTCH_WIDTH)),s?o.rightEdge=Math.max(o.rightEdge,i+2*Blockly.BlockSvg.SEP_SPACE_X+Blockly.BlockSvg.TAB_WIDTH):a&&(o.rightEdge=Math.max(o.rightEdge,i+2*Blockly.BlockSvg.SEP_SPACE_X)),o.hasValue=s,o.hasStatement=r,o.hasDummy=a,o},Blockly.BlockSvg.prototype.renderDraw_=function(e,t){if(this.startHat_=!1,this.height=0,this.outputConnection)this.squareBottomLeftCorner_=this.squareTopLeftCorner_=!0;else{if(this.squareBottomLeftCorner_=this.squareTopLeftCorner_=!1,this.previousConnection){var o=this.previousConnection.targetBlock();o&&o.getNextBlock()==this&&(this.squareTopLeftCorner_=!0)}else Blockly.BlockSvg.START_HAT&&!this.PROPERTY_NOHAT&&(this.startHat_=this.squareTopLeftCorner_=!0,this.height+=Blockly.BlockSvg.START_HAT_HEIGHT,t.rightEdge=Math.max(t.rightEdge,100));this.getNextBlock()&&(this.squareBottomLeftCorner_=!0)}o=this.getRelativeToSurfaceXY();var n=[],i=[],l=[];this.renderDrawTop_(n,l,o,t.rightEdge);var s=this.renderDrawRight_(n,l,i,[],o,t,e);this.renderDrawBottom_(n,l,o,s),this.renderDrawLeft_(n,l,o,s),o=n.join(" ")+"\n"+i.join(" "),this.svgPath_.setAttribute("d",o),this.RTL&&this.svgPath_.setAttribute("transform","scale(-1 1)")},Blockly.BlockSvg.prototype.renderDrawTop_=function(e,t,o,n){this.squareTopLeftCorner_?(e.push("m 0,0"),t.push("m 0.5,0.5"),this.startHat_&&(e.push(Blockly.BlockSvg.START_HAT_PATH),t.push(this.RTL?Blockly.BlockSvg.START_HAT_HIGHLIGHT_RTL:Blockly.BlockSvg.START_HAT_HIGHLIGHT_LTR))):(e.push(Blockly.BlockSvg.TOP_LEFT_CORNER_START),t.push(this.RTL?Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_RTL:Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_LTR),e.push(Blockly.BlockSvg.TOP_LEFT_CORNER),t.push(Blockly.BlockSvg.TOP_LEFT_CORNER_HIGHLIGHT)),this.previousConnection&&(e.push("H",Blockly.BlockSvg.NOTCH_WIDTH-15),t.push("H",Blockly.BlockSvg.NOTCH_WIDTH-15),e.push(Blockly.BlockSvg.NOTCH_PATH_LEFT),t.push(Blockly.BlockSvg.NOTCH_PATH_LEFT_HIGHLIGHT),this.previousConnection.moveTo(o.x+(this.RTL?-Blockly.BlockSvg.NOTCH_WIDTH:Blockly.BlockSvg.NOTCH_WIDTH),o.y)),e.push("H",n),t.push("H",n-.5),this.width=n},Blockly.BlockSvg.prototype.renderDrawRight_=function(e,t,o,n,i,l,s){for(n=0;n<this.svgPathInput_.length;n++)this.svgGroup_.removeChild(this.svgPathInput_[n]);this.svgPathInput_=[],n=0;for(var r,a,c,g=0;c=l[g];g++){var u=Blockly.BlockSvg.SEP_SPACE_X;if(0==g&&(u+=this.RTL?-s:s),this.isCollapsed()){var p=c[0];r=n,this.renderFields_(p.fieldRow,u,r),e.push(Blockly.BlockSvg.JAGGED_TEETH),e.push("v",c.height-Blockly.BlockSvg.JAGGED_TEETH_HEIGHT),this.width+=Blockly.BlockSvg.JAGGED_TEETH_WIDTH}else if(c.type==Blockly.BlockSvg.INLINE){for(var h=0;p=c[h];h++)r=n,c.thicker&&(r+=Blockly.BlockSvg.INLINE_PADDING_Y),u=this.renderFields_(p.fieldRow,u,r),p.type!=Blockly.DUMMY_INPUT&&(u+=p.renderWidth+Blockly.BlockSvg.SEP_SPACE_X),p.type==Blockly.INPUT_VALUE&&(o.push("M",u-Blockly.BlockSvg.SEP_SPACE_X+","+(n+Blockly.BlockSvg.INLINE_PADDING_Y)),o.push("h",Blockly.BlockSvg.TAB_WIDTH-2-p.renderWidth),o.push("v","1"),o.push(Blockly.BlockSvg.TAB_PATH_DOWN_INNER),this.drawInputType_(p,g,u-Blockly.BlockSvg.SEP_SPACE_X+Blockly.BlockSvg.TAB_WIDTH-2-p.renderWidth,n+Blockly.BlockSvg.INLINE_PADDING_Y+1),o.push("v",p.renderHeight-Blockly.BlockSvg.TAB_HEIGHT),o.push("h",p.renderWidth+2-Blockly.BlockSvg.TAB_WIDTH),o.push("z"),r=this.RTL?i.x-u-Blockly.BlockSvg.TAB_WIDTH+Blockly.BlockSvg.SEP_SPACE_X+p.renderWidth+1:i.x+u+Blockly.BlockSvg.TAB_WIDTH-Blockly.BlockSvg.SEP_SPACE_X-p.renderWidth-1,a=i.y+n+Blockly.BlockSvg.INLINE_PADDING_Y+1,p.connection.moveTo(r,a),p.connection.isConnected()&&p.connection.tighten_());u=Math.max(u,l.rightEdge),this.width=Math.max(this.width,u),e.push("H",u),e.push("v",c.height)}else c.type==Blockly.INPUT_VALUE?(p=c[0],r=n,p.align!=Blockly.ALIGN_LEFT&&(h=l.rightEdge-p.fieldWidth-Blockly.BlockSvg.TAB_WIDTH-2*Blockly.BlockSvg.SEP_SPACE_X,p.align==Blockly.ALIGN_RIGHT?u+=h:p.align==Blockly.ALIGN_CENTRE&&(u+=h/2)),this.renderFields_(p.fieldRow,u,r),e.push(Blockly.BlockSvg.TAB_PATH_DOWN_INNER),this.drawInputType_(p,g,l.rightEdge,n),e.push("v",c.height-Blockly.BlockSvg.TAB_HEIGHT),r=i.x+(this.RTL?-l.rightEdge-1:l.rightEdge+1),a=i.y+n,p.connection.moveTo(r,a),p.connection.isConnected()&&(p.connection.tighten_(),this.width=Math.max(this.width,l.rightEdge+p.connection.targetBlock().getHeightWidth().width-Blockly.BlockSvg.TAB_WIDTH+1))):c.type==Blockly.DUMMY_INPUT?(p=c[0],r=n,p.align!=Blockly.ALIGN_LEFT&&(h=l.rightEdge-p.fieldWidth-2*Blockly.BlockSvg.SEP_SPACE_X,l.hasValue&&(h-=Blockly.BlockSvg.TAB_WIDTH),p.align==Blockly.ALIGN_RIGHT?u+=h:p.align==Blockly.ALIGN_CENTRE&&(u+=h/2)),this.renderFields_(p.fieldRow,u,r),e.push("v",c.height),this.RTL&&t.push("v",c.height-1)):c.type==Blockly.NEXT_STATEMENT&&(p=c[0],0==g&&(e.push("v",Blockly.BlockSvg.SEP_SPACE_Y),this.RTL&&t.push("v",Blockly.BlockSvg.SEP_SPACE_Y-1),n+=Blockly.BlockSvg.SEP_SPACE_Y),r=n,p.align!=Blockly.ALIGN_LEFT&&(h=l.statementEdge-p.fieldWidth-2*Blockly.BlockSvg.SEP_SPACE_X,p.align==Blockly.ALIGN_RIGHT?u+=h:p.align==Blockly.ALIGN_CENTRE&&(u+=h/2)),this.renderFields_(p.fieldRow,u,r),u=l.statementEdge+Blockly.BlockSvg.NOTCH_WIDTH,e.push("H",u+1),e.push(Blockly.BlockSvg.INNER_TOP_LEFT_CORNER),e.push("v",c.height-2*Blockly.BlockSvg.CORNER_RADIUS),e.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER),e.push("H",l.rightEdge),r=i.x+(this.RTL?-u:u+1),a=i.y+n+1,p.connection.moveTo(r,a),p.connection.isConnected()&&(p.connection.tighten_(),this.width=Math.max(this.width,l.statementEdge+p.connection.targetBlock().getHeightWidth().width)),g==l.length-1||l[g+1].type==Blockly.NEXT_STATEMENT)&&(e.push("v",Blockly.BlockSvg.SEP_SPACE_Y),n+=Blockly.BlockSvg.SEP_SPACE_Y);n+=c.height}return l.length||(n=Blockly.BlockSvg.MIN_BLOCK_Y,e.push("V",n)),n},Blockly.BlockSvg.prototype.renderDrawBottom_=function(e,t,o,n){this.height+=n+1,this.nextConnection&&(e.push("H",Blockly.BlockSvg.NOTCH_WIDTH+" "+Blockly.BlockSvg.NOTCH_PATH_RIGHT),this.nextConnection.moveTo(this.RTL?o.x-Blockly.BlockSvg.NOTCH_WIDTH:o.x+Blockly.BlockSvg.NOTCH_WIDTH,o.y+n+1),this.nextConnection.isConnected()&&this.nextConnection.tighten_(),this.height+=4),this.squareBottomLeftCorner_?e.push("H 0"):(e.push("H",Blockly.BlockSvg.CORNER_RADIUS),e.push("a",Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,1 -"+Blockly.BlockSvg.CORNER_RADIUS+",-"+Blockly.BlockSvg.CORNER_RADIUS))},Blockly.BlockSvg.prototype.renderDrawLeft_=function(e,t,o,n){this.svgPathOutput_&&this.svgPathOutput_.parentNode&&this.svgPathOutput_.parentNode.removeChild(this.svgPathOutput_),this.outputConnection&&(this.outputConnection.moveTo(o.x,o.y),e.push("V",Blockly.BlockSvg.TAB_HEIGHT),this.outputConnection.check_?(this.svgPathOutput_=Blockly.createSvgElement("path",{d:"M 0,"+Blockly.BlockSvg.TAB_HEIGHT+Blockly.BlockSvg.TAB_PATH_DOWN_OUTER+"z",fill:Blockly.DATA_TYPE[this.outputConnection.check_[0]],class:"outputType"},null),this.svgGroup_.insertBefore(this.svgPathOutput_,this.svgPathSelected_),this.width+=Blockly.BlockSvg.TAB_WIDTH):e.push(Blockly.BlockSvg.TAB_PATH_DOWN_OUTER)),e.push("z")},Blockly.BlockSvg.prototype.drawInputType_=function(e,t,o,n){e.connection.check_&&!e.connection.targetConnection&&1==e.connection.check_.length&&(e=Blockly.createSvgElement("path",{d:"M "+o+","+(n+2.6)+"l-6.188 -0.547c0 0 -1.781 4.781 -1.938 7.281s0.578 4.594 0.984 5.281s1.719 2.234 3.016 2.797s3.172 0.641 4.125 0.641",fill:"none",stroke:Blockly.DATA_TYPE[e.connection.check_[0]],"stroke-width":"3px"},null),this.svgPathInput_.push(e),this.svgGroup_.insertBefore(this.svgPathInput_[this.svgPathInput_.length-1],this.svgPathSelected_))},Blockly.Events={},Blockly.Events.group_="",Blockly.Events.recordUndo=!0,Blockly.Events.disabled_=0,Blockly.Events.CREATE="create",Blockly.Events.DELETE="delete",Blockly.Events.CHANGE="change",Blockly.Events.MOVE="move",Blockly.Events.UI="ui",Blockly.Events.FIRE_QUEUE_=[],Blockly.Events.fire=function(e){Blockly.Events.isEnabled()&&(Blockly.Events.FIRE_QUEUE_.length||setTimeout(Blockly.Events.fireNow_,0),Blockly.Events.FIRE_QUEUE_.push(e))},Blockly.Events.fireNow_=function(){for(var e,t=Blockly.Events.filter(Blockly.Events.FIRE_QUEUE_,!0),o=Blockly.Events.FIRE_QUEUE_.length=0;e=t[o];o++){var n=Blockly.Workspace.getById(e.workspaceId);n&&n.fireChangeListener(e)}},Blockly.Events.filter=function(e,t){var o=goog.array.clone(e);t||o.reverse();for(var n,i=0;n=o[i];i++)for(var l,s=i+1;l=o[s];s++)n.type==l.type&&n.blockId==l.blockId&&n.workspaceId==l.workspaceId&&(n.type==Blockly.Events.MOVE?(n.newParentId=l.newParentId,n.newInputName=l.newInputName,n.newCoordinate=l.newCoordinate,o.splice(s,1),s--):n.type==Blockly.Events.CHANGE&&n.element==l.element&&n.name==l.name?(n.newValue=l.newValue,o.splice(s,1),s--):n.type!=Blockly.Events.UI||"click"!=l.element||"commentOpen"!=n.element&&"mutatorOpen"!=n.element&&"warningOpen"!=n.element||(n.newValue=l.newValue,o.splice(s,1),s--));for(i=o.length-1;0<=i;i--)o[i].isNull()&&o.splice(i,1);for(t||o.reverse(),i=1;n=o[i];i++)n.type==Blockly.Events.CHANGE&&"mutation"==n.element&&o.unshift(o.splice(i,1)[0]);return o},Blockly.Events.clearPendingUndo=function(){for(var e,t=0;e=Blockly.Events.FIRE_QUEUE_[t];t++)e.recordUndo=!1},Blockly.Events.disable=function(){Blockly.Events.disabled_++},Blockly.Events.enable=function(){Blockly.Events.disabled_--},Blockly.Events.isEnabled=function(){return 0==Blockly.Events.disabled_},Blockly.Events.getGroup=function(){return Blockly.Events.group_},Blockly.Events.setGroup=function(e){Blockly.Events.group_="boolean"==typeof e?e?Blockly.genUid():"":e},Blockly.Events.getDescendantIds_=function(e){var t=[];e=e.getDescendants();for(var o,n=0;o=e[n];n++)t[n]=o.id;return t},Blockly.Events.fromJson=function(e,t){switch(e.type){case Blockly.Events.CREATE:var o=new Blockly.Events.Create(null);break;case Blockly.Events.DELETE:o=new Blockly.Events.Delete(null);break;case Blockly.Events.CHANGE:o=new Blockly.Events.Change(null);break;case Blockly.Events.MOVE:o=new Blockly.Events.Move(null);break;case Blockly.Events.UI:o=new Blockly.Events.Ui(null);break;default:throw"Unknown event type."}return o.fromJson(e),o.workspaceId=t.id,o},Blockly.Events.Abstract=function(e){e&&(this.blockId=e.id,this.workspaceId=e.workspace.id),this.group=Blockly.Events.group_,this.recordUndo=Blockly.Events.recordUndo},Blockly.Events.Abstract.prototype.toJson=function(){var e={type:this.type,blockId:this.blockId};return this.group&&(e.group=this.group),e},Blockly.Events.Abstract.prototype.fromJson=function(e){this.blockId=e.blockId,this.group=e.group},Blockly.Events.Abstract.prototype.isNull=function(){return!1},Blockly.Events.Abstract.prototype.run=function(e){},Blockly.Events.Create=function(e){e&&(Blockly.Events.Create.superClass_.constructor.call(this,e),this.xml=Blockly.Xml.blockToDomWithXY(e,[]),this.ids=Blockly.Events.getDescendantIds_(e))},goog.inherits(Blockly.Events.Create,Blockly.Events.Abstract),Blockly.Events.Create.prototype.type=Blockly.Events.CREATE,Blockly.Events.Create.prototype.toJson=function(){var e=Blockly.Events.Create.superClass_.toJson.call(this);return e.xml=Blockly.Xml.domToText(this.xml),e.ids=this.ids,e},Blockly.Events.Create.prototype.fromJson=function(e){Blockly.Events.Create.superClass_.fromJson.call(this,e),this.xml=Blockly.Xml.textToDom("<xml>"+e.xml+"</xml>").firstChild,this.ids=e.ids},Blockly.Events.Create.prototype.run=function(e){var t=Blockly.Workspace.getById(this.workspaceId);if(e)e=goog.dom.createDom("xml"),e.appendChild(this.xml),Blockly.Xml.domToWorkspace(e,t);else{e=0;for(var o;o=this.ids[e];e++){var n=t.getBlockById(o);n?n.dispose(!1,!0):o==this.blockId&&console.warn("Can't uncreate non-existant block: "+o)}}},Blockly.Events.Delete=function(e){if(e){if(e.getParent())throw"Connected blocks cannot be deleted.";Blockly.Events.Delete.superClass_.constructor.call(this,e),this.oldXml=Blockly.Xml.blockToDomWithXY(e,[]),this.ids=Blockly.Events.getDescendantIds_(e)}},goog.inherits(Blockly.Events.Delete,Blockly.Events.Abstract),Blockly.Events.Delete.prototype.type=Blockly.Events.DELETE,Blockly.Events.Delete.prototype.toJson=function(){var e=Blockly.Events.Delete.superClass_.toJson.call(this);return e.ids=this.ids,e},Blockly.Events.Delete.prototype.fromJson=function(e){Blockly.Events.Delete.superClass_.fromJson.call(this,e),this.ids=e.ids},Blockly.Events.Delete.prototype.run=function(e){var t=Blockly.Workspace.getById(this.workspaceId);if(e){e=0;for(var o;o=this.ids[e];e++){var n=t.getBlockById(o);n?n.dispose(!1,!0):o==this.blockId&&console.warn("Can't delete non-existant block: "+o)}}else e=goog.dom.createDom("xml"),e.appendChild(this.oldXml),Blockly.Xml.domToWorkspace(e,t)},Blockly.Events.Change=function(e,t,o,n,i){e&&(Blockly.Events.Change.superClass_.constructor.call(this,e),this.element=t,this.name=o,this.oldValue=n,this.newValue=i)},goog.inherits(Blockly.Events.Change,Blockly.Events.Abstract),Blockly.Events.Change.prototype.type=Blockly.Events.CHANGE,Blockly.Events.Change.prototype.toJson=function(){var e=Blockly.Events.Change.superClass_.toJson.call(this);return e.element=this.element,this.name&&(e.name=this.name),e.newValue=this.newValue,e},Blockly.Events.Change.prototype.fromJson=function(e){Blockly.Events.Change.superClass_.fromJson.call(this,e),this.element=e.element,this.name=e.name,this.newValue=e.newValue},Blockly.Events.Change.prototype.isNull=function(){return this.oldValue==this.newValue;
},Blockly.Events.Change.prototype.run=function(e){var t=Blockly.Workspace.getById(this.workspaceId).getBlockById(this.blockId);if(t)switch(t.mutator&&t.mutator.setVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existant field: "+this.name);break;case"comment":t.setCommentText(e||null);break;case"collapsed":t.setCollapsed(e);break;case"disabled":t.setDisabled(e);break;case"inline":t.setInputsInline(e);break;case"mutation":var o="";if(t.mutationToDom&&(o=(o=t.mutationToDom())&&Blockly.Xml.domToText(o)),t.domToMutation){e=e||"<mutation></mutation>";var n=Blockly.Xml.textToDom("<xml>"+e+"</xml>");t.domToMutation(n.firstChild)}Blockly.Events.fire(new Blockly.Events.Change(t,"mutation",null,o,e));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existant block: "+this.blockId)},Blockly.Events.Move=function(e){e&&(Blockly.Events.Move.superClass_.constructor.call(this,e),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)},goog.inherits(Blockly.Events.Move,Blockly.Events.Abstract),Blockly.Events.Move.prototype.type=Blockly.Events.MOVE,Blockly.Events.Move.prototype.toJson=function(){var e=Blockly.Events.Move.superClass_.toJson.call(this);return this.newParentId&&(e.newParentId=this.newParentId),this.newInputName&&(e.newInputName=this.newInputName),this.newCoordinate&&(e.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y)),e},Blockly.Events.Move.prototype.fromJson=function(e){Blockly.Events.Move.superClass_.fromJson.call(this,e),this.newParentId=e.newParentId,this.newInputName=e.newInputName,e.newCoordinate&&(e=e.newCoordinate.split(","),this.newCoordinate=new goog.math.Coordinate(parseFloat(e[0]),parseFloat(e[1])))},Blockly.Events.Move.prototype.recordNew=function(){var e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate},Blockly.Events.Move.prototype.currentLocation_=function(){var e=Blockly.Workspace.getById(this.workspaceId).getBlockById(this.blockId),t={},o=e.getParent();return o?(t.parentId=o.id,(e=o.getInputWithBlock(e))&&(t.inputName=e.name)):t.coordinate=e.getRelativeToSurfaceXY(),t},Blockly.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&goog.math.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},Blockly.Events.Move.prototype.run=function(e){var t=Blockly.Workspace.getById(this.workspaceId),o=t.getBlockById(this.blockId);if(o){var n=e?this.newParentId:this.oldParentId,i=e?this.newInputName:this.oldInputName;e=e?this.newCoordinate:this.oldCoordinate;var l=null;if(n&&(l=t.getBlockById(n),!l))return void console.warn("Can't connect to non-existant block: "+n);if(o.getParent()&&o.unplug(),e)i=o.getRelativeToSurfaceXY(),o.moveBy(e.x-i.x,e.y-i.y);else{if(o=o.outputConnection||o.previousConnection,i){if(t=l.getInput(i))var s=t.connection}else o.type==Blockly.PREVIOUS_STATEMENT&&(s=l.nextConnection);s?o.connect(s):console.warn("Can't connect to non-existant input: "+i)}}else console.warn("Can't move non-existant block: "+this.blockId)},Blockly.Events.Ui=function(e,t,o,n){Blockly.Events.Ui.superClass_.constructor.call(this,e),this.element=t,this.oldValue=o,this.newValue=n,this.recordUndo=!1},goog.inherits(Blockly.Events.Ui,Blockly.Events.Abstract),Blockly.Events.Ui.prototype.type=Blockly.Events.UI,Blockly.Events.Ui.prototype.toJson=function(){var e=Blockly.Events.Ui.superClass_.toJson.call(this);return e.element=this.element,void 0!==this.newValue&&(e.newValue=this.newValue),e},Blockly.Events.Ui.prototype.fromJson=function(e){Blockly.Events.Ui.superClass_.fromJson.call(this,e),this.element=e.element,this.newValue=e.newValue},Blockly.Msg={},goog.getMsgOrig=goog.getMsg,goog.getMsg=function(e,t){var o=goog.getMsg.blocklyMsgMap[e];return o&&(e=Blockly.Msg[o]),goog.getMsgOrig(e,t)},goog.getMsg.blocklyMsgMap={Today:"TODAY"},Blockly.FieldTextInput=function(e,t){Blockly.FieldTextInput.superClass_.constructor.call(this,e,t)},goog.inherits(Blockly.FieldTextInput,Blockly.Field),Blockly.FieldTextInput.FONTSIZE=11,Blockly.FieldTextInput.prototype.CURSOR="text",Blockly.FieldTextInput.prototype.spellcheck_=!0,Blockly.FieldTextInput.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this),Blockly.FieldTextInput.superClass_.dispose.call(this)},Blockly.FieldTextInput.prototype.setValue=function(e){if(null!==e){if(this.sourceBlock_&&this.validator_){var t=this.validator_(e);null!==t&&void 0!==t&&(e=t)}Blockly.Field.prototype.setValue.call(this,e)}},Blockly.FieldTextInput.prototype.setSpellcheck=function(e){this.spellcheck_=e},Blockly.FieldTextInput.prototype.showEditor_=function(e){if(this.workspace_=this.sourceBlock_.workspace,e=e||!1,!e&&(goog.userAgent.MOBILE||goog.userAgent.ANDROID||goog.userAgent.IPAD)){if(e=window.prompt(Blockly.Msg.CHANGE_VALUE_TITLE,this.text_),this.sourceBlock_&&this.validator_){var t=this.validator_(e);void 0!==t&&(e=t)}this.setValue(e)}else{Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_()),t=Blockly.WidgetDiv.DIV;var o=goog.dom.createDom("input","blocklyHtmlInput");o.setAttribute("spellcheck",this.spellcheck_);var n=Blockly.FieldTextInput.FONTSIZE*this.workspace_.scale+"pt";t.style.fontSize=n,o.style.fontSize=n,Blockly.FieldTextInput.htmlInput_=o,t.appendChild(o),o.value=o.defaultValue=this.text_,o.oldValue_=null,this.validate_(),this.resizeEditor_(),e||(o.focus(),o.select()),o.onKeyDownWrapper_=Blockly.bindEvent_(o,"keydown",this,this.onHtmlInputKeyDown_),o.onKeyUpWrapper_=Blockly.bindEvent_(o,"keyup",this,this.onHtmlInputChange_),o.onKeyPressWrapper_=Blockly.bindEvent_(o,"keypress",this,this.onHtmlInputChange_),o.onWorkspaceChangeWrapper_=this.resizeEditor_.bind(this),this.workspace_.addChangeListener(o.onWorkspaceChangeWrapper_)}},Blockly.FieldTextInput.prototype.onHtmlInputKeyDown_=function(e){var t=Blockly.FieldTextInput.htmlInput_;13==e.keyCode?Blockly.WidgetDiv.hide():27==e.keyCode?(t.value=t.defaultValue,Blockly.WidgetDiv.hide()):9==e.keyCode&&(Blockly.WidgetDiv.hide(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())},Blockly.FieldTextInput.prototype.onHtmlInputChange_=function(e){e=Blockly.FieldTextInput.htmlInput_;var t=e.value;t!==e.oldValue_?(e.oldValue_=t,this.setValue(t),this.validate_()):goog.userAgent.WEBKIT&&this.sourceBlock_.render(),this.resizeEditor_()},Blockly.FieldTextInput.prototype.validate_=function(){var e=!0;goog.asserts.assertObject(Blockly.FieldTextInput.htmlInput_);var t=Blockly.FieldTextInput.htmlInput_;this.sourceBlock_&&this.validator_&&(e=this.validator_(t.value)),null===e?Blockly.addClass_(t,"blocklyInvalidInput"):Blockly.removeClass_(t,"blocklyInvalidInput")},Blockly.FieldTextInput.prototype.resizeEditor_=function(){var e=Blockly.WidgetDiv.DIV,t=this.fieldGroup_.getBBox();if(e.style.width=t.width*this.workspace_.scale+"px",e.style.height=t.height*this.workspace_.scale+"px",t=this.getAbsoluteXY_(),this.sourceBlock_.RTL){var o=this.getScaledBBox_();t.x+=o.width,t.x-=e.offsetWidth}t.y+=1,goog.userAgent.GECKO&&Blockly.WidgetDiv.DIV.style.top&&(--t.x,--t.y),goog.userAgent.WEBKIT&&(t.y-=3),e.style.left=t.x+"px",e.style.top=t.y+"px"},Blockly.FieldTextInput.prototype.widgetDispose_=function(){var e=this;return function(){var t=Blockly.FieldTextInput.htmlInput_,o=t.value;if(e.sourceBlock_&&e.validator_){var n=e.validator_(o);null===n?o=t.defaultValue:void 0!==n&&(o=n)}e.setValue(o),e.sourceBlock_.rendered&&e.sourceBlock_.render(),Blockly.unbindEvent_(t.onKeyDownWrapper_),Blockly.unbindEvent_(t.onKeyUpWrapper_),Blockly.unbindEvent_(t.onKeyPressWrapper_),e.workspace_.removeChangeListener(t.onWorkspaceChangeWrapper_),Blockly.FieldTextInput.htmlInput_=null,t=Blockly.WidgetDiv.DIV.style,t.width="auto",t.height="auto",t.fontSize=""}},Blockly.FieldTextInput.numberValidator=function(e){return null===e?null:(e=String(e),e=e.replace(/O/gi,"0"),e=e.replace(/,/g,"."),e=e.replace(/\.(?=.*?\.)/g,""),e=parseFloat(e||0),isNaN(e)?null:String(e))},Blockly.FieldTextInput.nonnegativeIntegerValidator=function(e){return(e=Blockly.FieldTextInput.numberValidator(e))&&(e=String(Math.max(0,Math.floor(e)))),e},Blockly.FieldAngle=function(e,t){this.symbol_=Blockly.createSvgElement("tspan",{},null),this.symbol_.appendChild(document.createTextNode("°")),Blockly.FieldAngle.superClass_.constructor.call(this,e,t)},goog.inherits(Blockly.FieldAngle,Blockly.FieldTextInput),Blockly.FieldAngle.prototype.setValidator=function(e){Blockly.FieldAngle.superClass_.setValidator.call(this,e?function(t){var o=e.call(this,t);if(null===o)var n=o;else void 0===o&&(o=t),n=Blockly.FieldAngle.angleValidator.call(this,o),void 0===n&&(n=o);return n===t?void 0:n}:Blockly.FieldAngle.angleValidator)},Blockly.FieldAngle.ROUND=15,Blockly.FieldAngle.HALF=50,Blockly.FieldAngle.CLOCKWISE=!1,Blockly.FieldAngle.OFFSET=0,Blockly.FieldAngle.WRAP=360,Blockly.FieldAngle.RADIUS=Blockly.FieldAngle.HALF-1,Blockly.FieldAngle.prototype.dispose_=function(){var e=this;return function(){Blockly.FieldAngle.superClass_.dispose_.call(e)(),e.gauge_=null,e.clickWrapper_&&Blockly.unbindEvent_(e.clickWrapper_),e.moveWrapper1_&&Blockly.unbindEvent_(e.moveWrapper1_),e.moveWrapper2_&&Blockly.unbindEvent_(e.moveWrapper2_)}},Blockly.FieldAngle.prototype.showEditor_=function(){Blockly.FieldAngle.superClass_.showEditor_.call(this,goog.userAgent.MOBILE||goog.userAgent.ANDROID||goog.userAgent.IPAD);var e=Blockly.WidgetDiv.DIV;if(e.firstChild){e=Blockly.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:2*Blockly.FieldAngle.HALF+"px",width:2*Blockly.FieldAngle.HALF+"px"},e);var t=Blockly.createSvgElement("circle",{cx:Blockly.FieldAngle.HALF,cy:Blockly.FieldAngle.HALF,r:Blockly.FieldAngle.RADIUS,class:"blocklyAngleCircle"},e);this.gauge_=Blockly.createSvgElement("path",{class:"blocklyAngleGauge"},e),this.line_=Blockly.createSvgElement("line",{x1:Blockly.FieldAngle.HALF,y1:Blockly.FieldAngle.HALF,class:"blocklyAngleLine"},e);for(var o=0;360>o;o+=15)Blockly.createSvgElement("line",{x1:Blockly.FieldAngle.HALF+Blockly.FieldAngle.RADIUS,y1:Blockly.FieldAngle.HALF,x2:Blockly.FieldAngle.HALF+Blockly.FieldAngle.RADIUS-(0==o%45?10:5),y2:Blockly.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+o+","+Blockly.FieldAngle.HALF+","+Blockly.FieldAngle.HALF+")"},e);e.style.marginLeft=15-Blockly.FieldAngle.RADIUS+"px",this.clickWrapper_=Blockly.bindEvent_(e,"click",this,Blockly.WidgetDiv.hide),this.moveWrapper1_=Blockly.bindEvent_(t,"mousemove",this,this.onMouseMove),this.moveWrapper2_=Blockly.bindEvent_(this.gauge_,"mousemove",this,this.onMouseMove),this.updateGraph_()}},Blockly.FieldAngle.prototype.onMouseMove=function(e){var t=this.gauge_.ownerSVGElement.getBoundingClientRect(),o=e.clientX-t.left-Blockly.FieldAngle.HALF;e=e.clientY-t.top-Blockly.FieldAngle.HALF,t=Math.atan(-e/o),isNaN(t)||(t=goog.math.toDegrees(t),0>o?t+=180:0<e&&(t+=360),t=Blockly.FieldAngle.CLOCKWISE?Blockly.FieldAngle.OFFSET+360-t:t-Blockly.FieldAngle.OFFSET,Blockly.FieldAngle.ROUND&&(t=Math.round(t/Blockly.FieldAngle.ROUND)*Blockly.FieldAngle.ROUND),t=Blockly.FieldAngle.angleValidator(t),Blockly.FieldTextInput.htmlInput_.value=t,this.setValue(t),this.validate_(),this.resizeEditor_())},Blockly.FieldAngle.prototype.setText=function(e){Blockly.FieldAngle.superClass_.setText.call(this,e),this.textElement_&&(this.updateGraph_(),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.symbol_,this.textElement_.firstChild):this.textElement_.appendChild(this.symbol_),this.size_.width=0)},Blockly.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var e=Number(this.getText())+Blockly.FieldAngle.OFFSET,t=goog.math.toRadians(e);e=["M ",Blockly.FieldAngle.HALF,",",Blockly.FieldAngle.HALF];var o=Blockly.FieldAngle.HALF,n=Blockly.FieldAngle.HALF;if(!isNaN(t)){var i=goog.math.toRadians(Blockly.FieldAngle.OFFSET),l=Math.cos(i)*Blockly.FieldAngle.RADIUS,s=Math.sin(i)*-Blockly.FieldAngle.RADIUS;Blockly.FieldAngle.CLOCKWISE&&(t=2*i-t),o+=Math.cos(t)*Blockly.FieldAngle.RADIUS,n-=Math.sin(t)*Blockly.FieldAngle.RADIUS,t=Math.abs(Math.floor((t-i)/Math.PI)%2),Blockly.FieldAngle.CLOCKWISE&&(t=1-t),e.push(" l ",l,",",s," A ",Blockly.FieldAngle.RADIUS,",",Blockly.FieldAngle.RADIUS," 0 ",t," ",Number(Blockly.FieldAngle.CLOCKWISE)," ",o,",",n," z")}this.gauge_.setAttribute("d",e.join("")),this.line_.setAttribute("x2",o),this.line_.setAttribute("y2",n)}},Blockly.FieldAngle.angleValidator=function(e){return e=Blockly.FieldTextInput.numberValidator(e),null!==e&&(e%=360,0>e&&(e+=360),e>Blockly.FieldAngle.WRAP&&(e-=360),e=String(e)),e},Blockly.FieldNote=function(e,t){Blockly.FieldNote.superClass_.constructor.call(this,e,t)},goog.inherits(Blockly.FieldNote,Blockly.FieldTextInput),Blockly.FieldNote.WIDTH=15,Blockly.FieldNote.HEIGHT=60,Blockly.FieldNote.NOTENAMES={987.767:"h’’",932.328:"ais’’/b’’",880:"a’’",830.609:"gis’’/as’’",783.991:"g’’ ",739.989:"fis’’/ges’’",698.456:"f’’",659.255:"e’’",622.254:"dis’’/es’’",587.33:"d’’ ",554.365:"cis’’/des’’",523.251:"c’’ ",493.883:"h’",466.164:"ais’/b’ ",440:"a’ ",415.305:"gis’/as’",391.995:"g’",369.994:"fis’/ges’",349.228:"f’",329.628:"e’",311.127:"dis’/es’",293.665:"d’",277.183:"cis’/des’",261.626:"c’ ",246.942:"h",233.082:"ais/b",220:"a",207.652:"gis/as",195.998:"g",184.997:"fis/ges",174.614:"f",164.814:"e",155.563:"dis/es",146.832:"d",138.591:"cis/des",130.813:"c"},Blockly.FieldNote.prototype.dispose_=function(){var e=this;return function(){Blockly.FieldNote.superClass_.dispose_.call(e)(),e.clickWrapper_&&Blockly.unbindEvent_(e.clickWrapper_),e.clickWrapper1_&&Blockly.unbindEvent_(e.clickWrapper1_)}},Blockly.FieldNote.prototype.showEditor_=function(){Blockly.FieldNote.superClass_.showEditor_.call(this,goog.userAgent.MOBILE||goog.userAgent.ANDROID||goog.userAgent.IPAD),Blockly.FieldTextInput.htmlInput_.setAttribute("disabled","true");var e=Blockly.WidgetDiv.DIV;if(e.firstChild){e=Blockly.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:Blockly.FieldNote.HEIGHT+"px",width:22*Blockly.FieldNote.WIDTH+"px"},e);for(var t=[1,3,6,8,10],o=0,n=28;64>n;n++){var i=(n-4)%12;if(-1==t.indexOf(i)){i=Math.round(44e4*Math.pow(2,(n-49)/12))/1e3;var l=i!=this.getValue()?"#ffffff":Blockly.CAT_ACTION_RGB;l=Blockly.createSvgElement("rect",{x:o*Blockly.FieldNote.WIDTH,y:0,width:Blockly.FieldNote.WIDTH,height:Blockly.FieldNote.HEIGHT,fill:l,stroke:"#000000",id:"white"+i},e),Blockly.bindEvent_(l,"mouseover",this,this.onMouseHover),Blockly.bindEvent_(l,"touchstart",this,this.onTouch),Blockly.bindEvent_(l,"touchmove",this,this.onTouch),o++,i==this.getValue()&&(this.selected_=l)}}for(o=0,n=28;64>n;n++)i=(n-4)%12,0<=t.indexOf(i)?(i=Math.round(44e4*Math.pow(2,(n-49)/12))/1e3,l=i!=this.getValue()?"#000000":Blockly.CAT_ACTION_RGB,l=Blockly.createSvgElement("rect",{x:o*Blockly.FieldNote.WIDTH-5,y:0,width:Blockly.FieldNote.WIDTH-5,height:Blockly.FieldNote.HEIGHT-20,fill:l,id:"black"+i},e),Blockly.bindEvent_(l,"mouseover",this,this.onMouseHover),Blockly.bindEvent_(l,"touchstart",this,this.onTouch),Blockly.bindEvent_(l,"touchmove",this,this.onTouch),i==this.getValue()&&(this.selected_=l)):o++;this.clickWrapper_=Blockly.bindEvent_(e,"click",this,Blockly.WidgetDiv.hide),this.clickWrapper1_=Blockly.bindEvent_(e,"touchend",this,Blockly.WidgetDiv.hide)}},Blockly.FieldNote.prototype.onMouseHover=function(e){this.selected_&&(-1!=this.selected_.id.indexOf("white")?this.selected_.setAttribute("fill","#ffffff"):this.selected_.setAttribute("fill","#000000")),e.target.setAttribute("fill",Blockly.CAT_ACTION_RGB);var t=e.target.id.replace(/white|black/,"");this.selected_=e.target,this.setValue(t),this.resizeEditor_()},Blockly.FieldNote.prototype.widgetDispose_=function(){var e=this;return function(){var t=Blockly.FieldTextInput.htmlInput_;e.sourceBlock_.rendered&&e.sourceBlock_.render(),Blockly.unbindEvent_(t.onKeyDownWrapper_),Blockly.unbindEvent_(t.onKeyUpWrapper_),Blockly.unbindEvent_(t.onKeyPressWrapper_),e.workspace_.removeChangeListener(t.onWorkspaceChangeWrapper_),Blockly.FieldTextInput.htmlInput_=null,t=Blockly.WidgetDiv.DIV.style,t.width="auto",t.height="auto",t.fontSize=""}},Blockly.FieldNote.prototype.getValue=function(){return this.value_},Blockly.FieldNote.prototype.setValue=function(e){if(null!==e){var t=this.getValue();t!=e&&(this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,t,e)),this.value_=e,Blockly.FieldNote.NOTENAMES[e]?this.setText(Blockly.FieldNote.NOTENAMES[e]):this.setText(e),Blockly.FieldTextInput.htmlInput_&&(Blockly.FieldTextInput.htmlInput_.value=Blockly.FieldNote.NOTENAMES[e]))}},Blockly.FieldNote.prototype.onTouch=function(e){if(e.preventDefault(),!(1<e.touches.length||"touchend"==e.type&&0<e.touches.length)){e=e.touches[0],e=document.elementFromPoint(e.clientX,e.clientY);var t=document.createEvent("SVGEvents");t.initEvent("mouseover",!0,!0),e.dispatchEvent(t)}},Blockly.FieldCheckbox=function(e,t){Blockly.FieldCheckbox.superClass_.constructor.call(this,"",t),this.setValue(e)},goog.inherits(Blockly.FieldCheckbox,Blockly.Field),Blockly.FieldCheckbox.CHECK_CHAR="✓",Blockly.FieldCheckbox.prototype.CURSOR="default",Blockly.FieldCheckbox.prototype.init=function(){if(!this.fieldGroup_){Blockly.FieldCheckbox.superClass_.init.call(this),this.checkElement_=Blockly.createSvgElement("text",{class:"blocklyText blocklyCheckbox",x:-3,y:14},this.fieldGroup_);var e=document.createTextNode(Blockly.FieldCheckbox.CHECK_CHAR);this.checkElement_.appendChild(e),this.checkElement_.style.display=this.state_?"block":"none"}},Blockly.FieldCheckbox.prototype.getValue=function(){return String(this.state_).toUpperCase()},Blockly.FieldCheckbox.prototype.setValue=function(e){e="TRUE"==e,this.state_!==e&&(this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,this.state_,e)),this.state_=e,this.checkElement_&&(this.checkElement_.style.display=e?"block":"none"))},Blockly.FieldCheckbox.prototype.showEditor_=function(){var e=!this.state_;if(this.sourceBlock_&&this.validator_){var t=this.validator_(e);void 0!==t&&(e=t)}null!==e&&this.setValue(String(e).toUpperCase())},Blockly.FieldDropdown=function(e,t,o){this.menuGenerator_=e,this.trimOptions_(),e=this.getOptions_()[0],this.anyChangesListener_=o,Blockly.FieldDropdown.superClass_.constructor.call(this,e[1],t)},goog.inherits(Blockly.FieldDropdown,Blockly.Field),Blockly.FieldDropdown.CHECKMARK_OVERHANG=25,Blockly.FieldDropdown.ARROW_CHAR=goog.userAgent.ANDROID?"▼":"▾",Blockly.FieldDropdown.prototype.CURSOR="default",Blockly.FieldDropdown.prototype.init=function(){if(!this.fieldGroup_){this.arrow_=Blockly.createSvgElement("tspan",{},null),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?Blockly.FieldDropdown.ARROW_CHAR+" ":" "+Blockly.FieldDropdown.ARROW_CHAR)),Blockly.FieldDropdown.superClass_.init.call(this);var e=this.text_;this.text_=null,this.setText(e)}},Blockly.FieldDropdown.prototype.showEditor_=function(){Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,null);var e=this,t=new goog.ui.Menu;t.setRightToLeft(this.sourceBlock_.RTL);for(var o=this.getOptions_(),n=0;n<o.length;n++){var i=o[n][1],l=new goog.ui.MenuItem(o[n][0]);l.setRightToLeft(this.sourceBlock_.RTL),l.setValue(i),l.setCheckable(!0),t.addChild(l,!0),l.setChecked(i==this.value_)}goog.events.listen(t,goog.ui.Component.EventType.ACTION,function(t){if(t=t.target){if(t=t.getValue(),e.sourceBlock_&&e.validator_){var o=e.validator_(t);void 0!==o&&(t=o)}null!==t&&e.setValue(t)}Blockly.WidgetDiv.hideIfOwner(e)}),t.getHandler().listen(t.getElement(),goog.events.EventType.TOUCHSTART,function(e){this.getOwnerControl(e.target).handleMouseDown(e)}),t.getHandler().listen(t.getElement(),goog.events.EventType.TOUCHEND,function(e){this.getOwnerControl(e.target).performActionInternal(e)}),o=goog.dom.getViewportSize(),n=goog.style.getViewportPageOffset(document),i=this.getAbsoluteXY_(),l=this.getScaledBBox_(),t.render(Blockly.WidgetDiv.DIV);var s=t.getElement();Blockly.addClass_(s,"blocklyDropdownMenu");var r=goog.style.getSize(s);r.height=s.scrollHeight,i.y=i.y+r.height+l.height>=o.height+n.y?i.y-(r.height+2):i.y+l.height,this.sourceBlock_.RTL?(i.x+=l.width,i.x+=Blockly.FieldDropdown.CHECKMARK_OVERHANG,i.x<n.x+r.width&&(i.x=n.x+r.width)):(i.x-=Blockly.FieldDropdown.CHECKMARK_OVERHANG,i.x>o.width+n.x-r.width&&(i.x=o.width+n.x-r.width)),Blockly.WidgetDiv.position(i.x,i.y,o,n,this.sourceBlock_.RTL),t.setAllowAutoFocus(!0),s.focus()},Blockly.FieldDropdown.prototype.trimOptions_=function(){this.suffixField=this.prefixField=null;var e=this.menuGenerator_;if(goog.isArray(e)&&!(2>e.length)){var t=e.map(function(e){return e[0]}),o=Blockly.shortestStringLength(t),n=Blockly.commonWordPrefix(t,o),i=Blockly.commonWordSuffix(t,o);if((n||i)&&!(o<=n+i)){for(n&&(this.prefixField=t[0].substring(0,n-1)),i&&(this.suffixField=t[0].substr(1-i)),t=[],o=0;o<e.length;o++){var l=e[o][0],s=e[o][1];l=l.substring(n,l.length-i),t[o]=[l,s]}this.menuGenerator_=t}}},Blockly.FieldDropdown.prototype.getOptions_=function(){return goog.isFunction(this.menuGenerator_)?this.menuGenerator_.call(this):this.menuGenerator_},Blockly.FieldDropdown.prototype.getValue=function(){return this.value_},Blockly.FieldDropdown.prototype.setValue=function(e){if(null!==e&&e!==this.value_){this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,this.value_,e)),this.anyChangesListener_&&this.anyChangesListener_(e),this.value_=e;for(var t=this.getOptions_(),o=0;o<t.length;o++)if(t[o][1]==e)return void this.setText(t[o][0]);this.setText(e)}},Blockly.FieldDropdown.prototype.setText=function(e){this.sourceBlock_&&this.arrow_&&(this.arrow_.style.fill=this.sourceBlock_.getColour()),null!==e&&e!==this.text_&&(this.text_=e,this.updateTextNode_(),this.textElement_&&(this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textElement_.firstChild):this.textElement_.appendChild(this.arrow_)),this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_()))},Blockly.FieldDropdown.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this),Blockly.FieldDropdown.superClass_.dispose.call(this)},Blockly.FieldDropdownImage=function(e,t,o,n,i,l,s,r){this.height_=Number(n),this.width_=Number(o),this.type_="."+(i||"png"),this.labelStr_=this.opt_label||"",this.stickyarrow_=!0===l,this.useVerticalSeparatorPrefix_=!0===s,this.menuGenerator_=e,this.anyChangesListener_=r,this.trimOptions_(),this.pathToMedia_=Blockly.Css.mediaPath_+t,e=this.getOptions_()[0],this.size_=new goog.math.Size(this.width_+(this.stickyarrow_?2:10),this.height_+2*Blockly.BlockSvg.INLINE_PADDING_Y),this.text_=e[0]||"",this.setValue(e[1])},goog.inherits(Blockly.FieldDropdownImage,Blockly.Field),Blockly.FieldDropdownImage.prototype.rectElement_=null,Blockly.FieldDropdownImage.CHECKMARK_OVERHANG=25,Blockly.FieldDropdownImage.ARROW_CHAR=goog.userAgent.ANDROID?"▼":"▾",Blockly.FieldDropdownImage.prototype.CURSOR="default",Blockly.FieldDropdownImage.prototype.init=function(){if(!this.fieldGroup_){this.fieldGroup_=Blockly.createSvgElement("g",{cursor:"default"},null),this.visible_||(this.fieldGroup_.style.display="none"),this.imageElement_=Blockly.createSvgElement("image",{height:this.height_+"px",width:this.width_+"px"},this.fieldGroup_),this.imageElement_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",goog.isString(this.src_)?this.src_:"");var e=(this.rectElement_=Blockly.createSvgElement("rect",{height:this.height_+"px",width:this.width_+(this.stickyarrow_?2:15)+"px","fill-opacity":0,cursor:"default"},this.fieldGroup_))||this.imageElement_;e.tooltip=this.sourceBlock_,Blockly.Tooltip.bindMouseEvents(e),this.arrow_=Blockly.createSvgElement("tspan",{},null),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?Blockly.FieldDropdownImage.ARROW_CHAR+(this.stickyarrow_?"":" "):(this.stickyarrow_?"":" ")+Blockly.FieldDropdownImage.ARROW_CHAR)),this.textElement_=Blockly.createSvgElement("text",{class:"blocklyText",y:this.size_.height/2,x:this.size_.width-6},this.fieldGroup_),this.sourceBlock_&&this.arrow_&&(this.arrow_.style.fill="#ffffff",this.stickyarrow_&&(this.arrow_.style.fill="#383838")),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textElement_.firstChild):this.textElement_.appendChild(this.arrow_),this.useVerticalSeparatorPrefix_&&(this.labelElement_=Blockly.createSvgElement("text",{class:"blocklyText",y:this.size_.height/2-1,x:-8},this.fieldGroup_),e=Blockly.createSvgElement("tspan",{},null),e.appendChild(document.createTextNode("|")),this.labelElement_.appendChild(e),e.style.fill="rgba(255,255,255,0.5)"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.mouseUpWrapper_=Blockly.bindEvent_(this.fieldGroup_,"mouseup",this,this.onMouseUp_)}},Blockly.FieldDropdownImage.prototype.showEditor_=function(){Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,null);var e=this,t=new goog.ui.Menu;t.setRightToLeft(this.sourceBlock_.RTL);for(var o=this.getOptions_(),n=0;n<o.length;n++){var i=o[n][0],l=o[n][1],s=goog.dom.createDom("img");goog.dom.setProperties(s,{src:this.pathToMedia_+l+this.type_,alt:i,width:this.width_,height:this.height_}),i=new goog.ui.MenuItem(s),i.setRightToLeft(this.sourceBlock_.RTL),i.addClassName("dropdownImage"),i.setValue(l),i.setCheckable(!0),t.addChild(i,!0),i.setChecked(l==this.value_)}goog.events.listen(t,goog.ui.Component.EventType.ACTION,function(t){if(t=t.target){if(t=t.getValue(),e.sourceBlock_&&e.validator_){var o=e.validator_(t);void 0!==o&&(t=o)}null!==t&&e.setValue(t)}Blockly.WidgetDiv.hideIfOwner(e)}),t.getHandler().listen(t.getElement(),goog.events.EventType.TOUCHSTART,function(e){this.getOwnerControl(e.target).handleMouseDown(e)}),t.getHandler().listen(t.getElement(),goog.events.EventType.TOUCHEND,function(e){this.getOwnerControl(e.target).performActionInternal(e)}),o=goog.dom.getViewportSize(),n=goog.style.getViewportPageOffset(document),l=goog.style.getPageOffset(this.imageElement_),i=this.getScaledBBox_(),t.render(Blockly.WidgetDiv.DIV),s=t.getElement(),Blockly.addClass_(s,"blocklyDropdownMenu");var r=goog.style.getSize(s);r.height=s.scrollHeight,l.y=l.y+r.height+i.height>=o.height+n.y?l.y-(r.height+2):l.y+i.height,this.sourceBlock_.RTL?(l.x+=i.width,l.x+=Blockly.FieldDropdownImage.CHECKMARK_OVERHANG,l.x<n.x+r.width&&(l.x=n.x+r.width)):(l.x-=Blockly.FieldDropdownImage.CHECKMARK_OVERHANG,l.x>o.width+n.x-r.width&&(l.x=o.width+n.x-r.width)),Blockly.WidgetDiv.position(l.x-3,l.y,o,n,this.sourceBlock_.RTL),t.setAllowAutoFocus(!0),s.focus()},Blockly.FieldDropdownImage.prototype.trimOptions_=function(){this.suffixField=this.prefixField=null;var e=this.menuGenerator_;if(goog.isArray(e)&&!(2>e.length)){var t=e.map(function(e){return e[0]}),o=Blockly.shortestStringLength(t),n=Blockly.commonWordPrefix(t,o),i=Blockly.commonWordSuffix(t,o);if((n||i)&&!(o<=n+i)){for(n&&(this.prefixField=t[0].substring(0,n-1)),i&&(this.suffixField=t[0].substr(1-i)),t=[],o=0;o<e.length;o++){var l=e[o][0],s=e[o][1];l=l.substring(n,l.length-i),t[o]=[l,s]}this.menuGenerator_=t}}},Blockly.FieldDropdownImage.prototype.getOptions_=function(){return goog.isFunction(this.menuGenerator_)?this.menuGenerator_.call(this):this.menuGenerator_},Blockly.FieldDropdownImage.prototype.getValue=function(){return this.value_},Blockly.FieldDropdownImage.prototype.onMouseUp_=function(e){(!goog.userAgent.IPHONE&&!goog.userAgent.IPAD||goog.userAgent.isVersionOrHigher("537.51.2")||0===e.layerX||0===e.layerY)&&(Blockly.isRightButton(e)||Blockly.dragMode_!=Blockly.DRAG_FREE&&this.sourceBlock_.isEditable()&&this.showEditor_())},Blockly.FieldDropdownImage.prototype.setValue=function(e){null!==e&&e!==this.value_&&(this.value_=e,this.src_=this.pathToMedia_+e+".png",this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,this.value_,e)),this.anyChangesListener_&&this.anyChangesListener_(e),this.imageElement_&&this.imageElement_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",goog.isString(this.src_)?this.src_:""))},Blockly.FieldDropdownImage.prototype.getScaledBBox_=function(){var e=this.imageElement_.getBBox();return new goog.math.Size(e.width*this.sourceBlock_.workspace.scale,e.height*this.sourceBlock_.workspace.scale)},Blockly.FieldDropdownImage.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this),Blockly.FieldDropdownImage.superClass_.dispose.call(this)},Blockly.FieldDropdownImage.prototype.render_=function(){},Blockly.FieldImage=function(e,t,o,n){this.sourceBlock_=null,this.height_=Number(o),this.width_=Number(t),this.size_=new goog.math.Size(this.width_,this.height_+2*Blockly.BlockSvg.INLINE_PADDING_Y),this.text_=n||"",this.setValue(e)},goog.inherits(Blockly.FieldImage,Blockly.Field),Blockly.FieldImage.prototype.rectElement_=null,Blockly.FieldImage.prototype.EDITABLE=!1,Blockly.FieldImage.prototype.init=function(){if(!this.fieldGroup_){this.fieldGroup_=Blockly.createSvgElement("g",{},null),this.visible_||(this.fieldGroup_.style.display="none"),this.imageElement_=Blockly.createSvgElement("image",{height:this.height_+"px",width:this.width_+"px"},this.fieldGroup_),this.setValue(this.src_),goog.userAgent.GECKO&&(this.rectElement_=Blockly.createSvgElement("rect",{height:this.height_+"px",width:this.width_+"px","fill-opacity":0},this.fieldGroup_)),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_);var e=this.rectElement_||this.imageElement_;e.tooltip=this.sourceBlock_,Blockly.Tooltip.bindMouseEvents(e)}},Blockly.FieldImage.prototype.dispose=function(){goog.dom.removeNode(this.fieldGroup_),this.rectElement_=this.imageElement_=this.fieldGroup_=null},Blockly.FieldImage.prototype.setTooltip=function(e){(this.rectElement_||this.imageElement_).tooltip=e},Blockly.FieldImage.prototype.getValue=function(){return this.src_},Blockly.FieldImage.prototype.setValue=function(e){null!==e&&(this.src_=e,this.imageElement_&&this.imageElement_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",goog.isString(e)?e:""))},Blockly.FieldImage.prototype.setText=function(e){null!==e&&(this.text_=e)},Blockly.FieldImage.prototype.render_=function(){},Blockly.FieldNumber=function(e,t){Blockly.FieldNumber.superClass_.constructor.call(this,e,t)},goog.inherits(Blockly.FieldNumber,Blockly.FieldTextInput),Blockly.Variables={},Blockly.Variables.NAME_TYPE="VARIABLE",Blockly.Variables.allVariables=function(e){if(e.getDescendants)var t=e.getDescendants();else{if(!e.getAllBlocks)throw"Not Block or Workspace: "+e;t=e.getAllBlocks()}e=Object.create(null);for(var o=0;o<t.length;o++)for(var n=t[o].getVars(),i=0;i<n.length;i++){var l=n[i];l&&(e[l.toLowerCase()]=l)}t=[];for(var s in e)t.push(e[s]);return t},Blockly.Variables.renameVariable=function(e,t,o){Blockly.Events.setGroup(!0),o=o.getAllBlocks();for(var n=0;n<o.length;n++)o[n].renameVar(e,t);Blockly.Events.setGroup(!1)},Blockly.Variables.robRenameVariable=function(e){var t=this.sourceBlock_,o=t.getFieldValue("VAR");if(e=e.replace(/[\s\xa0]+/g,"").replace(/^ | $/g,""),""===e||!e.match(/^[a-zA-Z][a-zA-Z_$0-9]*$/))return null;e=Blockly.Variables.findLegalName(e,t),t=Blockly.mainWorkspace.getAllBlocks();for(var n=0;n<t.length;n++){var i=t[n].renameVar;i&&i.call(t[n],o,e)}return e},Blockly.Variables.flyoutCategory=function(e){var t=[];if(e.options.variableDeclaration){e=Blockly.Variables.allGlobalVariables(),e.sort(goog.string.caseInsensitiveCompare);var o=Blockly.Variables.allLocalVariables();o.sort(goog.string.caseInsensitiveCompare);var n=Blockly.Variables.allLoopVariables();n.sort(goog.string.caseInsensitiveCompare),0<e.length&&(t=t.concat(e),
t.push("devider")),0<o.length&&(t=t.concat(o),t.push("devider")),0<n.length&&(t=t.concat(n))}else t=Blockly.Variables.allVariables(e),t.sort(goog.string.caseInsensitiveCompare),goog.array.remove(t,Blockly.Msg.VARIABLES_DEFAULT_NAME),t.unshift(Blockly.Msg.VARIABLES_DEFAULT_NAME);for(e=[],o=0;o<t.length;o++)if("devider"!==t[o]){if(Blockly.Blocks.variables_set){n=goog.dom.createDom("block"),n.setAttribute("type","variables_set"),Blockly.Blocks.variables_get&&n.setAttribute("gap",8);var i=goog.dom.createDom("field",null,t[o]);i.setAttribute("name","VAR"),n.appendChild(i),i=goog.dom.createDom("mutation"),n.appendChild(i),e.push(n)}Blockly.Blocks.variables_get&&(n=goog.dom.createDom("block"),n.setAttribute("type","variables_get"),Blockly.Blocks.variables_set&&n.setAttribute("gap",24),i=goog.dom.createDom("field",null,t[o]),i.setAttribute("name","VAR"),n.appendChild(i),i=goog.dom.createDom("mutation"),n.appendChild(i),e.push(n))}else 0<e.length&&e[e.length-1].setAttribute("gap",36);return e},Blockly.Variables.generateUniqueName=function(e){e=Blockly.Variables.allVariables(e);var t="";if(e.length)for(var o=1,n=0,i="ijkmnopqrstuvwxyzabcdefgh".charAt(n);!t;){for(var l=!1,s=0;s<e.length;s++)if(e[s].toLowerCase()==i){l=!0;break}l?(n++,25==n&&(n=0,o++),i="ijkmnopqrstuvwxyzabcdefgh".charAt(n),1<o&&(i+=o)):t=i}else t="i";return t},Blockly.Variables.findLegalName=function(e,t){for(;!Blockly.Variables.isLegalName(e,t);){var o=e.match(/^(.*?)(\d+)$/);e=o?o[1]+(parseInt(o[2],10)+1):e+"2"}return e},Blockly.Variables.isLegalName=function(e,t){for(var o=Blockly.mainWorkspace.getAllBlocks(),n=0;n<o.length;n++)if(o[n]!=t){var i=o[n].getVarDecl;if(i&&(i=i.call(o[n]),Blockly.Names.equals(e,i[0])))return!1}return!0};Blockly.Variables.updateType=function(e,t){for(var o=Blockly.mainWorkspace.getAllBlocks(),n=0;n<o.length;n++){var i=o[n].setType;i&&o[n].getFieldValue("VAR")===e&&i.call(o[n],e,t)}};Blockly.Variables.deleteAll=function(e){for(var t=Blockly.mainWorkspace.getAllBlocks(),o=0;o<t.length;o++)t[o].setType&&t[o].getFieldValue("VAR")===e&&t[o].dispose(!0,!0,!1)},Blockly.Variables.getVariableType=function(e){for(var t=Blockly.mainWorkspace.getAllBlocks(),o=0;o<t.length;o++){var n=t[o].getVars;if(n&&(n=n.call(t[o]),n[0]&&Blockly.Names.equals(e,n[0]))){if(n=t[o].getSurroundParent(),"controls_for"==t[o].type||"controls_forEach"==t[o].type)return{loop:t[o].id};if("robProcedures_defnoreturn"==t[o].type||"robProcedures_defreturn"==t[o].type)return{local:t[o].getFieldValue("NAME")};if(n&&("robProcedures_defnoreturn"==n.type||"robProcedures_defreturn"==n.type))return{local:n.getFieldValue("NAME")};if(n&&-1!==n.type.indexOf("Controls_start"))return{global:"global"}}}return null},Blockly.Variables.getProcedureName=function(e){for(var t=Blockly.mainWorkspace.getAllBlocks(),o=0;o<t.length;o++)if(t[o].getVarDecl&&Blockly.Names.equals(e,t[o].getFieldValue("VAR"))){if("unityControls_for"==t[o].type||"unityControls_forEach"==t[o].type)return t[o].id;var n=t[o].getSurroundParent();if(n&&("robProcedures_defnoreturn"==n.type||"robProcedures_defreturn"==n.type))return n.getFieldValue("NAME");if(n&&"unityControls_classConfig"==n.type)return"global"}return null},Blockly.Variables.getType=function(e){for(var t=Blockly.mainWorkspace.getAllBlocks(),o=0;o<t.length;o++){var n=t[o].getType;if(n&&t[o].getFieldValue("VAR")===e)return n.call(t[o])}return null},Blockly.Variables.allVariables=function(e){if(e.getDescendants)var t=e.getDescendants();else{if(!e.getAllBlocks)throw"Not Block or Workspace: "+e;t=e.getAllBlocks()}e=Object.create(null);for(var o=0;o<t.length;o++)if(t[o].getVars)for(var n=t[o].getVars(),i=0;i<n.length;i++){var l=n[i];l&&(e[l.toLowerCase()]=l)}t=[];for(var s in e)t.push(e[s]);return t},Blockly.Variables.findGlobalVariableGroupBlock_=function(){for(var e=Blockly.getMainWorkspace().getTopBlocks(!0),t=0;t<e.length;t++){var o=e[t];if(o.PROPERTY_GROUPS_GLOBAL_VARS)return o}return null},Blockly.Variables.findGlobalVariableDeclareBlocks_=function(){var e=[],t=Blockly.Variables.findGlobalVariableGroupBlock_().getDescendants();if(t)for(var o=1;o<t.length;o++)if(t[o].getVarDecl&&t[o].PROPERTY_DECLARES_GLOBAL_VAR)e.push(t[o]);else if(!t[o].getParent())break;return e},Blockly.Variables.allGlobalVariables=function(){for(var e=[],t=Blockly.Variables.findGlobalVariableDeclareBlocks_(),o=0;o<t.length;o++)e.push(t[o].getVarDecl()[0]);return e},Blockly.Variables.allGlobalVariablesWithType=function(){for(var e=[],t=Blockly.Variables.findGlobalVariableDeclareBlocks_(),o=0;o<t.length;o++)e.push([t[o].getVarDecl()[0],t[o].getType()]);return e},Blockly.Variables.addNewTypedGlobalVariable=function(e,t){this.findGlobalVariableGroupBlock_().addNewGlobal(e,t)},Blockly.Variables.allLocalVariables=function(){for(var e=Blockly.getMainWorkspace().getTopBlocks(!0),t=[],o=0;o<e.length;o++){var n=e[o];if(n.getProcedureDef&&(n=n.getDescendants()))for(var i=1;i<n.length;i++)n[i].getVarDecl&&"unityLocalVariables_declare"==n[i].type&&t.push(n[i].getVarDecl()[0])}return t},Blockly.Variables.allLoopVariables=function(){for(var e=Blockly.mainWorkspace.getAllBlocks(),t=[],o=0;o<e.length;o++){var n=e[o];"unityControls_for"!=n.type&&"unityControls_forEach"!=n.type||!n.getVarDecl||t.push(n.getVarDecl()[0])}return t},Blockly.FieldVariable=function(e,t){Blockly.FieldVariable.superClass_.constructor.call(this,Blockly.FieldVariable.dropdownCreate,t),this.setValue(e||"")},goog.inherits(Blockly.FieldVariable,Blockly.FieldDropdown),Blockly.FieldVariable.prototype.setValidator=function(e){Blockly.FieldVariable.superClass_.setValidator.call(this,e?function(t){var o=e.call(this,t);if(null===o)var n=o;else void 0===o&&(o=t),n=Blockly.FieldVariable.dropdownChange.call(this,o),void 0===n&&(n=o);return n===t?void 0:n}:Blockly.FieldVariable.dropdownChange)},Blockly.FieldVariable.prototype.init=function(){this.fieldGroup_||(Blockly.FieldVariable.superClass_.init.call(this),this.getValue()||this.setValue(Blockly.Variables.generateUniqueName(this.sourceBlock_.isInFlyout?this.sourceBlock_.workspace.targetWorkspace:this.sourceBlock_.workspace)))},Blockly.FieldVariable.prototype.getValue=function(){return this.getText()},Blockly.FieldVariable.prototype.setValue=function(e){this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,this.value_,e)),this.value_=e,this.setText(e)},Blockly.FieldVariable.dropdownCreate=function(){var e=this.sourceBlock_&&this.sourceBlock_.workspace?Blockly.Variables.allVariables(this.sourceBlock_.workspace):[],t=this.getText();t&&-1==e.indexOf(t)&&e.push(t),e.sort(goog.string.caseInsensitiveCompare),(t=this.sourceBlock_)&&!t.variableDeclaration?(e.push(Blockly.Msg.RENAME_VARIABLE),e.push(Blockly.Msg.NEW_VARIABLE)):0===e.length&&e.push("dummy"),t=[];for(var o=0;o<e.length;o++)t[o]=[e[o],e[o]];return t},Blockly.FieldVariable.dropdownChange=function(e){function t(e,t){Blockly.hideChaff();var o=window.prompt(e,t);return o&&(o=o.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),o==Blockly.Msg.RENAME_VARIABLE||o==Blockly.Msg.NEW_VARIABLE)&&(o=null),o}var o=this.sourceBlock_.workspace;if(o.variableDeclaration)this.sourceBlock_.setType(this.getText(),Blockly.Variables.getType(e));else{if(e==Blockly.Msg.RENAME_VARIABLE){var n=this.getText();return(e=t(Blockly.Msg.RENAME_VARIABLE_TITLE.replace("%1",n),n))&&Blockly.Variables.renameVariable(n,e,o),null}if(e==Blockly.Msg.NEW_VARIABLE)return(e=t(Blockly.Msg.NEW_VARIABLE_TITLE,""))?(Blockly.Variables.renameVariable(e,e,o),e):null}},Blockly.FieldTypedVariable=function(e,t,o){this.requiredType_=e,this.proposedName_=o||"",Blockly.FieldDropdown.prototype.constructor.call(this,this.dropdownCreate,t),this.setValue("")},goog.inherits(Blockly.FieldTypedVariable,Blockly.FieldVariable),Blockly.FieldTypedVariable.prototype.setValidator=function(e){var t=this,o=e?function(o){var n=e.call(this,o);if(null===n)var i=n;else void 0===n&&(n=o),i=Blockly.FieldTypedVariable.dropdownChange.call(t,n),void 0===i&&(i=n);return i===o?void 0:i}:goog.bind(Blockly.FieldTypedVariable.dropdownChange,this);Blockly.FieldDropdown.prototype.setValidator.call(this,o)},Blockly.FieldTypedVariable.prototype.init=function(){this.fieldGroup_||Blockly.FieldDropdown.prototype.init.call(this)},Blockly.FieldTypedVariable.prototype.setRequiredType=function(e,t){this.requiredType_!==e&&(this.requiredType_=e,this.proposedName_=t||"",this.setValue(""))},Blockly.FieldTypedVariable.prototype.dropdownCreate=function(){var e=[];if(this.sourceBlock_&&this.sourceBlock_.workspace)for(var t=Blockly.Variables.allGlobalVariablesWithType(this.sourceBlock_.workspace),o=0;o<t.length;o++){var n=t[o];n[1]===this.requiredType_&&e.push(n[0])}for(e.sort(goog.string.caseInsensitiveCompare),t=[],o=0;o<e.length;o++)t[o]=[e[o],e[o]];return t.push([Blockly.Msg.NEW_VARIABLE_TYPED.replace("%1",this.requiredType_),"   new"]),t},Blockly.FieldTypedVariable.dropdownChange=function(e){if("   new"==e){e=Blockly.Variables.findLegalName(this.proposedName_,this.sourceBlock_);var t=Blockly.Msg.NEW_VARIABLE_TITLE;return Blockly.hideChaff(),(t=window.prompt(t,e))&&(t=t.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")),(e=t)&&(this.setValue(e),Blockly.Variables.addNewTypedGlobalVariable(e,this.requiredType_)),null}},Blockly.FieldCodeInput=function(e){Blockly.FieldCodeInput.superClass_.constructor.call(this,e,null),this.size_=new goog.math.Size(0,10),this.aceeditor_=null},goog.inherits(Blockly.FieldCodeInput,Blockly.Field),Blockly.FieldCodeInput.FONTSIZE=11,Blockly.FieldCodeInput.MINWIDTH=180,Blockly.FieldCodeInput.ADDITIONALSIZE=4,Blockly.FieldCodeInput.prototype.CURSOR="text",Blockly.FieldCodeInput.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=Blockly.createSvgElement("g",{},null),this.visible_||(this.fieldGroup_.style.display="none"),this.borderRect_=Blockly.createSvgElement("rect",{rx:2,ry:2,x:-Blockly.BlockSvg.SEP_SPACE_X/2,y:0,height:this.size_.height-Blockly.FieldCodeInput.ADDITIONALSIZE},this.fieldGroup_,this.sourceBlock_.workspace),this.borderRect_.tooltip=this.sourceBlock_,this.textElement_=Blockly.createSvgElement("text",{class:"blocklyCode",y:12.5},null),this.fieldGroup_.appendChild(this.textElement_),this.updateEditable(),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.mouseUpWrapper_=Blockly.bindEvent_(this.fieldGroup_,"mouseup",this,this.onMouseUp_),Blockly.Tooltip.bindMouseEvents(this.fieldGroup_),this.updateTextNode_(),Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,"",this.getValue())))},Blockly.FieldCodeInput.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this),this.mouseUpWrapper_&&(Blockly.unbindEvent_(this.mouseUpWrapper_),this.mouseUpWrapper_=null),this.sourceBlock_=null,goog.dom.removeNode(this.fieldGroup_),this.fieldGroup_=null},Blockly.FieldCodeInput.prototype.render_=function(){if(this.visible_&&this.textElement_){var e=16.8*this.lastLineCount_+8,t=this.textElement_.textContent+"\n"+this.textElement_.className.baseVal;if(Blockly.Field.cacheWidths_&&Blockly.Field.cacheWidths_[t])var o=Blockly.Field.cacheWidths_[t];else{try{o=this.longestLineTextElem_.getComputedTextLength()}catch(e){o=8*this.longestLineTextElem_.textContent.length}o<Blockly.FieldCodeInput.MINWIDTH&&(o=Blockly.FieldCodeInput.MINWIDTH),Blockly.Field.cacheWidths_&&(Blockly.Field.cacheWidths_[t]=o)}this.borderRect_&&this.borderRect_.setAttribute("width",o+Blockly.BlockSvg.SEP_SPACE_X),this.borderRect_&&this.borderRect_.setAttribute("height",e-Blockly.FieldCodeInput.ADDITIONALSIZE)}else o=0;this.size_.width=o,this.size_.height=e+Blockly.FieldCodeInput.ADDITIONALSIZE},Blockly.FieldCodeInput.prototype.setValue=function(e){if(null!==e){if(this.sourceBlock_&&this.validator_){var t=this.validator_(e);null!==t&&void 0!==t&&(e=t)}Blockly.Field.prototype.setValue.call(this,e)}},Blockly.FieldCodeInput.prototype.showEditor_=function(){this.workspace_=this.sourceBlock_.workspace,this.textElement_.style.visibility="hidden",Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_());var e=Blockly.WidgetDiv.DIV,t=goog.dom.createDom("div","code-field-editor");t.style.fontSize=14*this.workspace_.scale+"px",Blockly.FieldCodeInput.htmlEditorDomRoot_=t,e.appendChild(t),t.textContent=this.text_,t.initialValue=this.text_,t.oldValue=this.text_,this.aceeditor_=ace.edit(t),this.aceeditor_.setTheme("ace/theme/xcode"),this.aceeditor_.getSession().setMode("ace/mode/csharp"),this.aceeditor_.setShowPrintMargin(!1),this.aceeditor_.renderer.setShowGutter(!1),this.aceeditor_.setHighlightActiveLine(!1),this.aceeditor_.focus(),this.validate_(),this.resizeEditor_(),t.onAceChangeWrapper_=goog.bind(this.onEditorContentChange_,this),this.aceeditor_.on("change",t.onAceChangeWrapper_),t.onWorkspaceChangeWrapper_=this.resizeEditor_.bind(this),this.workspace_.addChangeListener(t.onWorkspaceChangeWrapper_)},Blockly.FieldCodeInput.prototype.onEditorContentChange_=function(e){e=Blockly.FieldCodeInput.htmlEditorDomRoot_;var t=this.aceeditor_.getValue();t!==e.oldValue?(e.oldValue=t,this.setValue(t),this.validate_()):goog.userAgent.WEBKIT&&this.sourceBlock_.render(),this.resizeEditor_()},Blockly.FieldCodeInput.prototype.validate_=function(){},Blockly.FieldCodeInput.prototype.resizeEditor_=function(){var e=1*this.workspace_.scale,t=3*this.workspace_.scale,o=18*this.workspace_.scale,n=Blockly.WidgetDiv.DIV,i=this.fieldGroup_.getBBox();n.style.width=i.width*this.workspace_.scale-e+"px",n.style.height=i.height*this.workspace_.scale+o+"px",o=this.getAbsoluteXY_(),this.sourceBlock_.RTL&&(i=this.getScaledBBox_(),o.x+=i.width,o.x-=n.offsetWidth),o.y+=1,goog.userAgent.GECKO&&Blockly.WidgetDiv.DIV.style.top&&(--o.x,--o.y),goog.userAgent.WEBKIT&&(o.y-=3),o.x+=e,o.y+=t,n.style.left=o.x+"px",n.style.top=o.y+"px",this.aceeditor_.resize()},Blockly.FieldCodeInput.prototype.widgetDispose_=function(){var e=this;return function(){var t=Blockly.FieldCodeInput.htmlEditorDomRoot_,o=e.aceeditor_.getValue();e.setValue(o),e.sourceBlock_.rendered&&e.sourceBlock_.render(),e.workspace_.removeChangeListener(t.onWorkspaceChangeWrapper_),Blockly.FieldCodeInput.htmlEditorDomRoot_=null,e.aceeditor_.destroy(),e.aceeditor_=null,t=Blockly.WidgetDiv.DIV.style,t.width="auto",t.height="auto",t.fontSize="",e.textElement_.style.visibility="visible"}},Blockly.FieldCodeInput.prototype.updateTextNode_=function(){if(this.textElement_){var e=this.text_.split(/[\n\r]/);goog.dom.removeChildren(this.textElement_);for(var t=0,o=0;1>o||o<e.length;o++){var n="";o<e.length&&(n=e[o]),n.length>this.maxDisplayLength&&(n=n.substring(0,this.maxDisplayLength-2)+"…"),n=n.replace(/\s/g,Blockly.Field.NBSP),this.sourceBlock_.RTL&&n&&(n+="‏"),n||(n=Blockly.Field.NBSP);var i=document.createTextNode(n),l=Blockly.createSvgElement("tspan",{x:0,dy:0==o?"0px":"1.2em"},null);l.tooltip=this.sourceBlock_,n.length>t&&(t=n.length,this.longestLineTextElem_=i),l.appendChild(i),this.textElement_.appendChild(l)}this.lastLineCount_=0<e.length?e.length:1,this.size_.width=0}},Blockly.FieldToggleIcon=function(e,t,o,n,i,l){Blockly.FieldToggleIcon.superClass_.constructor.call(this,"",l),this.width_=this.height_=16,this.positiveState_=t,this.negativeState_=o,this.positiveSvgPath_=n,this.negativeSvgPath_=i,this.size_.width=8,e!==this.positiveState_&&e!==this.negativeState_&&(e=this.negativeState_),this.setValue(e)},goog.inherits(Blockly.FieldToggleIcon,Blockly.Field),Blockly.FieldToggleIcon.ICON_EYE_VISIBLE="M 7.9433594 3.2304688 C 6.2463524 3.2554687 4.9285279 3.8182063 3.8730469 4.6914062 C 2.8175659 5.5647062 2.013174 6.7261625 1.2167969 7.9765625 L 1 8.3164062 L 1.2871094 8.5996094 C 3.1053036 10.401909 5.0643402 12.027344 8.140625 12.027344 C 11.244697 12.027344 13.406371 10.142122 15.132812 7.9199219 L 15.382812 7.5996094 L 15.121094 7.2910156 C 14.142442 6.1324156 13.214575 5.1100469 12.085938 4.3730469 C 10.957299 3.6360469 9.6261012 3.2056687 7.9453125 3.2304688 L 7.9433594 3.2304688 z M 8.2695312 4.1679688 C 10.173379 4.1679688 11.726563 5.7191469 11.726562 7.6230469 C 11.726564 9.5268469 10.173379 11.080078 8.2695312 11.080078 C 6.3656835 11.080078 4.8144531 9.5268469 4.8144531 7.6230469 C 4.8144531 5.7191469 6.3656835 4.1679688 8.2695312 4.1679688 z M 8.28125 5.5898438 A 1.9777621 1.9777621 0 0 0 6.3027344 7.5664062 A 1.9777621 1.9777621 0 0 0 8.28125 9.5449219 A 1.9777621 1.9777621 0 0 0 10.257812 7.5664062 A 1.9777621 1.9777621 0 0 0 8.28125 5.5898438 z",Blockly.FieldToggleIcon.ICON_EYE_HIDDEN="M 13.626953 2.1386719 L 11.640625 4.125 L 10.642578 5.1230469 L 9.6347656 6.1308594 L 6.84375 8.921875 L 5.7695312 9.9960938 L 4.5976562 11.167969 L 3.2167969 12.548828 L 4.4296875 13.761719 L 6.375 11.816406 L 7.2753906 10.916016 L 8.6894531 9.5019531 L 10.210938 7.9804688 L 11.5625 6.6289062 L 13.064453 5.1269531 L 14.839844 3.3515625 L 13.626953 2.1386719 z M 7.9433594 3.2304688 C 6.2463524 3.2554687 4.9285279 3.8182063 3.8730469 4.6914062 C 2.8175659 5.5647062 2.013174 6.7261625 1.2167969 7.9765625 L 1 8.3164062 L 1.2871094 8.5996094 C 2.0683735 9.3740437 2.882231 10.106973 3.7929688 10.701172 L 5.2421875 9.2519531 C 4.9783808 8.7640123 4.8144531 8.2148737 4.8144531 7.6230469 C 4.8144531 5.7191469 6.3656837 4.1679688 8.2695312 4.1679688 C 8.8619838 4.1679688 9.4120902 4.3313943 9.9003906 4.5957031 L 10.773438 3.7226562 C 9.9445231 3.4035473 9.0228447 3.2145697 7.9453125 3.2304688 L 7.9433594 3.2304688 z M 8.28125 5.5898438 A 1.9777621 1.9777621 0 0 0 6.3027344 7.5664062 A 1.9777621 1.9777621 0 0 0 6.3808594 8.1132812 L 8.8261719 5.6679688 A 1.9777621 1.9777621 0 0 0 8.28125 5.5898438 z M 13.722656 5.7402344 L 11.714844 7.7480469 C 11.648803 9.5507296 10.197256 11.002315 8.3945312 11.068359 L 7.4804688 11.982422 C 7.6984337 11.999996 7.9105721 12.027344 8.140625 12.027344 C 11.244697 12.027344 13.406371 10.142122 15.132812 7.9199219 L 15.382812 7.5996094 L 15.121094 7.2910156 C 14.652686 6.7364797 14.195378 6.2160017 13.722656 5.7402344 z",Blockly.FieldToggleIcon.prototype.CURSOR="pointer",Blockly.FieldToggleIcon.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=Blockly.createSvgElement("g",{},null),this.visible_||(this.fieldGroup_.style.display="none"),this.borderRect_=Blockly.createSvgElement("rect",{height:this.height_,width:this.width_,class:"blocklyIconShape","fill-opacity":"0","stroke-opacity":"0"},this.fieldGroup_,this.sourceBlock_.workspace),this.positiveElement_=Blockly.createSvgElement("path",{d:this.positiveSvgPath_,height:this.height_,width:this.width_,class:"blocklyIconSymbol"},this.fieldGroup_),this.negativeElement_=Blockly.createSvgElement("path",{d:this.negativeSvgPath_,height:this.height_,width:this.width_,class:"blocklyIconSymbol"},this.fieldGroup_),this.state_===this.positiveState_?(this.positiveElement_.style.display="block",this.negativeElement_.style.display="none"):(this.positiveElement_.style.display="none",this.negativeElement_.style.display="block"),this.updateEditable(),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.mouseUpWrapper_=Blockly.bindEvent_(this.fieldGroup_,"mouseup",this,this.onMouseUp_),Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,"",this.getValue())))},Blockly.FieldToggleIcon.prototype.getValue=function(){return this.state_},Blockly.FieldToggleIcon.prototype.setValue=function(e){e!==this.positiveState_&&e!==this.negativeState_||this.state_===e||(this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,this.state_,e)),this.state_=e,this.positiveElement_&&this.negativeElement_&&(this.state_===this.positiveState_?(this.positiveElement_.style.display="block",this.negativeElement_.style.display="none"):(this.positiveElement_.style.display="none",this.negativeElement_.style.display="block")))},Blockly.FieldToggleIcon.prototype.getSize=function(){return this.size_},Blockly.FieldToggleIcon.prototype.render_=function(){},Blockly.FieldToggleIcon.prototype.updateEditable=function(){this.EDITABLE&&this.sourceBlock_&&(this.sourceBlock_.isEditable()?(Blockly.addClass_(this.fieldGroup_,"blocklyIconGroup"),Blockly.removeClass_(this.fieldGroup_,"blocklyIconGroupReadonly"),this.fieldGroup_.style.cursor=this.CURSOR):(Blockly.addClass_(this.fieldGroup_,"blocklyIconGroupReadonly"),Blockly.removeClass_(this.fieldGroup_,"blocklyIconGroup"),this.fieldGroup_.style.cursor=""))},Blockly.FieldToggleIcon.prototype.showEditor_=function(){var e=this.positiveState_;if(this.state_===this.positiveState_&&(e=this.negativeState_),this.sourceBlock_&&this.validator_){var t=this.validator_(e);void 0===t||t!==this.positiveState_&&t!==this.negativeState_&&null!==t||(e=t)}null!==e&&this.setValue(e)},Blockly.Generator=function(e){this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")},Blockly.Generator.NAME_TYPE="generated_function",Blockly.Generator.prototype.INFINITE_LOOP_TRAP=null,Blockly.Generator.prototype.STATEMENT_PREFIX=null,Blockly.Generator.prototype.INDENT="  ",Blockly.Generator.prototype.workspaceToCode=function(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=Blockly.getMainWorkspace());var t=[];this.init(e),e=e.getTopBlocks(!0);for(var o,n=0;o=e[n];n++)if(o.PROPERTY_VALID_ROOT){var i=this.blockToCode(o);goog.isArray(i)&&(i=i[0]),i&&(o.outputConnection&&this.scrubNakedValue&&(i=this.scrubNakedValue(i)),t.push(i))}return t=t.join("\n"),t=this.finish(t),t=t.replace(/^\s+\n/,""),t=t.replace(/\n\s+$/,"\n"),t=t.replace(/[ \t]+\n/g,"\n")},Blockly.Generator.prototype.prefixLines=function(e,t){return t+e.replace(/\n(.)/g,"\n"+t+"$1")},Blockly.Generator.prototype.allNestedComments=function(e){var t=[];e=e.getDescendants();for(var o=0;o<e.length;o++){var n=e[o].getCommentText();n&&t.push(n)}return t.length&&t.push(""),t.join("\n")},Blockly.Generator.prototype.blockToCode=function(e){if(!e)return"";if(e.disabled&&!e.PROPERTY_VALID_ROOT)return this.blockToCode(e.getNextBlock());var t=this[e.type];return goog.asserts.assertFunction(t,'Language "%s" does not know how to generate code for block type "%s".',this.name_,e.type),t=t.call(e,e),goog.isArray(t)?(goog.asserts.assert(e.outputConnection,'Expecting string from statement block "%s".',e.type),[this.scrub_(e,t[0]),t[1],t[2]]):goog.isString(t)?(this.STATEMENT_PREFIX&&(t=this.STATEMENT_PREFIX.replace(/%1/g,"'"+e.id+"'")+t),this.scrub_(e,t)):null===t?"":void goog.asserts.fail("Invalid code generated: %s",t)},Blockly.Generator.prototype.valueToCode=function(e,t,o,n){return this.valueToCodeTuple(e,t,o,n)[0]},Blockly.Generator.prototype.valueToCodeTuple=function(e,t,o,n){isNaN(o)&&goog.asserts.fail('Expecting valid order from block "%s".',e.type),(e=e.getInputTargetBlock(t))||(t=["",0,null]),t=this.blockToCode(e),""===t&&(t=["",0,null]),e&&goog.asserts.assertArray(t,'Expecting tuple from value block "%s".',e.type);var i=t[0],l=t[1];return t=t[2],isNaN(l)&&e&&goog.asserts.fail('Expecting valid order from value block "%s".',e.type),this.convertDataTypeValue&&(n=this.convertDataTypeValue(t,n,goog.bind(function(e){return i&&e<=l&&(e!=l||0!=e&&99!=e)?"("+i+")":i},this)))&&(i=n[0],n[1]&&(l=n[1]),t=n[2]),i&&o<=l&&(o!=l||0!=o&&99!=o)&&(i="("+i+")",l=0),[i,l,t]},Blockly.Generator.prototype.statementToCode=function(e,t){var o=e.getInputTargetBlock(t),n=this.blockToCode(o);return goog.asserts.assertString(n,'Expecting code from statement block "%s".',o&&o.type),n&&(n=this.prefixLines(n,this.INDENT)),n},Blockly.Generator.prototype.eventStatementsToCode=function(e){e=e.getNextBlock();var t=this.blockToCode(e);return goog.asserts.assertString(t,'Expecting code from statement block "%s".',e&&e.type),t&&(t=this.prefixLines(t,this.INDENT)),t},Blockly.Generator.prototype.addLoopTrap=function(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+t+"'")+e),this.STATEMENT_PREFIX&&(e+=this.prefixLines(this.STATEMENT_PREFIX.replace(/%1/g,"'"+t+"'"),this.INDENT)),e},Blockly.Generator.prototype.RESERVED_WORDS_="",Blockly.Generator.prototype.addReservedWords=function(e){this.RESERVED_WORDS_+=e+","},Blockly.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",Blockly.Generator.prototype.provideFunction_=function(e,t){if(!this.definitions_[e]){var o=this.variableDB_.getDistinctName(e,this.NAME_TYPE);this.functionNames_[e]=o,o=t.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,o);for(var n;n!=o;)n=o,o=o.replace(/^((  )*)  /gm,"$1"+this.INDENT);this.definitions_[e]=o}return this.functionNames_[e]},Blockly.Names=function(e,t,o){if(this.variablePrefix_=t||"",this.reservedDict_=Object.create(null),e)for(e=e.split(","),t=0;t<e.length;t++)this.reservedDict_[e[t]]=!0;this.namingConventions_=o||{},this.reset()},Blockly.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null)},Blockly.Names.prototype.getName=function(e,t){var o=e.toLowerCase()+"_"+t,n=t==Blockly.Variables.NAME_TYPE?this.variablePrefix_:"";if(o in this.db_)return n+this.db_[o];var i=this.getDistinctName(e,t);return this.db_[o]=i.substr(n.length),i},Blockly.Names.prototype.getDistinctName=function(e,t){var o=this.safeName_(e);this.namingConventions_.hasOwnProperty(t)&&(o=this.namingConventions_[t](o));for(var n="";this.dbReverse_[o+n]||o+n in this.reservedDict_;)n=n?n+1:2;return o+=n,this.dbReverse_[o]=!0,(t==Blockly.Variables.NAME_TYPE?this.variablePrefix_:"")+o},Blockly.Names.prototype.safeName_=function(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(e[0])&&(e="my_"+e)):e="unnamed",e},Blockly.Names.equals=function(e,t){return e.toLowerCase()==t.toLowerCase()},Blockly.Procedures={},Blockly.Procedures.NAME_TYPE="PROCEDURE",Blockly.Procedures.allProcedures=function(e){e=e.getAllBlocks();for(var t=[],o=[],n=0;n<e.length;n++)if(e[n].getProcedureDef){var i=e[n].getProcedureDef();i&&(i[2]?t.push(i):o.push(i))}return o.sort(Blockly.Procedures.procTupleComparator_),t.sort(Blockly.Procedures.procTupleComparator_),[o,t]},Blockly.Procedures.procTupleComparator_=function(e,t){return e[0].toLowerCase().localeCompare(t[0].toLowerCase())},Blockly.Procedures.findLegalName=function(e,t){if(t.isInFlyout)return e;for(;!Blockly.Procedures.isLegalName(e,t.workspace,t);){var o=e.match(/^(.*?)(\d+)$/);e=o?o[1]+(parseInt(o[2],10)+1):e+"2"}return e},Blockly.Procedures.isLegalName=function(e,t,o){t=t.getAllBlocks();for(var n=0;n<t.length;n++)if(t[n]!=o&&t[n].getProcedureDef){var i=t[n].getProcedureDef();if(Blockly.Names.equals(i[0],e))return!1}return!0},Blockly.Procedures.rename=function(e){e=e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,""),e=Blockly.Procedures.findLegalName(e,this.sourceBlock_);for(var t=this.sourceBlock_.workspace.getAllBlocks(),o=0;o<t.length;o++)t[o].renameProcedure&&t[o].renameProcedure(this.text_,e);return e},Blockly.Procedures.robRename=function(e){if(e=e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,""),e=e.substring(0,1).toLowerCase()+e.substring(1),""===e||!e.match(/^[a-z][a-zA-Z0-9_]*$/))return null;e=Blockly.Procedures.findLegalName(e,this.sourceBlock_);for(var t=this.sourceBlock_.workspace.getAllBlocks(),o=0;o<t.length;o++)t[o].renameProcedure&&t[o].renameProcedure(this.nameOld,e);return this.nameOld=e},Blockly.Procedures.flyoutCategory=function(e){function t(t,n){for(var i=0;i<t.length;i++){var l=t[i][0],s=t[i][1],r=goog.dom.createDom("block");r.setAttribute("type",n),r.setAttribute("gap",16);var a=goog.dom.createDom("mutation");if(a.setAttribute("name",l),r.appendChild(a),e.variableDeclaration){if(s=t[i][1].getDescendants())for(l=0;l<s.length;l++)if(!s[l].getProcedureDef){if(!s[l].getVarDecl)break;c=goog.dom.createDom("arg"),c.setAttribute("name",s[l].getVarDecl()[0]),c.setAttribute("type",s[l].getType()),a.appendChild(c)}"robProcedures_callreturn"===n&&(s=t[i][1].returnType_)&&a.setAttribute("output_type",s)}else for(l=0;l<s.length;l++){var c=goog.dom.createDom("arg");c.setAttribute("name",s[l]),a.appendChild(c)}o.push(r)}}var o=[];if(e.variableDeclaration)Blockly.Blocks.robProcedures_defnoreturn&&(n=goog.dom.createDom("block"),n.setAttribute("type","robProcedures_defnoreturn"),n.setAttribute("gap",16),o.push(n)),Blockly.Blocks.robProcedures_defreturn&&(n=goog.dom.createDom("block"),n.setAttribute("type","robProcedures_defreturn"),n.setAttribute("gap",16),o.push(n)),Blockly.Blocks.robProcedures_ifreturn&&(n=goog.dom.createDom("block"),n.setAttribute("type","robProcedures_ifreturn"),n.setAttribute("gap",16),o.push(n));else{if(Blockly.Blocks.procedures_defnoreturn){var n=goog.dom.createDom("block");n.setAttribute("type","procedures_defnoreturn"),n.setAttribute("gap",16),o.push(n)}Blockly.Blocks.procedures_defreturn&&(n=goog.dom.createDom("block"),n.setAttribute("type","procedures_defreturn"),n.setAttribute("gap",16),o.push(n)),Blockly.Blocks.procedures_ifreturn&&(n=goog.dom.createDom("block"),n.setAttribute("type","procedures_ifreturn"),n.setAttribute("gap",16),o.push(n))}return o.length&&o[o.length-1].setAttribute("gap",24),n=Blockly.Procedures.allProcedures(e),e.variableDeclaration?(t(n[0],"robProcedures_callnoreturn"),t(n[1],"robProcedures_callreturn")):(t(n[0],"procedures_callnoreturn"),t(n[1],"procedures_callreturn")),o},Blockly.Procedures.getCallers=function(e,t){for(var o=[],n=t.getAllBlocks(),i=0;i<n.length;i++)if(n[i].getProcedureCall){var l=n[i].getProcedureCall();l&&(Blockly.Names.equals(l,e)||"robProcedures_ifreturn"===l)&&o.push(n[i])}return o},Blockly.Procedures.disposeCallers=function(e,t){for(var o=Blockly.Procedures.getCallers(e,t),n=0;n<o.length;n++)o[n].dispose(!0,!1)},Blockly.Procedures.mutateCallers=function(e){var t=Blockly.Events.recordUndo,o=e.getProcedureDef()[0],n=e.mutationToDom(!0);e=Blockly.Procedures.getCallers(o,e.workspace),o=0;for(var i;i=e[o];o++){var l=i.mutationToDom();l=l&&Blockly.Xml.domToText(l),i.domToMutation(n);var s=i.mutationToDom();s=s&&Blockly.Xml.domToText(s),l!=s&&(Blockly.Events.recordUndo=!1,Blockly.Events.fire(new Blockly.Events.Change(i,"mutation",null,l,s)),Blockly.Events.recordUndo=t)}},Blockly.Procedures.updateCallers=function(e,t,o,n,i){if(i=i||Blockly.Variables.getProcedureName(e))for(o=Blockly.Procedures.getCallers(i,o),i=0;i<o.length;i++)o[i].updateProcedureParameters(e,t,n)},Blockly.Procedures.getDefinition=function(e,t){for(var o=t.getAllBlocks(),n=0;n<o.length;n++)if(o[n].getProcedureDef){var i=o[n].getProcedureDef();if(i&&Blockly.Names.equals(i[0],e))return o[n]}return null},Blockly.EditableCodeBlocks={},Blockly.EditableCodeBlocks.NAME_TYPE="CODEBLOCKS",Blockly.EditableCodeBlocks.allCodeBlockNames=function(e){if(e.getDescendants)e=e.getDescendants();else{if(!e.getAllBlocks)throw"Not Block or Workspace: "+e;e=e.getAllBlocks()}for(var t=[],o=0;o<e.length;o++)if(e[o].PROPERTY_IS_EDITABLECODEBLOCK){var n=e[o].getCodeBlockCallingName();n&&t.push(n)}return t},Blockly.EditableCodeBlocks.flyoutCategory=function(e){e=Blockly.EditableCodeBlocks.allCodeBlockNames(e);var t=[];if(Blockly.Blocks.unityCode_define){var o=goog.dom.createDom("block");o.setAttribute("type","unityCode_define"),t.push(o)}for(var n=0;n<e.length;n++)if(Blockly.Blocks.unityCode_use){o=goog.dom.createDom("block"),o.setAttribute("type","unityCode_use"),o.setAttribute("gap","8");var i=goog.dom.createDom("mutation");i.setAttribute("tocall",e[n]),o.appendChild(i),t.push(o)}return t},Blockly.Flyout=function(e){e.getMetrics=this.getMetrics_.bind(this),e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new Blockly.WorkspaceSvg(e),this.workspace_.isFlyout=!0,this.RTL=!!e.RTL,this.horizontalLayout_=e.horizontalLayout,this.toolboxPosition_=e.toolboxPosition,this.eventWrappers_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[]},Blockly.Flyout.prototype.autoClose=!0,Blockly.Flyout.prototype.CORNER_RADIUS=8,Blockly.Flyout.prototype.MARGIN=Blockly.Flyout.prototype.CORNER_RADIUS,Blockly.Flyout.prototype.SCROLLBAR_PADDING=2,Blockly.Flyout.prototype.width_=0,Blockly.Flyout.prototype.height_=0,Blockly.Flyout.prototype.createDom=function(){return this.svgGroup_=Blockly.createSvgElement("g",{class:"blocklyFlyout"
},null),this.svgBackground_=Blockly.createSvgElement("path",{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.svgGroup_},Blockly.Flyout.prototype.init=function(e){this.targetWorkspace_=e,this.workspace_.targetWorkspace=e,this.scrollbar_=new Blockly.Scrollbar(this.workspace_,this.horizontalLayout_,!1),this.hide(),Array.prototype.push.apply(this.eventWrappers_,Blockly.bindEvent_(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace_.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,Blockly.bindEvent_(this.svgGroup_,"mousedown",this,this.onMouseDown_))},Blockly.Flyout.prototype.dispose=function(){this.hide(),Blockly.unbindEvent_(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace_.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.scrollbar_&&(this.scrollbar_.dispose(),this.scrollbar_=null),this.workspace_&&(this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace_=this.svgBackground_=null},Blockly.Flyout.prototype.getWidth=function(){return this.width_},Blockly.Flyout.prototype.getHeight=function(){return this.height_},Blockly.Flyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;try{var e=this.workspace_.getCanvas().getBBox()}catch(t){e={height:0,y:0,width:0,x:0}}var t=this.SCROLLBAR_PADDING,o=this.SCROLLBAR_PADDING;if(this.horizontalLayout_){this.toolboxPosition_==Blockly.TOOLBOX_AT_BOTTOM&&(t=0);var n=this.height_;this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP&&(n+=this.MARGIN-this.SCROLLBAR_PADDING);var i=this.width_-2*this.SCROLLBAR_PADDING}else o=0,n=this.height_-2*this.SCROLLBAR_PADDING,i=this.width_,this.RTL||(i-=this.SCROLLBAR_PADDING);return{viewHeight:n,viewWidth:i,contentHeight:(e.height+2*this.MARGIN)*this.workspace_.scale,contentWidth:(e.width+2*this.MARGIN)*this.workspace_.scale,viewTop:-this.workspace_.scrollY,viewLeft:-this.workspace_.scrollX,contentTop:0,contentLeft:0,absoluteTop:t,absoluteLeft:o}},Blockly.Flyout.prototype.setMetrics_=function(e){var t=this.getMetrics_();t&&(!this.horizontalLayout_&&goog.isNumber(e.y)?this.workspace_.scrollY=-t.contentHeight*e.y:this.horizontalLayout_&&goog.isNumber(e.x)&&(this.workspace_.scrollX=-t.contentWidth*e.x),this.workspace_.translate(this.workspace_.scrollX+t.absoluteLeft,this.workspace_.scrollY+t.absoluteTop))},Blockly.Flyout.prototype.position=function(){if(this.isVisible()){var e=this.targetWorkspace_.getMetrics();if(e){var t=this.horizontalLayout_?e.viewWidth:this.width_;t-=this.CORNER_RADIUS,this.toolboxPosition_==Blockly.TOOLBOX_AT_RIGHT&&(t*=-1),this.setBackgroundPath_(t,this.horizontalLayout_?this.height_:e.viewHeight),t=e.absoluteLeft,this.toolboxPosition_==Blockly.TOOLBOX_AT_RIGHT&&(t+=e.viewWidth,t-=this.width_);var o=e.absoluteTop;this.toolboxPosition_==Blockly.TOOLBOX_AT_BOTTOM&&(o+=e.viewHeight,o-=this.height_),this.svgGroup_.setAttribute("transform","translate("+t+","+o+")"),this.horizontalLayout_?this.width_=e.viewWidth:this.height_=e.viewHeight,this.scrollbar_&&this.scrollbar_.resize()}}},Blockly.Flyout.prototype.setBackgroundPath_=function(e,t){this.horizontalLayout_?this.setBackgroundPathHorizontal_(e,t):this.setBackgroundPathVertical_(e,t)},Blockly.Flyout.prototype.setBackgroundPathVertical_=function(e,t){var o=this.toolboxPosition_==Blockly.TOOLBOX_AT_RIGHT,n=["M "+(o?this.width_:0)+",0"];n.push("h",e),n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,o?0:1,o?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),n.push("v",Math.max(0,t-2*this.CORNER_RADIUS)),n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,o?0:1,o?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),n.push("h",-e),n.push("z"),this.svgBackground_.setAttribute("d",n.join(" "))},Blockly.Flyout.prototype.setBackgroundPathHorizontal_=function(e,t){var o=this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP,n=["M 0,"+(o?0:this.CORNER_RADIUS)];o?(n.push("h",e+this.CORNER_RADIUS),n.push("v",t),n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),n.push("h",-1*(e-this.CORNER_RADIUS)),n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),n.push("h",e-this.CORNER_RADIUS),n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),n.push("v",t-this.CORNER_RADIUS),n.push("h",-e-this.CORNER_RADIUS)),n.push("z"),this.svgBackground_.setAttribute("d",n.join(" "))},Blockly.Flyout.prototype.scrollToStart=function(){this.scrollbar_.set(this.horizontalLayout_&&this.RTL?1/0:0)},Blockly.Flyout.prototype.wheel_=function(e){var t=this.horizontalLayout_?e.deltaX:e.deltaY;if(t){goog.userAgent.GECKO&&(t*=10);var o=this.getMetrics_();t=this.horizontalLayout_?o.viewLeft+t:o.viewTop+t,t=Math.min(t,this.horizontalLayout_?o.contentWidth-o.viewWidth:o.contentHeight-o.viewHeight),t=Math.max(t,0),this.scrollbar_.set(t)}e.preventDefault(),e.stopPropagation()},Blockly.Flyout.prototype.isVisible=function(){return this.svgGroup_&&"block"==this.svgGroup_.style.display},Blockly.Flyout.prototype.hide=function(){if(this.isVisible()){this.svgGroup_.style.display="none";for(var e,t=0;e=this.listeners_[t];t++)Blockly.unbindEvent_(e);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},Blockly.Flyout.prototype.show=function(e,t){this.hide(),this.clearOldBlocks_(),e==Blockly.Variables.NAME_TYPE?e=Blockly.Variables.flyoutCategory(this.workspace_.targetWorkspace):e==Blockly.Procedures.NAME_TYPE?e=Blockly.Procedures.flyoutCategory(this.workspace_.targetWorkspace):e==Blockly.EditableCodeBlocks.NAME_TYPE&&(e=Blockly.EditableCodeBlocks.flyoutCategory(this.workspace_.targetWorkspace)),this.svgGroup_.style.display="block",t&&this.svgBackground_.setAttribute("fill",t);for(var o,n=[],i=[],l=this.permanentlyDisabled_.length=0;o=e[l];l++)if(o.tagName&&"BLOCK"==o.tagName.toUpperCase()){var s=Blockly.Xml.domToBlock(o,this.workspace_);s.disabled&&this.permanentlyDisabled_.push(s),n.push(s),o=parseInt(o.getAttribute("gap"),10),i.push(isNaN(o)?3*this.MARGIN:o)}this.layoutBlocks_(n,i),this.listeners_.push(Blockly.bindEvent_(this.svgBackground_,"mouseover",this,function(e){e=this.workspace_.getTopBlocks(!1);for(var t,o=0;t=e[o];o++)t.removeSelect()})),this.horizontalLayout_?this.height_=0:this.width_=0,this.reflow(),this.offsetHorizontalRtlBlocks(this.workspace_.getTopBlocks(!1)),this.filterForCapacity_(),Blockly.svgResize(this.workspace_),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_)},Blockly.Flyout.prototype.layoutBlocks_=function(e,t){for(var o,n=this.MARGIN*this.workspace_.scale,i=this.RTL?n:n+Blockly.BlockSvg.TAB_WIDTH,l=0;o=e[l];l++){for(var s,r=o.getDescendants(),a=0;s=r[a];a++)s.isInFlyout=!0;o.render(),r=o.getSvgRoot(),a=o.getHeightWidth(),s=o.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0,this.horizontalLayout_&&(i+=s),o.moveBy(this.horizontalLayout_&&this.RTL?-i:i,n),this.horizontalLayout_?i+=a.width+t[l]-s:n+=a.height+t[l],a=Blockly.createSvgElement("rect",{"fill-opacity":0},null),a.tooltip=o,Blockly.Tooltip.bindMouseEvents(a),this.workspace_.getCanvas().insertBefore(a,o.getSvgRoot()),o.flyoutRect_=a,this.buttons_[l]=a,this.addBlockListeners_(r,o,a)}},Blockly.Flyout.prototype.clearOldBlocks_=function(){for(var e,t=this.workspace_.getTopBlocks(!1),o=0;e=t[o];o++)e.workspace==this.workspace_&&e.dispose(!1,!1);for(t=0;o=this.buttons_[t];t++)goog.dom.removeNode(o);this.buttons_.length=0},Blockly.Flyout.prototype.addBlockListeners_=function(e,t,o){this.autoClose?(this.listeners_.push(Blockly.bindEvent_(e,"mousedown",null,this.createBlockFunc_(t))),this.listeners_.push(Blockly.bindEvent_(o,"mousedown",null,this.createBlockFunc_(t)))):(this.listeners_.push(Blockly.bindEvent_(e,"mousedown",null,this.blockMouseDown_(t))),this.listeners_.push(Blockly.bindEvent_(o,"mousedown",null,this.blockMouseDown_(t)))),this.listeners_.push(Blockly.bindEvent_(e,"mouseover",t,t.addSelect)),this.listeners_.push(Blockly.bindEvent_(e,"mouseout",t,t.removeSelect)),this.listeners_.push(Blockly.bindEvent_(o,"mouseover",t,t.addSelect)),this.listeners_.push(Blockly.bindEvent_(o,"mouseout",t,t.removeSelect))},Blockly.Flyout.prototype.blockMouseDown_=function(e){var t=this;return function(o){Blockly.terminateDrag_(),Blockly.hideChaff(),Blockly.isRightButton(o)?e.showContextMenu_(o):(Blockly.Css.setCursor(Blockly.Css.Cursor.CLOSED),Blockly.Flyout.startDownEvent_=o,Blockly.Flyout.startBlock_=e,Blockly.Flyout.startFlyout_=t,Blockly.Flyout.onMouseUpWrapper_=Blockly.bindEvent_(document,"mouseup",this,t.onMouseUp_),Blockly.Flyout.onMouseMoveBlockWrapper_=Blockly.bindEvent_(document,"mousemove",this,t.onMouseMoveBlock_)),o.stopPropagation()}},Blockly.Flyout.prototype.onMouseDown_=function(e){Blockly.isRightButton(e)||(Blockly.hideChaff(!0),Blockly.Flyout.terminateDrag_(),this.startDragMouseY_=e.clientY,this.startDragMouseX_=e.clientX,Blockly.Flyout.onMouseMoveWrapper_=Blockly.bindEvent_(document,"mousemove",this,this.onMouseMove_),Blockly.Flyout.onMouseUpWrapper_=Blockly.bindEvent_(document,"mouseup",this,Blockly.Flyout.terminateDrag_),e.preventDefault(),e.stopPropagation())},Blockly.Flyout.prototype.onMouseUp_=function(e){Blockly.dragMode_==Blockly.DRAG_FREE||Blockly.WidgetDiv.isVisible()||Blockly.Events.fire(new Blockly.Events.Ui(Blockly.Flyout.startBlock_,"click",void 0,void 0)),Blockly.terminateDrag_()},Blockly.Flyout.prototype.onMouseMove_=function(e){var t=this.getMetrics_();if(this.horizontalLayout_){if(!(0>t.contentWidth-t.viewWidth)){var o=e.clientX-this.startDragMouseX_;this.startDragMouseX_=e.clientX,e=t.viewLeft-o,e=goog.math.clamp(e,0,t.contentWidth-t.viewWidth),this.scrollbar_.set(e)}}else 0>t.contentHeight-t.viewHeight||(o=e.clientY-this.startDragMouseY_,this.startDragMouseY_=e.clientY,e=t.viewTop-o,e=goog.math.clamp(e,0,t.contentHeight-t.viewHeight),this.scrollbar_.set(e))},Blockly.Flyout.prototype.onMouseMoveBlock_=function(e){if("mousemove"==e.type&&1>=e.clientX&&0==e.clientY&&0==e.button)e.stopPropagation();else{var t=e.clientX-Blockly.Flyout.startDownEvent_.clientX;e=e.clientY-Blockly.Flyout.startDownEvent_.clientY,Math.sqrt(t*t+e*e)>Blockly.DRAG_RADIUS&&Blockly.Flyout.startFlyout_.createBlockFunc_(Blockly.Flyout.startBlock_)(Blockly.Flyout.startDownEvent_)}},Blockly.Flyout.prototype.createBlockFunc_=function(e){var t=this;return function(o){if(!Blockly.isRightButton(o)&&!e.disabled){Blockly.Events.disable();var n=t.placeNewBlock_(e);Blockly.Events.enable(),Blockly.Events.isEnabled()&&(Blockly.Events.setGroup(!0),Blockly.Events.fire(new Blockly.Events.Create(n))),t.autoClose?t.hide():t.filterForCapacity_(),n.onMouseDown_(o),Blockly.dragMode_=Blockly.DRAG_FREE,n.setDragging_(!0)}}},Blockly.Flyout.prototype.placeNewBlock_=function(e){var t=this.targetWorkspace_,o=e.getSvgRoot();if(!o)throw"originBlock is not rendered.";o=Blockly.getSvgXY_(o,t);var n=this.workspace_.scrollX,i=this.workspace_.scale;if(o.x+=n/i-n,this.toolboxPosition_==Blockly.TOOLBOX_AT_RIGHT&&(n=t.getMetrics().viewWidth-this.width_,i=t.scale,o.x+=n/i-n),n=this.workspace_.scrollY,i=this.workspace_.scale,o.y+=n/i-n,this.toolboxPosition_==Blockly.TOOLBOX_AT_BOTTOM&&(n=t.getMetrics().viewHeight-this.height_,i=t.scale,o.y+=n/i-n),e=Blockly.Xml.blockToDom(e,[]),e=Blockly.Xml.domToBlock(e,t),i=e.getSvgRoot(),!i)throw"block is not rendered.";return i=Blockly.getSvgXY_(i,t),i.x+=t.scrollX/t.scale-t.scrollX,i.y+=t.scrollY/t.scale-t.scrollY,t.toolbox_&&!t.scrollbar&&(i.x+=t.toolbox_.getWidth()/t.scale,i.y+=t.toolbox_.getHeight()/t.scale),e.moveBy(o.x-i.x,o.y-i.y),e},Blockly.Flyout.prototype.filterForCapacity_=function(){for(var e,t=this.targetWorkspace_.remainingCapacity(),o=this.workspace_.getTopBlocks(!1),n=0;e=o[n];n++)if(-1==this.permanentlyDisabled_.indexOf(e)){var i=e.getDescendants();e.setDisabled(i.length>t)}},Blockly.Flyout.prototype.getClientRect=function(){var e=this.svgGroup_.getBoundingClientRect(),t=e.left,o=e.top,n=e.width;return e=e.height,this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP?new goog.math.Rect(-1e9,o-1e9,2e9,1e9+e):this.toolboxPosition_==Blockly.TOOLBOX_AT_BOTTOM?new goog.math.Rect(-1e9,o,2e9,1e9+e):this.toolboxPosition_==Blockly.TOOLBOX_AT_LEFT?new goog.math.Rect(t-1e9,-1e9,1e9+n,2e9):new goog.math.Rect(t,-1e9,1e9+n,2e9)},Blockly.Flyout.terminateDrag_=function(){Blockly.Flyout.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Flyout.onMouseUpWrapper_),Blockly.Flyout.onMouseUpWrapper_=null),Blockly.Flyout.onMouseMoveBlockWrapper_&&(Blockly.unbindEvent_(Blockly.Flyout.onMouseMoveBlockWrapper_),Blockly.Flyout.onMouseMoveBlockWrapper_=null),Blockly.Flyout.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Flyout.onMouseMoveWrapper_),Blockly.Flyout.onMouseMoveWrapper_=null),Blockly.Flyout.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Flyout.onMouseUpWrapper_),Blockly.Flyout.onMouseUpWrapper_=null),Blockly.Flyout.startDownEvent_=null,Blockly.Flyout.startBlock_=null,Blockly.Flyout.startFlyout_=null},Blockly.Flyout.prototype.reflowHorizontal=function(e){this.workspace_.scale=this.targetWorkspace_.scale;for(var t,o=0,n=0;t=e[n];n++)o=Math.max(o,t.getHeightWidth().height);if(o+=1.5*this.MARGIN,o*=this.workspace_.scale,o+=Blockly.Scrollbar.scrollbarThickness,this.height_!=o){for(n=0;t=e[n];n++){var i=t.getHeightWidth();if(t.flyoutRect_){t.flyoutRect_.setAttribute("width",i.width),t.flyoutRect_.setAttribute("height",i.height);var l=t.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0,s=t.getRelativeToSurfaceXY();t.flyoutRect_.setAttribute("y",s.y),t.flyoutRect_.setAttribute("x",this.RTL?s.x-i.width+l:s.x-l),(i=t.startHat_?Blockly.BlockSvg.START_HAT_HEIGHT:0)&&t.moveBy(0,i),t.flyoutRect_.setAttribute("y",s.y)}}this.height_=o,Blockly.asyncSvgResize(this.workspace_)}},Blockly.Flyout.prototype.reflowVertical=function(e){this.workspace_.scale=this.targetWorkspace_.scale;for(var t,o=0,n=0;t=e[n];n++){var i=t.getHeightWidth().width;t.outputConnection&&(i-=Blockly.BlockSvg.TAB_WIDTH),o=Math.max(o,i)}if(o+=1.5*this.MARGIN+Blockly.BlockSvg.TAB_WIDTH,o*=this.workspace_.scale,o+=Blockly.Scrollbar.scrollbarThickness,this.width_!=o){for(n=0;t=e[n];n++){if(i=t.getHeightWidth(),this.RTL){var l=t.getRelativeToSurfaceXY().x,s=o-this.MARGIN;s/=this.workspace_.scale,s-=Blockly.BlockSvg.TAB_WIDTH,t.moveBy(s-l,0)}t.flyoutRect_&&(t.flyoutRect_.setAttribute("width",i.width),t.flyoutRect_.setAttribute("height",i.height),s=t.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0,l=t.getRelativeToSurfaceXY(),t.flyoutRect_.setAttribute("x",this.RTL?l.x-i.width+s:l.x-s),(i=t.startHat_?Blockly.BlockSvg.START_HAT_HEIGHT:0)&&t.moveBy(0,i),t.flyoutRect_.setAttribute("y",l.y))}this.width_=o,Blockly.asyncSvgResize(this.workspace_)}},Blockly.Flyout.prototype.reflow=function(){var e=this.workspace_.getTopBlocks(!1);this.horizontalLayout_?this.reflowHorizontal(e):this.reflowVertical(e)},Blockly.Flyout.prototype.offsetHorizontalRtlBlocks=function(e){if(this.horizontalLayout_&&this.RTL){this.position();try{var t=this.workspace_.getCanvas().getBBox()}catch(e){t={height:0,y:0,width:0,x:0}}t=Math.max(-t.x+this.MARGIN,this.width_/this.workspace_.scale);for(var o,n=0;o=e[n];n++)o.moveBy(t,0),o.flyoutRect_&&o.flyoutRect_.setAttribute("x",t+Number(o.flyoutRect_.getAttribute("x")))}},Blockly.Toolbox=function(e){this.workspace_=e,this.RTL=e.options.RTL,this.horizontalLayout_=e.options.horizontalLayout,this.toolboxPosition=e.options.toolboxPosition,this.config_={indentWidth:0,cssRoot:"blocklyTreeRoot",cssHideRoot:"blocklyHidden",cssItem:"",cssTreeRow:"blocklyTreeRow",cssItemLabel:"blocklyTreeLabel",cssTreeIcon:"blocklyTreeIcon",cssExpandedFolderIcon:"blocklyTreeIconOpen",cssFileIcon:"blocklyTreeIconNone",cssSelectedRow:"blocklyTreeSelected"},this.marginIndent_=9,this.treeSeparatorConfig_={cssTreeRow:"blocklyTreeSeparator"},this.horizontalLayout_&&(this.config_.cssTreeRow+=e.RTL?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.treeSeparatorConfig_.cssTreeRow="blocklyTreeSeparatorHorizontal "+(e.RTL?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),this.config_.cssTreeIcon="")};var NOCOLOR="#FFFFFE";Blockly.Toolbox.prototype.width=0,Blockly.Toolbox.prototype.height=0,Blockly.Toolbox.prototype.selectedOption_=null,Blockly.Toolbox.prototype.lastCategory_=null,Blockly.Toolbox.prototype.init=function(){var e=this.workspace_;if(this.HtmlDiv=goog.dom.createDom("div","blocklyToolboxDiv"),this.HtmlDiv.setAttribute("dir",e.RTL?"RTL":"LTR"),e.options.toolboxHeaderRenderFunc){var t=goog.dom.createDom("div","blocklyToolboxHeaderDiv");this.HtmlDiv.appendChild(t),e.options.toolboxHeaderRenderFunc(this.HtmlDiv)}e.svgGroup_.parentNode.parentNode.appendChild(this.HtmlDiv),Blockly.bindEvent_(this.HtmlDiv,"mousedown",this,function(e){Blockly.isRightButton(e)||e.target==this.HtmlDiv?Blockly.hideChaff(!1):Blockly.hideChaff(!0)}),this.flyout_=new Blockly.Flyout({disabledPatternId:e.options.disabledPatternId,parentWorkspace:e,RTL:e.RTL,horizontalLayout:e.horizontalLayout,toolboxPosition:e.options.toolboxPosition,svg:e.options.svg,variableDeclaration:e.variableDeclaration}),goog.dom.insertSiblingAfter(this.flyout_.createDom(),e.svgGroup_),this.flyout_.init(e),this.config_.cleardotPath=e.options.pathToMedia+"1x1.gif",this.config_.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(e.RTL?"Rtl":"Ltr"),this.tree_=t=new Blockly.Toolbox.TreeControl(this,this.config_),t.setShowRootNode(!1),t.setShowLines(!1),t.setShowExpandIcons(!1),t.setSelectedItem(null),this.populate_(e.options.languageTree),t.render(this.HtmlDiv),this.addColour_(),this.position()},Blockly.Toolbox.prototype.dispose=function(){this.flyout_.dispose(),this.tree_.dispose(),goog.dom.removeNode(this.HtmlDiv),this.lastCategory_=this.workspace_=null},Blockly.Toolbox.prototype.getWidth=function(){return this.width},Blockly.Toolbox.prototype.getHeight=function(){return this.height},Blockly.Toolbox.prototype.position=function(){var e=this.HtmlDiv;if(e){var t=this.workspace_.getParentSvg(),o=goog.style.getPageOffset(t);t=Blockly.svgSize(t),this.horizontalLayout_?(e.style.left=o.x+"px",e.style.height="auto",e.style.width=t.width+"px",this.height=e.offsetHeight,e.style.top=this.toolboxPosition==Blockly.TOOLBOX_AT_TOP?o.y+"px":o.y+t.height-e.offsetHeight+"px"):(e.style.left=this.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT?o.x+t.width-e.offsetWidth+"px":o.x+"px",e.style.height=t.height+"px",e.style.top=o.y+"px",this.width=e.offsetWidth,this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT&&--this.width),o=goog.dom.getElementByClass("blocklyTreeRoot"),0<e.clientHeight-o.clientHeight?goog.dom.classlist.remove(e,"scroll"):goog.dom.classlist.add(e,"scroll"),o=this.HtmlDiv.parentElement.clientWidth||this.HtmlDiv.parentElement.parentNode.clientWidth,767<o||767<o?goog.dom.classlist.remove(e,"small"):goog.dom.classlist.add(e,"small"),this.flyout_.position()}},Blockly.Toolbox.prototype.populate_=function(e){function t(e,l,s){for(var r,a=null,c=0;r=e.childNodes[c];c++)if(r.tagName)switch(r.tagName.toUpperCase()){case"CATEGORY":var g=r.getAttribute("name");(a=Blockly.Msg[g])||(a=g),a=o.createNode(a),a.name=g,a.blocks=[],l.add(a),a.displaydepth=(l.displaydepth||0)+1,(g=r.getAttribute("custom"))?a.blocks=g:t(r,a,s),g=r.getAttribute("colour"),"const"===g?(g="CAT_"+r.getAttribute("name").toUpperCase().replace("TOOLBOX_","")+"_RGB",g=Blockly[g]):"nogroup"===g&&(g=NOCOLOR),goog.isString(g)?(g.match(/^#[0-9a-fA-F]{6}$/)?a.hexColour=g:a.hexColour=Blockly.hueToRgb(g),i=!0):a.hexColour="#57e",a.lighthexColour=goog.color.rgbArrayToHex(goog.color.lighten(goog.color.hexToRgb(a.hexColour),.6)),"true"==r.getAttribute("expanded")?(a.blocks.length&&o.setSelectedItem(a),a.setExpanded(!0)):a.setExpanded(!1),a=r;break;case"SEP":a&&("CATEGORY"==a.tagName.toUpperCase()?l.add(new Blockly.Toolbox.TreeSeparator(n.treeSeparatorConfig_)):(r=parseFloat(r.getAttribute("gap")),isNaN(r)||(g=parseFloat(a.getAttribute("gap")),r=isNaN(g)?r:g+r,a.setAttribute("gap",r))));break;case"BLOCK":case"SHADOW":l.blocks.push(r),a=r}}var o=this.tree_,n=this;o.removeChildren(),o.blocks=[];var i=!1;if(t(e,this.tree_,this.workspace_.options.pathToMedia),this.hasColours_=i,o.blocks.length)throw"Toolbox cannot have both blocks and categories in the root level.";Blockly.asyncSvgResize(this.workspace_)},Blockly.Toolbox.prototype.addColour_=function(e,t){for(var o,n=(e||this.tree_).getChildren(),i=0;o=n[i];i++){var l=o.getRowElement();if(l){var s=o.hexColour===NOCOLOR?"8px solid #FFFFFF00":this.hasColours_?"8px solid "+(o.hexColour||"#ddd"):"none";this.workspace_.RTL?l.style.borderRight=s:l.style.borderLeft=s,this.workspace_.RTL?l.style.marginRight=this.marginIndent_*(o.displaydepth-1)+"px":l.style.marginLeft=this.marginIndent_*(o.displaydepth-1)+"px"}this.addColour_(o,!0)}},Blockly.Toolbox.prototype.clearSelection=function(){this.tree_.setSelectedItem(null)},Blockly.Toolbox.prototype.getClientRect=function(){var e=this.HtmlDiv.getBoundingClientRect(),t=e.left,o=e.top,n=e.width;return e=e.height,this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT?new goog.math.Rect(-1e7,-1e7,1e7+t+n,2e7):this.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT?new goog.math.Rect(t,-1e7,1e7+n,2e7):this.toolboxPosition==Blockly.TOOLBOX_AT_TOP?new goog.math.Rect(-1e7,-1e7,2e7,1e7+o+e):new goog.math.Rect(0,o,2e7,1e7+n)},Blockly.Toolbox.TreeControl=function(e,t){this.toolbox_=e,goog.ui.tree.TreeControl.call(this,goog.html.SafeHtml.EMPTY,t)},goog.inherits(Blockly.Toolbox.TreeControl,goog.ui.tree.TreeControl),Blockly.Toolbox.TreeControl.prototype.enterDocument=function(){if(Blockly.Toolbox.TreeControl.superClass_.enterDocument.call(this),goog.events.BrowserFeature.TOUCH_ENABLED){var e=this.getElement();Blockly.bindEvent_(e,goog.events.EventType.TOUCHSTART,this,this.handleTouchEvent_)}},Blockly.Toolbox.TreeControl.prototype.handleTouchEvent_=function(e){e.preventDefault();var t=this.getNodeFromEvent_(e);t&&e.type===goog.events.EventType.TOUCHSTART&&setTimeout(function(){t.onMouseDown(e)},1)},Blockly.Toolbox.TreeControl.prototype.createNode=function(e){return new Blockly.Toolbox.TreeNode(this.toolbox_,e?goog.html.SafeHtml.htmlEscape(e):goog.html.SafeHtml.EMPTY,this.getConfig(),this.getDomHelper())},Blockly.Toolbox.TreeControl.prototype.setSelectedItem=function(e){var t=this.toolbox_;if(e!=this.selectedItem_&&e!=t.tree_){if(e&&e.hexColour===NOCOLOR?goog.ui.tree.TreeControl.prototype.setSelectedItem.call(this,null):goog.ui.tree.TreeControl.prototype.setSelectedItem.call(this,e),t.lastCategory_&&(t.lastCategory_.getRowElement().style.backgroundColor=""),e){var o=e.hexColour||"#57e";e.hexColour!==NOCOLOR&&(e.getRowElement().style.backgroundColor=o),t.addColour_(e,!0)}o=this.getSelectedItem(),e&&e.blocks&&e.blocks.length?(t.flyout_.show(e.blocks,e.lighthexColour),t.lastCategory_!=e&&t.flyout_.scrollToStart()):t.flyout_.hide(),o!=e&&o!=this&&(o=new Blockly.Events.Ui(null,"category",o&&o.getHtml(),e&&e.getHtml()),o.workspaceId=t.workspace_.id,Blockly.Events.fire(o)),e&&(t.lastCategory_=e)}},Blockly.Toolbox.TreeNode=function(e,t,o,n){goog.ui.tree.TreeNode.call(this,t,o,n),e&&(t=function(){Blockly.asyncSvgResize(e.workspace_)},goog.events.listen(e.tree_,goog.ui.tree.BaseNode.EventType.EXPAND,t),goog.events.listen(e.tree_,goog.ui.tree.BaseNode.EventType.COLLAPSE,t))},goog.inherits(Blockly.Toolbox.TreeNode,goog.ui.tree.TreeNode),Blockly.Toolbox.TreeNode.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.create("span")},Blockly.Toolbox.TreeNode.prototype.onMouseDown=function(e){this.hasChildren()&&this.isUserCollapsible_?(this.toggle(),this.select()):this.isSelected()?this.getTree().setSelectedItem(null):this.select()},Blockly.Toolbox.TreeNode.prototype.onDoubleClick_=function(e){},Blockly.Toolbox.TreeSeparator=function(e){Blockly.Toolbox.TreeNode.call(this,null,"",e)},goog.inherits(Blockly.Toolbox.TreeSeparator,Blockly.Toolbox.TreeNode),Blockly.Css={},Blockly.Css.Cursor={OPEN:"handopen",CLOSED:"handclosed",DELETE:"handdelete"},Blockly.Css.currentCursor_="",Blockly.Css.styleSheet_=null,Blockly.Css.mediaPath_="",Blockly.Css.inject=function(e,t){if(!Blockly.Css.styleSheet_){var o=".blocklyDraggable {}\n";e&&(o+=Blockly.Css.CONTENT.join("\n"),Blockly.FieldDate&&(o+=Blockly.FieldDate.CSS.join("\n"))),Blockly.Css.mediaPath_=t.replace(/[\\\/]$/,""),o=o.replace(/<<<PATH>>>/g,Blockly.Css.mediaPath_);var n=document.createElement("style");document.head.appendChild(n),o=document.createTextNode(o),n.appendChild(o),Blockly.Css.styleSheet_=n.sheet,Blockly.Css.setCursor(Blockly.Css.Cursor.OPEN)}},Blockly.Css.setCursor=function(e){if(Blockly.Css.currentCursor_!=e){Blockly.Css.currentCursor_=e;var t="url("+Blockly.Css.mediaPath_+"/"+e+".cur), auto",o=".blocklyDraggable {\n  cursor: "+t+";\n}\n";Blockly.Css.styleSheet_.deleteRule(0),Blockly.Css.styleSheet_.insertRule(o,0),o=document.getElementsByClassName("blocklyToolboxDiv");for(var n,i=0;n=o[i];i++)n.style.cursor=e==Blockly.Css.Cursor.DELETE?t:"";document.body.parentNode.style.cursor=e==Blockly.Css.Cursor.OPEN?"":t}},Blockly.Css.CONTENT=[".blocklySvg {","outline: none;","overflow: hidden;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 999;","}",".blocklyTooltipDiv {","background-color: #333;","border-radius: 2px;","color: #fff;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: 0.9;","padding: 5px;","position: absolute;","z-index: 1000;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #888;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: #FFDC00;","stroke: #FFDC00;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPath {","stroke: #FFDC00;","stroke-width: 3px;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .3;","stroke-opacity: .3;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyText.brick_label {","fill: #000;","font-weight: bold;","font-size: 14pt;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklySvg text {","user-select: none;","-moz-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyIconMarkWarningError {","fill: #000;","}",'g .blocklyIconGroup:hover path[class="blocklyIconMarkWarningError"] {',"fill: #fff;","cursor: pointer","}",'g .blocklyIconGroup:hover circle[class="blocklyIconMarkWarningError"] {',"fill: #fff;","cursor: pointer","}",".blocklyIconMarkWarningError:hover {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","transform: none;","}",".blocklyCommentTextarea {","background-color: #fff;","border: 0;","margin: 0;","padding: 2px;","resize: none;","outline: 0 none","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;","height: 100%;","margin: 0;","outline: none;","padding: 0 1px;","width: 100%;","line-height: normal;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill-opacity: .8;","}",".blocklyCon {","fill: #eee;","fill-opacity: 1;","}",".blocklyConSelected {","fill-opacity: .65;","}",".blocklyScrollbarBackground {","opacity: 0;","display: none;","}",".blocklyScrollbarKnob {","display: none;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarKnob,",".blocklyScrollbarKnob:hover {","fill: #bbb;","}",".blocklyZoom>image {","opacity: .4;","}",".blocklyZoom>image:hover {","opacity: .6;","}",".blocklyZoom>image:active {","opacity: .8;","}",'rect[class="blocklyButtonBack"] { ',"fill: #fff;","}","g .robButtonHidden {","display: none","}",'g .robButton:hover rect[class="blocklyButtonBack"] {',"fill: #BACC1E;","cursor: pointer","}",'g .robButton:hover path[class="blocklyButtonPath"] {',"cursor: pointer","}","g .robButton.disabled {","pointer-events: none;","}",'g .robButton.disabled path[class="blocklyButtonPath"] {',"fill: #bbb","}",".blocklyFlyout .blocklyScrollbarKnob {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarKnob,",".blocklyFlyout .blocklyScrollbarKnob:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;","}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;","}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","}",".blocklyAngleLine {","stroke: #f00;","stroke-width: 2;","stroke-linecap: round;","}",".blocklyContextMenu {","border-radius: 4px;","}",".blocklyDropdownMenu {","padding: 0 !important;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;","}",".blocklyToolboxDiv {","background-color: #eee;","overflow-x: hidden;","overflow-y: visible;","position: absolute;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 6px;","padding-right: 8px;","padding-top: 2px","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {","float: right;","margin: 1px 0 8px 5px;","}",".blocklyTreeRow:hover {","cursor: pointer","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","cursor: pointer","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 8px;","}",".toolboxIcon.typcn:before {","line-height:0","}",".blocklyTreeIconClosedLtr {","background-position: -36px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: -4px -1px;","}",".blocklyTreeIconOpen {","background-position: -20px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -36px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: -4px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -20px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -52px -1px;","width: 0px","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 15px;","padding: 0 3px;","font-weight: 600;","color: #666;","vertical-align: middle;","}",".blocklyTreeSub {","  font-size: 10pt;","}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}",".blocklyWidgetDiv .goog-palette {","outline: none;","cursor: default;","}",".blocklyWidgetDiv .goog-palette-table {","border: 1px solid #666;","border-collapse: collapse;","}",".blocklyWidgetDiv .goog-palette-cell {","height: 13px;","width: 15px;","margin: 0;","border: 0;","text-align: center;","vertical-align: middle;","border-right: 1px solid #666;","font-size: 1px;","}",".blocklyWidgetDiv .goog-palette-colorswatch {","position: relative;","height: 13px;","width: 15px;","border: 1px solid #666;","}",".blocklyWidgetDiv .goog-palette-cell-hover .goog-palette-colorswatch {","border: 1px solid #FFF;","}",".blocklyWidgetDiv .goog-palette-cell-selected .goog-palette-colorswatch {","border: 1px solid #000;","color: #fff;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: #ccc #666 #666 #ccc;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","padding: 4px 7em 4px 28px;","white-space: nowrap;","}",".blocklyWidgetDiv .goog-menuitem.dropdownImage{","padding: 4px 17px 4px 28px;","}",".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl {","padding-left: 7em;","padding-right: 28px;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem {","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem {","padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content {","color: #000;","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel,",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: 0.3;","-moz-opacity: 0.3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight,",".blocklyWidgetDiv .goog-menuitem-hover {","background-color: #d6e9f8;","border-color: #d6e9f8;","border-style: dotted;","border-width: 1px 0;","padding-bottom: 3px;","padding-top: 3px;","}",".blocklyWidgetDiv .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon {","left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(//ssl.gstatic.com/editor/editortoolbar.png) no-repeat -512px 0;","}",".blocklyWidgetDiv .goog-menuitem-accel {","color: #999;","direction: ltr;","left: auto;","padding: 0 6px;","position: absolute;","right: 0;","text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel {","left: 0;","right: auto;","text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint {","text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator {","color: #999;","font-size: 12px;","padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator {","border-top: 1px solid #ccc;","margin: 4px 0;","padding: 0;","}",".code-field-editor {","height:100%;","width:100%;","}",".blocklyCode {","font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', 'Droid Sans Mono', monospace;","white-space: pre-wrap","}",""],
Blockly.WidgetDiv={},Blockly.WidgetDiv.DIV=null,Blockly.WidgetDiv.owner_=null,Blockly.WidgetDiv.dispose_=null,Blockly.WidgetDiv.createDom=function(){Blockly.WidgetDiv.DIV||(Blockly.WidgetDiv.DIV=goog.dom.createDom("div","blocklyWidgetDiv"),document.body.appendChild(Blockly.WidgetDiv.DIV))},Blockly.WidgetDiv.show=function(e,t,o){Blockly.WidgetDiv.hide(),Blockly.WidgetDiv.owner_=e,Blockly.WidgetDiv.dispose_=o,e=goog.style.getViewportPageOffset(document),Blockly.WidgetDiv.DIV.style.top=e.y+"px",Blockly.WidgetDiv.DIV.style.direction=t?"rtl":"ltr",Blockly.WidgetDiv.DIV.style.display="block"},Blockly.WidgetDiv.hide=function(){Blockly.WidgetDiv.owner_&&(Blockly.WidgetDiv.owner_=null,Blockly.WidgetDiv.DIV.style.display="none",Blockly.WidgetDiv.DIV.style.left="",Blockly.WidgetDiv.DIV.style.top="",Blockly.WidgetDiv.DIV.style.height="",Blockly.WidgetDiv.dispose_&&Blockly.WidgetDiv.dispose_(),Blockly.WidgetDiv.dispose_=null,goog.dom.removeChildren(Blockly.WidgetDiv.DIV))},Blockly.WidgetDiv.isVisible=function(){return!!Blockly.WidgetDiv.owner_},Blockly.WidgetDiv.hideIfOwner=function(e){Blockly.WidgetDiv.owner_==e&&Blockly.WidgetDiv.hide()},Blockly.WidgetDiv.position=function(e,t,o,n,i){t<n.y+100&&(t=n.y+100),i?e>o.width+n.x&&(e=o.width+n.x):e<n.x&&(e=n.x),Blockly.WidgetDiv.DIV.style.left=e+"px",Blockly.WidgetDiv.DIV.style.top=t+"px",Blockly.WidgetDiv.DIV.style.height=o.height-t+n.y-2+"px"},Blockly.constants={},Blockly.DRAG_RADIUS=5,Blockly.SNAP_RADIUS=20,Blockly.BUMP_DELAY=250,Blockly.COLLAPSE_CHARS=30,Blockly.LONGPRESS=750,Blockly.HSV_SATURATION=.45,Blockly.HSV_VALUE=.65,Blockly.CAT_LOGIC_RGB="#33B8CA",Blockly.CAT_MOVE_RGB="#33B8CA",Blockly.CAT_VECTOR3_RGB="#EBC300",Blockly.CAT_VECTOR_RGB="#EBC300",Blockly.CAT_LIST_RGB="#39378B",Blockly.CAT_MATH_RGB="#005A94",Blockly.CAT_PROCEDURE_RGB="#179C7D",Blockly.CAT_ACTION_RGB="#F29400",Blockly.CAT_EVENTS_RGB="#F29400",Blockly.CAT_ACTIVITY_RGB="#9085BA",Blockly.CAT_VARIABLE_RGB="#9085BA",Blockly.CAT_CONTROL_RGB="#EB6A0A",Blockly.CAT_SENSOR_RGB="#8FA402",Blockly.CAT_UNITY_RGB="#8FA402",Blockly.CAT_OBJECTS_RGB="#8FA402",Blockly.CAT_TEXT_RGB="#BACC1E",Blockly.CAT_UNUSED_RGB="#E2001A",Blockly.CAT_COMMUNICATION_RGB="#FF69B4",Blockly.CAT_DETECT_RGB="#FF69B4",Blockly.CAT_SPRITE_RGB="#FF69B4",Blockly.CAT_IMAGE_RGB="#DF01D7",Blockly.CAT_ROTATE_RGB="#DF01D7",Blockly.CAT_TIME_RGB="#11c996",Blockly.CAT_MORE_RGB="#68bce8",Blockly.CAT_OTHER_RGB="#5577ee",Blockly.CAT_ICON=[],Blockly.CAT_ICON.TOOLBOX_EVENTS="glyphicon glyphicon-flash",Blockly.CAT_ICON.TOOLBOX_VARIABLE="glyphicon glyphicon-tasks",Blockly.CAT_ICON.TOOLBOX_CONTROL="glyphicon glyphicon-random",Blockly.CAT_ICON.TOOLBOX_DETECT="glyphicon glyphicon-eye-open",Blockly.CAT_ICON.TOOLBOX_MOVE="glyphicon glyphicon-move",Blockly.CAT_ICON.TOOLBOX_VECTOR="glyphicon glyphicon-screenshot",Blockly.CAT_ICON.TOOLBOX_MATH="glyphicon glyphicon-plus",Blockly.CAT_ICON.TOOLBOX_OBJECTS="glyphicon glyphicon-certificate",Blockly.CAT_ICON.TOOLBOX_TEXT="glyphicon glyphicon-text-color",Blockly.CAT_ICON.TOOLBOX_OTHER="glyphicon glyphicon-option-horizontal",Blockly.CAT_ICON.TOOLBOX_MORE="glyphicon glyphicon-console",Blockly.SPRITE={width:96,height:124,url:"sprites.png"},Blockly.SVG_NS="http://www.w3.org/2000/svg",Blockly.HTML_NS="http://www.w3.org/1999/xhtml",Blockly.INPUT_VALUE=1,Blockly.OUTPUT_VALUE=2,Blockly.NEXT_STATEMENT=3,Blockly.PREVIOUS_STATEMENT=4,Blockly.DUMMY_INPUT=5,Blockly.ALIGN_LEFT=-1,Blockly.ALIGN_CENTRE=0,Blockly.ALIGN_RIGHT=1,Blockly.DRAG_NONE=0,Blockly.DRAG_STICKY=1,Blockly.DRAG_FREE=2,Blockly.OPPOSITE_TYPE=[],Blockly.OPPOSITE_TYPE[Blockly.INPUT_VALUE]=Blockly.OUTPUT_VALUE,Blockly.OPPOSITE_TYPE[Blockly.OUTPUT_VALUE]=Blockly.INPUT_VALUE,Blockly.OPPOSITE_TYPE[Blockly.NEXT_STATEMENT]=Blockly.PREVIOUS_STATEMENT,Blockly.OPPOSITE_TYPE[Blockly.PREVIOUS_STATEMENT]=Blockly.NEXT_STATEMENT,Blockly.DATA_TYPE=[],Blockly.DATA_TYPE.Number="#005A94",Blockly.DATA_TYPE.String="#BACC1E",Blockly.DATA_TYPE.Boolean="#EB6A0A",Blockly.DATA_TYPE.Sprite="#FF69B4",Blockly.DATA_TYPE.GameObject="#8FA402",Blockly.DATA_TYPE.Vector3="#EBC300",Blockly.DATA_TYPE.Quaternion="#DF01D7",Blockly.DATA_TYPE.List_Number="#39378B",Blockly.DATA_TYPE.List_String="#39378B",Blockly.TOOLBOX_AT_TOP=0,Blockly.TOOLBOX_AT_BOTTOM=1,Blockly.TOOLBOX_AT_LEFT=2,Blockly.TOOLBOX_AT_RIGHT=3,Blockly.inject=function(e,t){if(goog.isString(e)&&(e=document.getElementById(e)||document.querySelector(e)),!goog.dom.contains(document,e))throw"Error: container is not in current document.";var o=new Blockly.Options(t||{}),n=Blockly.createDom_(e,o);return o=Blockly.createMainWorkspace_(n,o),Blockly.init_(o),o.markFocused(),Blockly.bindEvent_(n,"focus",o,o.markFocused),o},Blockly.parseToolboxTree_=function(e){return e?("string"!=typeof e&&("undefined"==typeof XSLTProcessor&&e.outerHTML?e=e.outerHTML:e instanceof Element||(e=null)),"string"==typeof e&&(e=Blockly.Xml.textToDom(e))):e=null,e},Blockly.parseOptions_=function(e){var t=!!e.readOnly;if(t)var o=null,n=!1,i=!1,l=!1,s=!1,r=!1;else{o=Blockly.parseToolboxTree_(e.toolbox),n=!(!o||!o.getElementsByTagName("category").length),i=e.trashcan,void 0===i&&(i=n);var a=e.collapse;void 0===a&&(a=n),l=e.comments,void 0===l&&(l=n),s=e.disable,void 0===s&&(s=n),r=e.sounds,void 0===r&&(r=!0)}var c=e.scrollbars;void 0===c&&(c=n);var g=e.css;void 0===g&&(g=!0);var u=e.grid||{},p={};p.spacing=parseFloat(u.spacing)||0,p.colour=u.colour||"#888",p.length=parseFloat(u.length)||1,p.snap=0<p.spacing&&!!u.snap,u="https://blockly-demo.appspot.com/static/media/",e.media?u=e.media:e.path&&(u=e.path+"media/");var h=e.zoom||{},d={};return d.controls=void 0!==h.controls&&!!h.controls,d.wheel=void 0!==h.wheel&&!!h.wheel,d.startScale=void 0===h.startScale?1:parseFloat(h.startScale),d.maxScale=void 0===h.maxScale?3:parseFloat(h.maxScale),d.minScale=void 0===h.minScale?.3:parseFloat(h.minScale),d.scaleSpeed=void 0===h.scaleSpeed?1.2:parseFloat(h.scaleSpeed),h=!!e.realtime,{RTL:!!e.rtl,collapse:a,comments:l,disable:s,readOnly:t,maxBlocks:e.maxBlocks||1/0,pathToMedia:u,hasCategories:n,hasScrollbars:c,hasTrashcan:i,hasSounds:r,hasCss:g,languageTree:o,gridOptions:p,zoomOptions:d,enableRealtime:h,realtimeOptions:h?e.realtimeOptions:void 0,checkInTask:e.checkInTask||!1,variableDeclaration:!!e.variableDeclaration,robControls:!!e.robControls}},Blockly.createDom_=function(e,t){e.setAttribute("dir","LTR"),goog.ui.Component.setDefaultRightToLeft(t.RTL),Blockly.Css.inject(t.hasCss,t.pathToMedia);var o=Blockly.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",class:"blocklySvg"},e),n=Blockly.createSvgElement("defs",{},o),i=String(Math.random()).substring(2),l=Blockly.createSvgElement("filter",{id:"blocklyEmbossFilter"+i},n);Blockly.createSvgElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:1,result:"blur"},l);var s=Blockly.createSvgElement("feSpecularLighting",{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},l);return Blockly.createSvgElement("fePointLight",{x:-5e3,y:-1e4,z:2e4},s),Blockly.createSvgElement("feComposite",{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},l),Blockly.createSvgElement("feComposite",{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},l),t.embossFilterId=l.id,l=Blockly.createSvgElement("pattern",{id:"blocklyDisabledPattern"+i,patternUnits:"userSpaceOnUse",width:10,height:10},n),Blockly.createSvgElement("rect",{width:10,height:10,fill:"#aaa"},l),Blockly.createSvgElement("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},l),t.disabledPatternId=l.id,n=Blockly.createSvgElement("pattern",{id:"blocklyGridPattern"+i,patternUnits:"userSpaceOnUse"},n),0<t.gridOptions.length&&0<t.gridOptions.spacing&&(Blockly.createSvgElement("line",{stroke:t.gridOptions.colour},n),1<t.gridOptions.length&&Blockly.createSvgElement("line",{stroke:t.gridOptions.colour},n)),t.gridPattern=n,o},Blockly.createMainWorkspace_=function(e,t){t.parentWorkspace=null,t.getMetrics=Blockly.getMainWorkspaceMetrics_,t.setMetrics=Blockly.setMainWorkspaceMetrics_;var o=new Blockly.WorkspaceSvg(t);return o.scale=t.zoomOptions.startScale,e.appendChild(o.createDom("blocklyMainBackground")),o.translate(0,0),o.markFocused(),t.readOnly||t.hasScrollbars||o.addChangeListener(function(){if(Blockly.dragMode_==Blockly.DRAG_NONE){var e=o.getMetrics(),n=e.viewLeft+e.absoluteLeft,i=e.viewTop+e.absoluteTop;if(e.contentTop<i||e.contentTop+e.contentHeight>e.viewHeight+i||e.contentLeft<(t.RTL?e.viewLeft:n)||e.contentLeft+e.contentWidth>(t.RTL?e.viewWidth:e.viewWidth+n))for(var l,s=o.getTopBlocks(!1),r=0;l=s[r];r++){var a=l.getRelativeToSurfaceXY(),c=l.getHeightWidth(),g=i+25-c.height-a.y;0<g&&l.moveBy(0,g),g=i+e.viewHeight-25-a.y,0>g&&l.moveBy(0,g),g=25+n-a.x-(t.RTL?0:c.width),0<g&&l.moveBy(g,0),a=n+e.viewWidth-25-a.x+(t.RTL?c.width:0),0>a&&l.moveBy(a,0)}}}),Blockly.svgResize(o),Blockly.WidgetDiv.createDom(),Blockly.Tooltip.createDom(),o},Blockly.init_=function(e){var t=e.options,o=e.getParentSvg();Blockly.bindEvent_(o,"contextmenu",null,function(e){Blockly.isTargetInput_(e)||e.preventDefault()}),Blockly.bindEvent_(window,"resize",null,function(){Blockly.hideChaff(!0),Blockly.asyncSvgResize(e)}),Blockly.inject.bindDocumentEvents_(),t.languageTree&&(e.toolbox_?e.toolbox_.init(e):e.flyout_&&(e.flyout_.init(e),e.flyout_.show(t.languageTree.childNodes),e.flyout_.scrollToStart(),e.scrollX=e.flyout_.width_,t.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT&&(e.scrollX*=-1),e.translate(e.scrollX,0))),t.hasScrollbars&&(e.scrollbar=new Blockly.ScrollbarPair(e),e.scrollbar.resize()),t.hasSounds&&Blockly.inject.loadSounds_(t.pathToMedia,e)},Blockly.inject.bindDocumentEvents_=function(){Blockly.documentEventsBound_||(Blockly.bindEvent_(document,"keydown",null,Blockly.onKeyDown_),Blockly.bindEvent_(document,"touchend",null,Blockly.longStop_),Blockly.bindEvent_(document,"touchcancel",null,Blockly.longStop_),document.addEventListener("mouseup",Blockly.onMouseUp_,!1),goog.userAgent.IPAD&&Blockly.bindEvent_(window,"orientationchange",document,function(){Blockly.asyncSvgResize()})),Blockly.documentEventsBound_=!0},Blockly.inject.loadSounds_=function(e,t){t.loadAudio_([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),t.loadAudio_([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),t.loadAudio_([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");var o=[],n=function(){for(;o.length;)Blockly.unbindEvent_(o.pop());t.preloadAudio_()};o.push(Blockly.bindEvent_(document,"mousemove",null,n)),o.push(Blockly.bindEvent_(document,"touchstart",null,n))},Blockly.updateToolbox=function(e){console.warn("Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead."),Blockly.getMainWorkspace().updateToolbox(e)},Blockly.utils={},Blockly.addClass_=function(e,t){var o=e.getAttribute("class")||"";-1==(" "+o+" ").indexOf(" "+t+" ")&&(o&&(o+=" "),e.setAttribute("class",o+t))},Blockly.removeClass_=function(e,t){var o=e.getAttribute("class");if(-1!=(" "+o+" ").indexOf(" "+t+" ")){o=o.split(/\s+/);for(var n=0;n<o.length;n++)o[n]&&o[n]!=t||(o.splice(n,1),n--);o.length?e.setAttribute("class",o.join(" ")):e.removeAttribute("class")}},Blockly.hasClass_=function(e,t){return-1!=(" "+e.getAttribute("class")+" ").indexOf(" "+t+" ")},Blockly.bindEvent_=function(e,t,o,n){var i=o?function(e){n.call(o,e)}:n;e.addEventListener(t,i,!1);var l=[[e,t,i]];if(t in Blockly.bindEvent_.TOUCH_MAP){i=function(e){if(1==e.changedTouches.length){var t=e.changedTouches[0];e.clientX=t.clientX,e.clientY=t.clientY}n.call(o,e),e.preventDefault()};for(var s,r=0;s=Blockly.bindEvent_.TOUCH_MAP[t][r];r++)e.addEventListener(s,i,!1),l.push([e,s,i])}return l},Blockly.bindEvent_.TOUCH_MAP={},goog.events.BrowserFeature.TOUCH_ENABLED&&(Blockly.bindEvent_.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]}),Blockly.unbindEvent_=function(e){for(;e.length;){var t=e.pop(),o=t[2];t[0].removeEventListener(t[1],o,!1)}return o},Blockly.noEvent=function(e){e.preventDefault(),e.stopPropagation()},Blockly.isTargetInput_=function(e){return"textarea"==e.target.type||"text"==e.target.type||"number"==e.target.type||"email"==e.target.type||"password"==e.target.type||"search"==e.target.type||"tel"==e.target.type||"url"==e.target.type||e.target.isContentEditable},Blockly.getRelativeXY_=function(e){var t=new goog.math.Coordinate(0,0),o=e.getAttribute("x");return o&&(t.x=parseInt(o,10)),(o=e.getAttribute("y"))&&(t.y=parseInt(o,10)),(e=(e=e.getAttribute("transform"))&&e.match(Blockly.getRelativeXY_.XY_REGEXP_))&&(t.x+=parseFloat(e[1]),e[3]&&(t.y+=parseFloat(e[3]))),t},Blockly.getRelativeXY_.XY_REGEXP_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*\))?/,Blockly.getSvgXY_=function(e,t){var o=0,n=0,i=1;(goog.dom.contains(t.getCanvas(),e)||goog.dom.contains(t.getBubbleCanvas(),e))&&(i=t.scale);do{var l=Blockly.getRelativeXY_(e);e!=t.getCanvas()&&e!=t.getBubbleCanvas()||(i=1),o+=l.x*i,n+=l.y*i,e=e.parentNode}while(e&&e!=t.getParentSvg());return new goog.math.Coordinate(o,n)},Blockly.createSvgElement=function(e,t,o,n){e=document.createElementNS(Blockly.SVG_NS,e);for(var i in t)e.setAttribute(i,t[i]);return document.body.runtimeStyle&&(e.runtimeStyle=e.currentStyle=e.style),o&&o.appendChild(e),e},Blockly.isRightButton=function(e){return!(!e.ctrlKey||!goog.userAgent.MAC)||2==e.button},Blockly.mouseToSvg=function(e,t){var o=t.createSVGPoint();o.x=e.clientX,o.y=e.clientY;var n=t.getScreenCTM();return n=n.inverse(),o.matrixTransform(n)},Blockly.shortestStringLength=function(e){if(!e.length)return 0;for(var t=e[0].length,o=1;o<e.length;o++)t=Math.min(t,e[o].length);return t},Blockly.commonWordPrefix=function(e,t){if(!e.length)return 0;if(1==e.length)return e[0].length;for(var o=0,n=t||Blockly.shortestStringLength(e),i=0;i<n;i++){for(var l=e[0][i],s=1;s<e.length;s++)if(l!=e[s][i])return o;" "==l&&(o=i+1)}for(s=1;s<e.length;s++)if((l=e[s][i])&&" "!=l)return o;return n},Blockly.commonWordSuffix=function(e,t){if(!e.length)return 0;if(1==e.length)return e[0].length;for(var o=0,n=t||Blockly.shortestStringLength(e),i=0;i<n;i++){for(var l=e[0].substr(-i-1,1),s=1;s<e.length;s++)if(l!=e[s].substr(-i-1,1))return o;" "==l&&(o=i+1)}for(s=1;s<e.length;s++)if((l=e[s].charAt(e[s].length-i-1))&&" "!=l)return o;return n},Blockly.isNumber=function(e){return!!e.match(/^\s*-?\d+(\.\d+)?\s*$/)},Blockly.tokenizeInterpolation=function(e){var t=[];e=e.split(""),e.push("");for(var o=0,n=[],i=null,l=0;l<e.length;l++){var s=e[l];0==o?"%"==s?o=1:n.push(s):1==o?"%"==s?(n.push(s),o=0):"0"<=s&&"9">=s?(o=2,i=s,(s=n.join(""))&&t.push(s),n.length=0):(n.push("%",s),o=0):2==o&&("0"<=s&&"9">=s?i+=s:(t.push(parseInt(i,10)),l--,o=0))}return(s=n.join(""))&&t.push(s),t},Blockly.genUid=function(){for(var e=Blockly.genUid.soup_.length,t=[],o=0;20>o;o++)t[o]=Blockly.genUid.soup_.charAt(Math.random()*e);return t.join("")},Blockly.genUid.soup_="!#%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Blockly.DataTypes={},Blockly.DataTypes.getTypes=function(e){return[[Blockly.Msg.VARIABLES_TYPE_NUMBER,"Number"],[Blockly.Msg.VARIABLES_TYPE_BOOLEAN,"Boolean"],[Blockly.Msg.VARIABLES_TYPE_STRING,"String"],[Blockly.Msg.VARIABLES_TYPE_GAMEOBJECT,"GameObject"],[Blockly.Msg.VARIABLES_TYPE_VECTOR3,"Vector3"],[Blockly.Msg.VARIABLES_TYPE_QUATERNION,"Quaternion"],[Blockly.Msg.VARIABLES_TYPE_SPRITE,"Sprite"]]},Blockly.DataTypes.getDefaultBlock=function(e,t){var o=null;if("Number"===t)o=e.newBlock("math_number");else if("String"===t)o=e.newBlock("text");else if("Boolean"===t)o=e.newBlock("logic_boolean");else if("Vector3"===t){o=e.newBlock("unityVector_make"),o.PROPERTY_FIX_CHILDREN_DECLARE=!0,o.initSvg(),o.render();for(var n=["X","Y","Z"],i=0;3>i;i++){var l=o.getInput(n[i]),s=e.newBlock("math_number");s.initSvg(),s.render(),l.connection.connect(s.outputConnection)}}else"List_"===t.substr(0,5)?(o=e.newBlock("unityLists_create_with"),o.setFieldValue(t.substr(5),"LIST_TYPE")):"GameObject"===t||"Sprite"===t?o=e.newBlock("logic_null"):"Quaternion"===t&&(o=e.newBlock("unityrotate_identity"));return o},Blockly.DataTypes.getDataTypeColour=function(e){return"Number"===e?Blockly.CAT_MATH_RGB:"String"===e?Blockly.CAT_TEXT_RGB:"Boolean"===e?Blockly.CAT_CONTROL_RGB:"Vector3"===e?Blockly.CAT_VECTOR_RGB:"GameObject"===e?Blockly.CAT_OBJECTS_RGB:"Sprite"===e?Blockly.CAT_SPRITE_RGB:"Quaternion"===e?Blockly.CAT_ROTATE_RGB:Blockly.CAT_VARIABLE_RGB},Blockly.DataTypes.importInputFromBlock=function(e,t,o,n){o&&("Number"===n?"math_number"===o.type&&t.setFieldValue(o.getFieldValue("NUM"),"NUM"):"String"===n?"text"===o.type&&t.setFieldValue(o.getFieldValue("TEXT"),"TEXT"):"Boolean"===n?"logic_boolean"===o.type&&t.setFieldValue(o.getFieldValue("BOOL"),"BOOL"):"Vector3"===n&&"unityVector_make"===o.type&&(e=o.getInputTargetBlock("X"),n=o.getInputTargetBlock("Y"),o=o.getInputTargetBlock("Z"),e&&"math_number"===e.type&&t.setFieldValue(e.getFieldValue("NUM"),"X"),n&&"math_number"===n.type&&t.setFieldValue(n.getFieldValue("NUM"),"Y"),o&&"math_number"===o.type&&t.setFieldValue(o.getFieldValue("NUM"),"Z")))},Blockly.DataTypes.addDataTypeInputBlock=function(e,t,o,n){n&&t.appendField(Blockly.RTL?"→":"←","arrow"),"Number"===o?t.appendField(new Blockly.FieldNumber("0",Blockly.FieldTextInput.numberValidator),"NUM"):"String"===o?t.appendField(Blockly.DataTypes.newQuote_(!0===e.RTL),"TEXTQ1").appendField(new Blockly.FieldTextInput(""),"TEXT").appendField(Blockly.DataTypes.newQuote_(!1===e.RTL),"TEXTQ2"):"Boolean"===o?t.appendField(new Blockly.FieldDropdown([[Blockly.Msg.LOGIC_BOOLEAN_TRUE,"TRUE"],[Blockly.Msg.LOGIC_BOOLEAN_FALSE,"FALSE"]]),"BOOL"):"Vector3"===o?(t.appendField(Blockly.Msg.UNITY_VECTOR_CREATE_X_TITLE,"Xlabel"),t.appendField(new Blockly.FieldNumber("0"),"X"),t.appendField(Blockly.Msg.UNITY_VECTOR_CREATE_Y_TITLE,"Ylabel"),t.appendField(new Blockly.FieldNumber("0"),"Y"),t.appendField(Blockly.Msg.UNITY_VECTOR_CREATE_Z_TITLE,"Zlabel"),t.appendField(new Blockly.FieldNumber("0"),"Z")):"List_"!==o.substr(0,5)&&("GameObject"===o||"Sprite"===o?t.appendField(Blockly.Msg.LOGIC_NULL,"label"):"Quaternion"===o&&t.appendField(Blockly.Msg.UNITY_QUATERNION_IDENTITY_TITLE,"label"))},Blockly.DataTypes.removeDataTypeInputBlock=function(e,t,o,n){n&&t.removeField("arrow"),"Number"===o?t.removeField("NUM"):"String"===o?(t.removeField("TEXTQ1"),t.removeField("TEXT"),t.removeField("TEXTQ2")):"Boolean"===o?t.removeField("BOOL"):"Vector3"===o?(t.removeField("Xlabel"),t.removeField("X"),t.removeField("Ylabel"),t.removeField("Y"),t.removeField("Zlabel"),t.removeField("Z")):"List_"!==o.substr(0,5)&&("GameObject"===o||"Sprite"===o?t.removeField("label"):"Quaternion"===o&&t.removeField("label"))},Blockly.DataTypes.newQuote_=function(e){return new Blockly.FieldImage(e?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",12,12,'"')},Blockly.OutputMutatingBlock={},Blockly.OutputMutatingBlock.createParamBlock=function(e,t,o){return{init:function(){for(var e=o(),n=[],i={},l={},s=0;s<e.length;s++){var r=e[s];n.push([r.label+" ("+r.type+")",r.val]),i[r.val]=r.proposedname,l[r.val]=r.type}this.varDropdown_=new Blockly.FieldTypedVariable(e[0].type,void 0,e[0].proposedname),this.selectWhatOptions_=goog.bind(function(e){this.declarationType_=l[e],this.varDropdown_.setRequiredType(l[e],i[e]),this.updateShape_(0,e)},this),this.whatDropdown_=new Blockly.FieldDropdown(n,void 0,this.selectWhatOptions_),this.appendDummyInput().appendField(Blockly.Msg.UNITY_PARAMOUTPUT_TITLE_1).appendField(this.whatDropdown_,"WHAT").appendField(Blockly.Msg.UNITY_PARAMOUTPUT_TITLE_2).appendField(this.varDropdown_,"VAR"),this.setPreviousStatement(!0,"parameteroutput_only"),this.setMutatorMinus(new Blockly.MutatorMinus(["parameterouput_declare"])),this.setMovable(!1),this.setDeletable(!1),this.contextMenuMsg_=Blockly.Msg.VARIABLES_SET_CREATE_GET,this.contextMenudeclarationType_="variables_get",this.declarationType_="Number",this.nextStatement_=!1,this.selectWhatOptions_(this.getFieldValue("WHAT")),this.setNextStatement(!1),t.call(this)},mutationToDom:function(){var e=document.createElement("mutation");return void 0!==this.nextStatement_&&e.setAttribute("next",this.nextStatement_),e},domToMutation:function(e){(this.nextStatement_="true"==e.getAttribute("next"))&&this.setNext(this.nextStatement_)},setNext:function(e){this.nextStatement_=e,this.setNextStatement(e,"parameteroutput_only")},getVars:function(){return[this.getFieldValue("VAR")]},updateShape_:function(t,o){if(-1==t){var n=this.getParent(),i=this.getNextBlock();this.unplug(!0,!0),n&&n.type==e&&!i?n.updateShape_(t):n&&!i&&n.setNext(!1),this.dispose()}},contextMenuType_:"variables_get",customContextMenu:function(e){var t={enabled:!0},o=this.getFieldValue("VAR");t.text=this.contextMenuMsg_.replace("%1",o),o=goog.dom.createDom("field",null,o),o.setAttribute("name","VAR"),o=goog.dom.createDom("block",null,o),o.setAttribute("type",this.contextMenuType_),o.setAttribute("intask",!1);var n=goog.dom.createDom("mutation");o.appendChild(n),t.callback=Blockly.ContextMenu.callbackFactory(this,o),e.push(t)}}},Blockly.OutputMutatingBlock.createBlock=function(e,t,o){return{init:function(){t.call(this),this.declare_=!1},mutationToDom:function(e){return e||(e=document.createElement("mutation")),e.setAttribute("declare",1==this.declare_),e},domToMutation:function(e){(this.declare_="false"!=e.getAttribute("declare"))&&this.addOutputsArea_()},addOutputsArea_:function(){this.appendStatementInput("OUTPUTS"),this.getInput("OUTPUTS").connection.setCheck("parameteroutput_only"),this.appendDummyInput("EXECNOTE").appendField(Blockly.Msg.UNITY_PARAMOUTPUT_EXECUTE_TITLE),o&&(this.moveInputBefore("OUTPUTS",o),this.moveInputBefore("EXECNOTE",o))},updateShape_:function(t){if(1==t){this.declare_||(this.addOutputsArea_(),this.declare_=!0),t=this.workspace.newBlock(e),t.initSvg(),t.render();var o;if(this.getInput("OUTPUTS").connection.targetConnection){if(o=this.getInput("OUTPUTS").connection.targetConnection.sourceBlock_)for(;o.getNextBlock();)o=o.getNextBlock();o.setNext(!0),o=o.nextConnection}else o=this.getInput("OUTPUTS").connection;o.connect(t.previousConnection)}else-1==t&&(this.removeInput("OUTPUTS"),this.removeInput("EXECNOTE"),this.declare_=!1)}}},Blockly.PhysicsToggle={},Blockly.PhysicsToggle.makeToggleField=function(e){return new Blockly.FieldDropdownImage([["2D","2D"],["3D","3D"]],"/toggle_",16,16,"png",!0,!1,e)};var CLOSURE_DEFINES={"goog.DEBUG":!1};Blockly.mainWorkspace=null,Blockly.selected=null,Blockly.highlightedConnection_=null,Blockly.localConnection_=null,Blockly.draggingConnections_=[],Blockly.clipboardXml_=null,Blockly.clipboardSource_=null,Blockly.dragMode_=Blockly.DRAG_NONE,Blockly.onTouchUpWrapper_=null,Blockly.hueToRgb=function(e){return goog.color.hsvToHex(e,Blockly.HSV_SATURATION,255*Blockly.HSV_VALUE)},Blockly.svgSize=function(e){return{width:e.cachedWidth_,height:e.cachedHeight_}},Blockly.asyncSvgResize=function(e){Blockly.svgResizePending_||(e||(e=Blockly.getMainWorkspace()),Blockly.svgResizePending_=!0,setTimeout(function(){Blockly.svgResize(e)},0))},Blockly.svgResizePending_=!1,Blockly.svgResize=function(e){for(Blockly.svgResizePending_=!1;e.options.parentWorkspace;)e=e.options.parentWorkspace;var t=e.getParentSvg(),o=t.parentNode;if(o){var n=o.offsetWidth;o=o.offsetHeight,t.cachedWidth_!=n&&(t.setAttribute("width",n+"px"),t.cachedWidth_=n),t.cachedHeight_!=o&&(t.setAttribute("height",o+"px"),t.cachedHeight_=o),e.resize()}},Blockly.onMouseUp_=function(e){e=Blockly.getMainWorkspace(),Blockly.Css.setCursor(Blockly.Css.Cursor.OPEN),e.isScrolling=!1,Blockly.onTouchUpWrapper_&&(Blockly.unbindEvent_(Blockly.onTouchUpWrapper_),Blockly.onTouchUpWrapper_=null),Blockly.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.onMouseMoveWrapper_),Blockly.onMouseMoveWrapper_=null)},Blockly.onMouseMove_=function(e){if(!(e.touches&&2<=e.touches.length)){var t=Blockly.getMainWorkspace();if(t.isScrolling){var o=e.clientX-t.startDragMouseX,n=e.clientY-t.startDragMouseY,i=t.startDragMetrics,l=t.startScrollX+o,s=t.startScrollY+n;l=Math.min(l,-i.contentLeft),s=Math.min(s,-i.contentTop),l=Math.max(l,i.viewWidth-i.contentLeft-i.contentWidth),s=Math.max(s,i.viewHeight-i.contentTop-i.contentHeight),t.scrollbar.set(-l-i.contentLeft,-s-i.contentTop),Math.sqrt(o*o+n*n)>Blockly.DRAG_RADIUS&&Blockly.longStop_(),e.stopPropagation(),e.preventDefault()}}},Blockly.onKeyDown_=function(e){if(!Blockly.mainWorkspace.options.readOnly&&!Blockly.isTargetInput_(e)){var t=!1;27==e.keyCode?Blockly.hideChaff():8==e.keyCode||46==e.keyCode?(e.preventDefault(),Blockly.selected&&Blockly.selected.isDeletable()&&(t=!0)):(e.altKey||e.ctrlKey||e.metaKey)&&(Blockly.selected&&Blockly.selected.isDeletable()&&Blockly.selected.isMovable()&&(67==e.keyCode?(Blockly.hideChaff(),Blockly.copy_(Blockly.selected)):88==e.keyCode&&(Blockly.copy_(Blockly.selected),t=!0)),86==e.keyCode?Blockly.clipboardXml_&&Blockly.clipboardSource_.paste(Blockly.clipboardXml_):90==e.keyCode&&(Blockly.hideChaff(),Blockly.mainWorkspace.undo(e.shiftKey))),t&&(Blockly.Events.setGroup(!0),Blockly.hideChaff(),Blockly.selected.dispose(Blockly.dragMode_!=Blockly.DRAG_FREE,!0),Blockly.highlightedConnection_&&(Blockly.highlightedConnection_.unhighlight(),Blockly.highlightedConnection_=null),Blockly.Events.setGroup(!1))}},Blockly.terminateDrag_=function(){Blockly.BlockSvg.terminateDrag_(),Blockly.Flyout.terminateDrag_()},Blockly.longPid_=0,Blockly.longStart_=function(e,t){Blockly.longStop_(),Blockly.longPid_=setTimeout(function(){e.button=2,t.onMouseDown_(e)},Blockly.LONGPRESS)},Blockly.longStop_=function(){Blockly.longPid_&&(clearTimeout(Blockly.longPid_),Blockly.longPid_=0)},Blockly.copy_=function(e){var t=Blockly.Xml.blockToDom(e,[]);Blockly.dragMode_!=Blockly.DRAG_FREE&&Blockly.Xml.deleteNext(t);var o=e.getRelativeToSurfaceXY();t.setAttribute("x",e.RTL?-o.x:o.x),t.setAttribute("y",o.y),Blockly.clipboardXml_=t,Blockly.clipboardSource_=e.workspace},Blockly.duplicate_=function(e){var t=Blockly.clipboardXml_,o=Blockly.clipboardSource_;Blockly.copy_(e),e.workspace.paste(Blockly.clipboardXml_),Blockly.clipboardXml_=t,Blockly.clipboardSource_=o},Blockly.onContextMenu_=function(e){Blockly.isTargetInput_(e)||e.preventDefault()},Blockly.hideChaff=function(e){Blockly.Tooltip.hide(),Blockly.WidgetDiv.hide(),e||(e=Blockly.getMainWorkspace(),e.toolbox_&&e.toolbox_.flyout_&&e.toolbox_.flyout_.autoClose&&e.toolbox_.clearSelection())},Blockly.getMainWorkspaceMetrics_=function(){var e=Blockly.svgSize(this.getParentSvg());this.toolbox_&&(this.toolboxPosition==Blockly.TOOLBOX_AT_TOP||this.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM?e.height-=this.toolbox_.getHeight():this.toolboxPosition!=Blockly.TOOLBOX_AT_LEFT&&this.toolboxPosition!=Blockly.TOOLBOX_AT_RIGHT||(e.width-=this.toolbox_.getWidth()));var t=Blockly.Flyout.prototype.CORNER_RADIUS-1,o=e.width-t,n=e.height-t,i=this.getBlocksBoundingBox(),l=i.width*this.scale,s=i.height*this.scale,r=i.x*this.scale,a=i.y*this.scale;return this.scrollbar?(t=Math.min(r-o/2,r+l-o),o=Math.max(r+l+o/2,r+o),l=Math.min(a-n/2,a+s-n),n=Math.max(a+s+n/2,a+n)):(t=i.x,o=t+i.width,l=i.y,n=l+i.height),i=0,this.toolbox_&&this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT&&(i=this.toolbox_.getWidth()),s=0,this.toolbox_&&this.toolboxPosition==Blockly.TOOLBOX_AT_TOP&&(s=this.toolbox_.getHeight()),{viewHeight:e.height,viewWidth:e.width,contentHeight:n-l,contentWidth:o-t,viewTop:-this.scrollY,viewLeft:-this.scrollX,contentTop:l,contentLeft:t,absoluteTop:s,absoluteLeft:i,toolboxWidth:this.toolbox_?this.toolbox_.getWidth():0,toolboxHeight:this.toolbox_?this.toolbox_.getHeight():0,flyoutWidth:this.flyout_?this.flyout_.getWidth():0,flyoutHeight:this.flyout_?this.flyout_.getHeight():0,toolboxPosition:this.toolboxPosition}},Blockly.setMainWorkspaceMetrics_=function(e){if(!this.scrollbar)throw"Attempt to set main workspace scroll without scrollbars.";var t=this.getMetrics();goog.isNumber(e.x)&&(this.scrollX=-t.contentWidth*e.x-t.contentLeft),goog.isNumber(e.y)&&(this.scrollY=-t.contentHeight*e.y-t.contentTop),e=this.scrollX+t.absoluteLeft,t=this.scrollY+t.absoluteTop,this.translate(e,t),this.options.gridPattern&&(this.options.gridPattern.setAttribute("x",e),this.options.gridPattern.setAttribute("y",t),goog.userAgent.IE&&this.updateGridPattern_())},Blockly.addChangeListener=function(e){return console.warn("Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead."),Blockly.getMainWorkspace().addChangeListener(e)},Blockly.getMainWorkspace=function(){return Blockly.mainWorkspace},goog.global.Blockly||(goog.global.Blockly={}),goog.global.Blockly.getMainWorkspace=Blockly.getMainWorkspace,goog.global.Blockly.addChangeListener=Blockly.addChangeListener,define("blockly",function(e){return function(){var t;return t||e.Blockly}}(this)),Blockly.CSharp=new Blockly.Generator("CSharp"),Blockly.CSharp.addReservedWords("abstract,as,base,bool,break,byte,case,catch,char,checked,class,const,continue,decimal,default,delegate,do,double,else,enum,event,explicit,extern,finally,fixed,float,for,foreach,goto,if,implicit,in,int,interface,internal,is,lock,long,namespace,new,null,object,operator,out,override,params,private,,public,readonly,ref,return,sbyte,sealed,short,sizeof,stackalloc,static,string,struct,switch,this,throw,try,typeof,unit,ulong,unchecked,unsafe,ushort,using,virtual,void,volatile,while,FALSE,TRUE,yield,by,descending,from,group,into,orderby,select,var,where,AccelerationEvent,AddComponentMenu,Analytics,AnchoredJoint2D,AndroidActivityIndicatorStyle,AndroidInput,AndroidJavaClass,AndroidJavaObject,AndroidJavaProxy,AndroidJavaRunnable,AndroidJNIHelper,AnimationBlendMode,AnimationClipPair,AnimationCullingType,AnimationCurve,AnimationEvent,AnimationInfo,AnimationState,AnimatorClipInfo,AnimatorControllerParameterType,AnimatorCullingMode,AnimatorOverrideController,AnimatorRecorderMode,AnimatorStateInfo,AnimatorTransitionInfo,AnimatorUpdateMode,AnimatorUtility,AnisotropicFiltering,Apple,ApplicationInstallMode,ApplicationSandboxType,AreaEffector2D,AssemblyIsEditorAssembly,Assertions,AssetBundleCreateRequest,AssetBundleManifest,AssetBundleRequest,AsyncOperation,AudioChorusFilter,AudioClipLoadType,AudioCompressionFormat,AudioConfiguration,AudioDataLoadState,AudioDistortionFilter,AudioEchoFilter,AudioHighPassFilter,AudioListener,AudioLowPassFilter,AudioReverbFilter,AudioReverbPreset,AudioReverbZone,AudioRolloffMode,AudioSettings,AudioSourceCurveType,AudioSpeakerMode,AudioType,AudioVelocityUpdateMode,AvatarBuilder,AvatarIKGoal,AvatarIKHint,AvatarTarget,Behaviour,BillboardAsset,BillboardRenderer,BitStream,BlendWeights,BoneWeight,BoundingSphere,Bounds,BoxCollider2D,BuoyancyEffector2D,Caching,CameraClearFlags,CameraType,CanvasGroup,CanvasRenderer,CapsuleCollider,CharacterController,CharacterInfo,CharacterJoint,CircleCollider2D,ClothSkinningCoefficient,ClothSphereColliderPair,ClusterInputType,ClusterNetwork,Collider2D,Collision2D,CollisionDetectionMode2D,CollisionFlags,Color32,ColorSpace,ColorUsageAttribute,ColorUtility,CombineInstance,Compass,Component,ComputeBufferType,ComputeShader,ConfigurableJointMotion,ConnectionTesterStatus,ConstantForce2D,ContactPoint2D,ContextMenuItemAttribute,ControllerColliderHit,Coroutine,CrashReport,CreateAssetMenuAttribute,CubemapFace,CullingGroupEvent,CursorLockMode,CursorMode,CustomYieldInstruction,Debug,DelayedAttribute,DepthTextureMode,DetailPrototype,DetailRenderMode,DeviceOrientation,DeviceType,Diagnostics,DisallowMultipleComponent,Display,DistanceJoint2D,DrivenRectTransformTracker,DrivenTransformProperties,DynamicGI,EdgeCollider2D,Effector2D,EffectorForceMode2D,EffectorSelection2D,EllipsoidParticleEmitter,EventModifiers,Events,EventType,ExecuteInEditMode,Experimental,FFTWindow,FilterMode,FixedJoint2D,FlareLayer,FocusType,FogMode,FontStyle,ForceMode2D,FrictionJoint2D,FullScreenMovieControlMode,FullScreenMovieScalingMode,GameObject,GeometryUtility,Gizmos,GL,GradientAlphaKey,GradientColorKey,Graphics,GUIContent,GUIElement,GUILayer,GUILayoutOption,GUILayoutUtility,GUISettings,GUISkin,GUIStyleState,GUITargetAttribute,GUITexture,GUIUtility,Gyroscope,Handheld,Hash128,HeaderAttribute,HelpURLAttribute,HideFlags,HideInInspector,HingeJoint2D,HorizontalWrapMode,HostData,HumanBodyBones,HumanBone,HumanDescription,HumanLimit,HumanPoseHandler,HumanTrait,ICanvasRaycastFilter,ILogger,ILogHandler,ImageEffectAllowedInSceneView,ImageEffectOpaque,ImageEffectTransformsToLDR,ImagePosition,IMECompositionMode,Input,iOS,ISerializationCallbackReceiver,Joint2D,JointAngleLimits2D,JointDriveMode,JointLimits,JointLimitState2D,JointMotor2D,JointProjectionMode,JointSpring,JointSuspension2D,JointTranslationLimits2D,JsonUtility,KeyCode,Keyframe,LayerMask,LensFlare,LightmapData,LightmapSettings,LightmapsModeLegacy,LightProbeGroup,LightProbeProxyVolume,LightProbes,LightRenderMode,LightShadowResolution,LightShadows,LightType,LineRenderer,LocationInfo,LocationServiceStatus,LODFadeMode,LODGroup,Logger,LogType,MasterServerEvent,MatchTargetWeightMask,MaterialGlobalIlluminationFlags,MaterialPropertyBlock,Mathf,Matrix4x4,MeshCollider,MeshFilter,MeshParticleEmitter,MeshRenderer,MeshTopology,Microphone,MonoBehaviour,Motion,MovieTexture,MultilineAttribute,NavMeshAgent,NavMeshHit,NavMeshObstacleShape,NavMeshPathStatus,NavMeshTriangulation,NetworkConnectionError,NetworkDisconnection,Networking,NetworkLogLevel,NetworkMessageInfo,NetworkPeerType,NetworkPlayer,NetworkReachability,NetworkStateSynchronization,NetworkViewID,NPOTSupport,Object,ObstacleAvoidanceType,OcclusionArea,OcclusionPortal,OffMeshLinkData,OffMeshLinkType,ParticleAnimator,ParticleCollisionEvent,ParticleEmitter,ParticlePhysicsExtensions,ParticleRenderer,ParticleRenderMode,ParticleSystemAnimationType,ParticleSystemCollisionMode,ParticleSystemCollisionQuality,ParticleSystemCollisionType,ParticleSystemCurveMode,ParticleSystemEmissionType,ParticleSystemGradientMode,ParticleSystemInheritVelocityMode,ParticleSystemMeshShapeType,ParticleSystemOverlapAction,ParticleSystemRenderer,ParticleSystemRenderMode,ParticleSystemRenderSpace,ParticleSystemScalingMode,ParticleSystemShapeType,ParticleSystemSimulationSpace,ParticleSystemSortMode,ParticleSystemTriggerEventType,PhysicMaterialCombine,Physics2D,PhysicsMaterial2D,PhysicsUpdateBehaviour2D,Ping,Plane,PlatformEffector2D,PlayerPrefsException,PlayMode,PointEffector2D,PolygonCollider2D,PrimitiveType,ProceduralCacheSize,ProceduralLoadingBehavior,ProceduralMaterial,ProceduralOutputType,ProceduralProcessorUsage,ProceduralPropertyDescription,ProceduralPropertyType,ProceduralTexture,Profiler,Projector,PropertyAttribute,QualitySettings,Quaternion,QueryTriggerInteraction,QueueMode,Random,RangeAttribute,Ray2D,RaycastHit2D,RectOffset,RectTransformUtility,ReflectionProbe,RelativeJoint2D,RenderBuffer,Renderer,RenderingPath,RenderMode,RenderSettings,RenderTargetSetup,RenderTextureFormat,RenderTextureReadWrite,RequireComponent,Resolution,ResourceRequest,Resources,Rigidbody2D,RigidbodyConstraints2D,RigidbodyInterpolation2D,RigidbodySleepMode2D,RotationDriveMode,RPCMode,RuntimeAnimatorController,RuntimeInitializeLoadType,RuntimeInitializeOnLoadMethodAttribute,RuntimePlatform,SamsungTV,ScaleMode,SceneManagement,ScreenOrientation,ScriptableObject,Scripting,Security,SelectionBaseAttribute,SendMessageOptions,Serialization,SerializeField,ShaderVariantCollection,ShadowProjection,ShadowResolution,SharedBetweenAnimatorsAttribute,SkeletonBone,SkinnedMeshRenderer,SkinQuality,Skybox,SleepTimeout,SliderJoint2D,SocialPlatforms,SoftJointLimitSpring,SortingLayer,SpaceAttribute,SparseTexture,SphereCollider,SplatPrototype,SpringJoint2D,SpriteAlignment,SpriteMeshType,SpritePackingMode,SpritePackingRotation,SpriteRenderer,Sprites,StackTraceLogType,StateMachineBehaviour,StaticBatchingUtility,StereoTargetEyeMask,SurfaceEffector2D,SystemInfo,SystemLanguage,TargetJoint2D,TerrainCollider,TerrainData,TerrainRenderFlags,TextAlignment,TextAnchor,TextAreaAttribute,TextAsset,TextClipping,TextGenerationSettings,TextGenerator,TextMesh,Texture2DArray,Texture3D,TextureCompressionQuality,TextureFormat,TextureWrapMode,ThreadPriority,Time,Tizen,TooltipAttribute,TouchPhase,TouchScreenKeyboardType,TouchType,TrailRenderer,Transform,TransparencySortMode,TreeInstance,TreePrototype,UICharInfo,UILineInfo,UIVertex,UnityAPICompatibilityVersionAttribute,UserAuthorization,UVChannelFlags,Vector2,Vector3,Vector4,VerticalWrapMode,VR,WaitForEndOfFrame,WaitForFixedUpdate,WaitForSecondsRealtime,WaitUntil,WaitWhile,WebCamDevice,WebCamTexture,WheelCollider,WheelFrictionCurve,WheelHit,WheelJoint2D,Windows,WindZoneMode,WrapMode,WSA,WWWForm,YieldInstruction,Comparer,Dictionary,EqualityComparer,HashSet,Dictionary,SortedDictionary,KeyedByTypeCollection,KeyNotFoundException,LinkedList,LinkedListNode,List,Queue,SortedDictionary,SortedList,SortedSet,Stack,SynchronizedCollection,SynchronizedKeyedCollection,SynchronizedReadOnlyCollection,Dictionary,SortedDictionary,Dictionary,Dictionary,Dictionary,HashSet,LinkedList,List,Queue,SortedDictionary,SortedDictionary,SortedDictionary,SortedSet,Stack,KeyValuePair,ICollection,IComparer,IDictionary,IEnumerable,IEnumerator,IEqualityComparer,IList,IReadOnlyCollection,IReadOnlyDictionary,IReadOnlyList,ISet,runInEditMode,useGUILayout,CancelInvoke,Invoke,InvokeRepeating,IsInvoking,StartCoroutine,StopAllCoroutines,StopCoroutine,print,Awake,FixedUpdate,LateUpdate,OnAnimatorIK,OnAnimatorMove,OnApplicationFocus,OnApplicationPause,OnApplicationQuit,OnAudioFilterRead,OnBecameInvisible,OnBecameVisible,OnCollisionEnter,OnCollisionEnter2D,OnCollisionExit,OnCollisionExit2D,OnCollisionStay,OnCollisionStay2D,OnConnectedToServer,OnControllerColliderHit,OnDestroy,OnDisable,OnDisconnectedFromServer,OnDrawGizmos,OnDrawGizmosSelected,OnEnable,OnFailedToConnect,OnFailedToConnectToMasterServer,OnGUI,OnJointBreak,OnJointBreak2D,OnMasterServerEvent,OnMouseDown,OnMouseDrag,OnMouseEnter,OnMouseExit,OnMouseOver,OnMouseUp,OnMouseUpAsButton,OnNetworkInstantiate,OnParticleCollision,OnParticleTrigger,OnPlayerConnected,OnPlayerDisconnected,OnPostRender,OnPreCull,OnPreRender,OnRenderImage,OnRenderObject,OnSerializeNetworkView,OnServerInitialized,OnTransformChildrenChanged,OnTransformParentChanged,OnTriggerEnter,OnTriggerEnter2D,OnTriggerExit,OnTriggerExit2D,OnTriggerStay,OnTriggerStay2D,OnValidate,OnWillRenderObject,Reset,Start,Update,enabled,isActiveAndEnabled,gameObject,tag,transform,hideFlags,name,BroadcastMessage,CompareTag,GetComponent,GetComponentInChildren,GetComponentInParent,GetComponents,GetComponentsInChildren,GetComponentsInParent,SendMessage,SendMessageUpwards,GetInstanceID,ToString,Destroy,DestroyImmediate,DontDestroyOnLoad,FindObjectOfType,FindObjectsOfType,Instantiate,System"),
Blockly.CSharp.ORDER_ATOMIC=0,Blockly.CSharp.ORDER_PRIMARY=1,Blockly.CSharp.ORDER_UNARY=2,Blockly.CSharp.ORDER_MULTIPLICATIVE=3,Blockly.CSharp.ORDER_MULTIPLICATIVE_RIGHT=3,Blockly.CSharp.ORDER_ADDITIVE=4,Blockly.CSharp.ORDER_ADDITIVE_RIGHT=5,Blockly.CSharp.ORDER_BITWISE_SHIFT=5,Blockly.CSharp.ORDER_RELATIONAL=6,Blockly.CSharp.ORDER_TYPE_TESTING=6,Blockly.CSharp.ORDER_EQUALITY=7,Blockly.CSharp.ORDER_BITWISE_AND=8,Blockly.CSharp.ORDER_BITWISE_XOR=9,Blockly.CSharp.ORDER_BITWISE_OR=10,Blockly.CSharp.ORDER_LOGICAL_AND=11,Blockly.CSharp.ORDER_LOGICAL_OR=12,Blockly.CSharp.ORDER_CONDITIONAL=13,Blockly.CSharp.ORDER_ASSIGNMENT=14,Blockly.CSharp.ORDER_NONE=99,Blockly.CSharp.DATATYPE_STRING="String",Blockly.CSharp.DATATYPE_NUMBER="Number",Blockly.CSharp.DATATYPE_GAMEOBJECT="GameObject",Blockly.CSharp.DATATYPE_SPRITE="Sprite",Blockly.CSharp.DATATYPE_BOOLEAN="Boolean",Blockly.CSharp.DATATYPE_VECTOR="Vector3",Blockly.CSharp.DATATYPE_QUATERNION="Quaternion",Blockly.CSharp.DATATYPE_ANY=null,Blockly.CSharp.DATATYPE_INT="int",Blockly.CSharp.DATATYPE_TRANSFORM="Transform",Blockly.CSharp.DATATYPE_RIGIDBODY2D="Rigidbody2D",Blockly.CSharp.DATATYPE_RIGIDBODY="Rigidbody",Blockly.CSharp.DATATYPE_SPRITERENDERER="SpriteRenderer",Blockly.CSharp.DATATYPE_CAMERA="Camera",Blockly.CSharp.DATATYPE_UITEXTCOMP="UnityEngine.UI.Text",Blockly.CSharp.DATATYPES_COMPONENTS=[Blockly.CSharp.DATATYPE_TRANSFORM,Blockly.CSharp.DATATYPE_RIGIDBODY2D,Blockly.CSharp.DATATYPE_RIGIDBODY,Blockly.CSharp.DATATYPE_SPRITERENDERER,Blockly.CSharp.DATATYPE_CAMERA,Blockly.CSharp.DATATYPE_UITEXTCOMP],Blockly.CSharp.ConvertSafeNameToCamelCaseSmall=function(e){var t=!!e.match(/^_+/);return e=e.replace(/^_+/,""),(t?"_":"")+e.replace(/_([a-z])/g,function(e,t){return t.toUpperCase()})},Blockly.CSharp.ConvertSafeNameToCamelCaseBig=function(e){var t=!!e.match(/^_+/);return e=e.replace(/^_+/,""),(t?"_":"")+("_"+e).replace(/_([a-z])/g,function(e,t){return t.toUpperCase()})},Blockly.CSharp.workspaceToCode=function(e,t){return this.classname_=t?t:"???",Blockly.Generator.prototype.workspaceToCode.call(this,e)},Blockly.CSharp.init=function(e){Blockly.CSharp.INDENT="\t",Blockly.CSharp.tempGlobalsCode_="",Blockly.CSharp.temporaryMethodVariables_=null,Blockly.CSharp.temporaryMethodVariablesCoroutine_=null,Blockly.CSharp.eventMethods_=[],Blockly.CSharp.definitions_=Object.create(null),Blockly.CSharp.functionNames_=Object.create(null),Blockly.CSharp.loopVariableStack_=Object.create(null),Blockly.CSharp.variableDB_?Blockly.CSharp.variableDB_.reset():(e={},e[Blockly.Variables.NAME_TYPE]=Blockly.CSharp.ConvertSafeNameToCamelCaseSmall,e[Blockly.EditableCodeBlocks.NAME_TYPE]=Blockly.CSharp.ConvertSafeNameToCamelCaseBig,e.MESSAGES=Blockly.CSharp.ConvertSafeNameToCamelCaseBig,Blockly.CSharp.variableDB_=new Blockly.Names(Blockly.CSharp.RESERVED_WORDS_,void 0,e))},Blockly.CSharp.finish=function(e){var t="public class "+this.classname_+" : MonoBehaviour\n{\n",o="";goog.array.forEach(this.eventMethods_,goog.bind(function(e){var t="";goog.array.forEach(e.temporaryMethodVariables,function(e){t+=e.type+" "+e.name+";\n"}),""!==t&&(t=this.prefixLines(t,this.INDENT)),o+=e.functionDescription+"\n{\n"+e.outputsCode+t+e.code+"}\n\n"},this)),o&&(o=o.substr(0,o.length-2)),e&&(e=e.substr(0,e.length-1)),e=o+(e&&o?"\n\n":"")+e;var n,i=[];for(n in Blockly.CSharp.definitions_)i.push(Blockly.CSharp.definitions_[n]);return(i=i.join("\n\n"))&&(i="\n\n"+this.prefixLines("//\n// Utility functions\n//\n",this.INDENT)+"\n"+this.prefixLines(i,this.INDENT)),e=Blockly.CSharp.prefixLines(e,Blockly.CSharp.INDENT),e=Blockly.CSharp.tempGlobalsCode_+(Blockly.CSharp.tempGlobalsCode_?"\n":"")+e+i,delete Blockly.CSharp.tempGlobalsCode_,delete Blockly.CSharp.definitions_,delete Blockly.CSharp.functionNames_,delete Blockly.CSharp.eventMethods_,Blockly.CSharp.variableDB_.reset(),"using UnityEngine;\nusing System.Collections;\nusing System.Collections.Generic;\n\n"+t+e+"\n}"},Blockly.CSharp.convertDataTypeName=function(e){return e?"String"===e?"string":"Number"===e?"float":"Boolean"===e?"bool":goog.string.startsWith(e,"List_")?"List<"+convertDataType(e.substr(e,5))+">":e:"System.Object"},Blockly.CSharp.isPrimitiveNumber=function(e){return!!e&&e.match(/^[0-9]*\.?[0-9]*f$/)},Blockly.CSharp.isPrimitiveString=function(e){return e=e.trim(),e=e.replace(/\\\\/g,"").replace(/\\"/g,""),'"'===e.charAt(0)&&'"'===e.charAt(e.length-1)&&!(!(e=e.match(/"/))||2!==e.length)},Blockly.CSharp.convertDataTypeValue=function(e,t,o){var n=o(Blockly.CSharp.ORDER_NONE);if(goog.array.contains(Blockly.CSharp.DATATYPES_COMPONENTS,e)){if(e==t)return null;if(t===Blockly.CSharp.DATATYPE_GAMEOBJECT)return[o(Blockly.CSharp.ORDER_PRIMARY)+".gameObject",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_GAMEOBJECT];if(goog.array.contains(Blockly.CSharp.DATATYPES_COMPONENTS,t))return[o(Blockly.CSharp.ORDER_PRIMARY)+".gameObject.GetComponent<"+t+">()",Blockly.CSharp.ORDER_PRIMARY,t]}if(t===Blockly.CSharp.DATATYPE_INT)return null===n||void 0===n||""===n?null:Blockly.CSharp.isPrimitiveNumber(n)?[n.replace(/\..*$/,"").replace(/g/,""),null,Blockly.CSharp.DATATYPE_INT]:["(int)"+Blockly.CSharp.valueToCode(block,"FROM",Blockly.CSharp.ORDER_UNARY),Blockly.CSharp.ORDER_UNARY,Blockly.CSharp.DATATYPE_INT];if(t!==Blockly.CSharp.DATATYPE_NUMBER)if(t===Blockly.CSharp.DATATYPE_STRING){if(null===n||void 0===n||""===n)return['""',Blockly.CSharp.ORDER_ATOMIC,Blockly.CSharp.DATATYPE_STRING];if(!Blockly.CSharp.isPrimitiveString(n)&&e!==Blockly.CSharp.DATATYPE_STRING)return["System.Convert.ToString("+o(Blockly.CSharp.ORDER_NONE)+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_STRING]}else if(t===Blockly.CSharp.DATATYPE_GAMEOBJECT){if(null===n||void 0===n||""===n)return["(GameObject)null",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_GAMEOBJECT]}else if(goog.array.contains(Blockly.CSharp.DATATYPES_COMPONENTS,t))return e=o(Blockly.CSharp.ORDER_PRIMARY)||"gameObject",[(n&&"gameObject"!==n?e+".":"")+"GetComponent<"+t+">()",Blockly.CSharp.ORDER_PRIMARY,t];return null},Blockly.CSharp.generateOutputMutationCode=function(e,t){for(var o="",n=e.getInputTargetBlock("OUTPUTS");n;){var i=n.getFieldValue("WHAT"),l=n.getFieldValue("VAR");l&&(l=Blockly.CSharp.variableDB_.getName(l,Blockly.Variables.NAME_TYPE),t.hasOwnProperty(i)&&l&&(o+=l+" = "+t[i]+";\n")),n=n.getNextBlock()}return 0<o.length?this.prefixLines(o,this.INDENT):""},Blockly.CSharp.pushEventBlock=function(e,t,o,n){var i=null,l=-1;if(goog.array.forEach(Blockly.CSharp.eventMethods_,function(e,o){t===e.functionDescription&&(i=e,l=o)}),i||(i={functionName:o,functionDescription:t,code:"",temporaryMethodVariables:[],outputsCode:""},Blockly.CSharp.eventMethods_.push(i),l=Blockly.CSharp.eventMethods_.length-1),this.temporaryMethodVariables_=goog.array.clone(i.temporaryMethodVariables),this.temporaryMethodVariablesCoroutine_=[],this.shouldBeCoroutine_=!1,e=Blockly.CSharp.eventStatementsToCode(e),this.shouldBeCoroutine_){for(var s=l,r=0,a="Coroutine"+o;s+1<Blockly.CSharp.eventMethods_.length&&goog.string.startsWith(Blockly.CSharp.eventMethods_[s+1].functionName,a);)s++,r++;a+=0<r?"_"+r:"",o=Blockly.CSharp.variableDB_.getName("running"+o+(0<r?"_"+r:""),Blockly.Variables.NAME_TYPE),Blockly.CSharp.tempGlobalsCode_+=this.INDENT+"private bool "+o+" = false;\n",e=this.prefixLines("try {\n"+(this.INDENT+o+" = true;\n"+e)+"} finally {\n"+(this.INDENT+o+" = false;\n")+"}\n",this.INDENT),Blockly.CSharp.eventMethods_.splice(s+1,0,{functionName:a,functionDescription:"private IEnumerator "+a+"()",code:e,temporaryMethodVariables:this.temporaryMethodVariablesCoroutine_,outputsCode:""}),i.code+=this.prefixLines("if(!"+o+") {\n"+this.INDENT+"StartCoroutine("+a+"());\n}\n",this.INDENT)}else i.code+=e,i.temporaryMethodVariables=this.temporaryMethodVariables_;this.temporaryMethodVariablesCoroutine_=this.temporaryMethodVariables_=null,n&&(i.outputsCode+=n)},Blockly.CSharp.transformCurrentEventBlockToCoroutine=function(){this.shouldBeCoroutine_=!0},Blockly.CSharp.pushLoopStackVariable=function(e,t){this.loopVariableStack_[e+"~"+t]=this.loopVariableStack_[e+"~"+t]||[];var o=this.declareLocalTempVar(e,t,!1);return this.loopVariableStack_[e+"~"+t].push(o),o},Blockly.CSharp.getTopLoopStackVariable=function(e,t){var o=this.loopVariableStack_[e+"~"+t];if(o)return o[o.length-1]},Blockly.CSharp.popLoopStackVariable=function(e,t){var o=this.loopVariableStack_[e+"~"+t].pop();goog.array.forEach(this.temporaryMethodVariables_,function(e){e.name===o&&(e.availableforreuse=!0)})},Blockly.CSharp.declareLocalTempVar=function(e,t,o){o=!1!==o;for(var n=this.isLegalReusableBlockLocalTempVarName(e,t);!Blockly.Variables.isLegalName(t,null)||n.isdeclared&&(!n.iscorrecttype||!n.availableforreuse);)t=(n=t.match(/^(.*?)(\d+)$/))?n[1]+(parseInt(n[2],10)+1):t+"2",n=this.isLegalReusableBlockLocalTempVarName(e,t);return n.isdeclared?o||goog.array.forEach(this.temporaryMethodVariables_,function(e){e.name===t&&(e.availableforreuse=!1)}):this.temporaryMethodVariables_.push({name:t,type:e,availableforreuse:o}),this.isLegalReusableBlockLocalTempVarName(e,t,!0).isdeclared||this.temporaryMethodVariablesCoroutine_.push({name:t,type:e}),t},Blockly.CSharp.isLegalReusableBlockLocalTempVarName=function(e,t,o){var n=!1,i=!1,l=!1;return goog.array.forEach(o?this.temporaryMethodVariablesCoroutine_:this.temporaryMethodVariables_,function(o){o.name===t&&(n=!0,o.type===e&&(i=!0,l=o.availableforreuse))}),{isdeclared:n,iscorrecttype:i,availableforreuse:l}},Blockly.CSharp.quote_=function(e){return e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/"/g,'\\"'),'"'+e+'"'},Blockly.CSharp.scrub_=function(e,t){var o="";if(!e.outputConnection||!e.outputConnection.targetConnection){var n=e.getCommentText();n&&(o+=Blockly.CSharp.prefixLines(n,"// ")+"\n");for(var i=0;i<e.inputList.length;i++)e.inputList[i].type==Blockly.INPUT_VALUE&&(n=e.inputList[i].connection.targetBlock())&&(n=Blockly.CSharp.allNestedComments(n))&&(o+=Blockly.CSharp.prefixLines(n,"// "))}return e.PROPERTY_VALID_ROOT?o+t:(i=e.nextConnection&&e.nextConnection.targetBlock(),i=Blockly.CSharp.blockToCode(i),o+t+i)},Blockly.CSharp.lists={},Blockly.CSharp.logic={},Blockly.CSharp.controls_if=function(e){var t=0,o=Blockly.CSharp.valueToCode(e,"IF"+t,Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_BOOLEAN)||"false",n=Blockly.CSharp.statementToCode(e,"DO"+t),i="if ("+o+") {\n"+n+"}";for(t=1;t<=e.elseifCount_;t++)o=Blockly.CSharp.valueToCode(e,"IF"+t,Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_BOOLEAN)||"false",n=Blockly.CSharp.statementToCode(e,"DO"+t),i+=" else if ("+o+") {\n"+n+"}";return e.elseCount_&&(n=Blockly.CSharp.statementToCode(e,"ELSE"),i+=" else {\n"+n+"}"),i+"\n"},Blockly.CSharp.logic_compare=function(e){var t={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],o="=="==t||"!="==t?Blockly.CSharp.ORDER_EQUALITY:Blockly.CSharp.ORDER_RELATIONAL,n=Blockly.CSharp.valueToCode(e,"A",o,Blockly.CSharp.DATATYPE_ANY)||"0";return e=Blockly.CSharp.valueToCode(e,"B",o,Blockly.CSharp.DATATYPE_ANY)||"0",[n+" "+t+" "+e,o,Blockly.CSharp.DATATYPE_BOOLEAN]},Blockly.CSharp.logic_operation=function(e){var t="AND"==e.getFieldValue("OP")?"&&":"||",o="&&"==t?Blockly.CSharp.ORDER_LOGICAL_AND:Blockly.CSharp.ORDER_LOGICAL_OR,n=Blockly.CSharp.valueToCode(e,"A",o,Blockly.CSharp.DATATYPE_BOOLEAN);if(e=Blockly.CSharp.valueToCode(e,"B",o,Blockly.CSharp.DATATYPE_BOOLEAN),n||e){var i="&&"==t?"true":"false";n||(n=i),e||(e=i)}else e=n="false";return[n+" "+t+" "+e,o,Blockly.CSharp.DATATYPE_BOOLEAN]},Blockly.CSharp.logic_negate=function(e){var t=Blockly.CSharp.ORDER_UNARY;return["!"+(Blockly.CSharp.valueToCode(e,"BOOL",t,Blockly.CSharp.DATATYPE_BOOLEAN)||"true"),t,Blockly.CSharp.DATATYPE_BOOLEAN]},Blockly.CSharp.logic_boolean=function(e){return["TRUE"==e.getFieldValue("BOOL")?"true":"false",Blockly.CSharp.ORDER_ATOMIC,Blockly.CSharp.DATATYPE_BOOLEAN]},Blockly.CSharp.logic_null=function(e){return["null",Blockly.CSharp.ORDER_ATOMIC,Blockly.CSharp.DATATYPE_ANY]},Blockly.CSharp.logic_ternary=function(e){var t=Blockly.CSharp.valueToCode(e,"IF",Blockly.CSharp.ORDER_CONDITIONAL,Blockly.CSharp.DATATYPE_BOOLEAN)||"false",o=Blockly.CSharp.valueToCode(e,"THEN",Blockly.CSharp.ORDER_CONDITIONAL,Blockly.CSharp.DATATYPE_ANY)||"null";return e=Blockly.CSharp.valueToCode(e,"ELSE",Blockly.CSharp.ORDER_CONDITIONAL,Blockly.CSharp.DATATYPE_ANY)||"null",[t+" ? "+o+" : "+e,Blockly.CSharp.ORDER_CONDITIONAL,Blockly.CSharp.DATATYPE_ANY]},Blockly.CSharp.unityControls_ifElse=Blockly.CSharp.controls_if,Blockly.CSharp.unityControls_if=Blockly.CSharp.controls_if,Blockly.CSharp.loops={},Blockly.CSharp.math={},Blockly.CSharp.math_number=function(e){return[parseFloat(e.getFieldValue("NUM"))+"f",Blockly.CSharp.ORDER_ATOMIC,Blockly.CSharp.DATATYPE_NUMBER]},Blockly.CSharp.math_arithmetic=function(e){var t={ADD:[" + ",Blockly.CSharp.ORDER_ADDITIVE],MINUS:[" - ",Blockly.CSharp.ORDER_ADDITIVE],MULTIPLY:[" * ",Blockly.CSharp.ORDER_MULTIPLICATIVE],DIVIDE:[" / ",Blockly.CSharp.ORDER_MULTIPLICATIVE],POWER:[null,Blockly.CSharp.ORDER_NONE]}[e.getFieldValue("OP")],o=t[0];t=t[1];var n=Blockly.CSharp.valueToCode(e,"A",t,Blockly.CSharp.DATATYPE_ANY)||"0f";return e=Blockly.CSharp.valueToCode(e,"B",t,Blockly.CSharp.DATATYPE_ANY)||"0f",o?[n+o+e,t,Blockly.CSharp.DATATYPE_ANY]:["Mathf.pow("+n+", "+e+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_NUMBER]},Blockly.CSharp.math_single=function(e){var t=e.getFieldValue("OP");if("NEG"==t)return e=Blockly.CSharp.valueToCode(e,"NUM",Blockly.CSharp.ORDER_UNARY)||"0f","-"==e[0]&&(e=" "+e),["-"+e,Blockly.CSharp.ORDER_UNARY,Blockly.CSharp.DATATYPE_ANY];switch(e="SIN"==t||"COS"==t||"TAN"==t?Blockly.CSharp.valueToCode(e,"NUM",Blockly.CSharp.ORDER_MULTIPLICATIVE,Blockly.CSharp.DATATYPE_NUMBER)||"0f":Blockly.CSharp.valueToCode(e,"NUM",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_NUMBER)||"0f",t){case"ABS":var o="Mathf.Abs("+e+")";break;case"ROOT":o="Mathf.Sqrt("+e+")";break;case"LN":o="Mathf.Log("+e+")";break;case"EXP":o="Mathf.Exp("+e+")";break;case"POW10":o="Mathf.Pow(10,"+e+")";break;case"ROUND":o="Mathf.Round("+e+")";break;case"ROUNDUP":o="Mathf.Ceil("+e+")";break;case"ROUNDDOWN":o="Mathf.Floor("+e+")";break;case"SIN":o="Mathf.Sin("+e+" / 180 * Mathf.PI)";break;case"COS":o="Mathf.Cos("+e+" / 180 * Mathf.PI)";break;case"TAN":o="Mathf.Tan("+e+" / 180 * Mathf.PI)"}if(o)return[o,Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_NUMBER];switch(t){case"LOG10":o="Math.log("+e+") / Math.log(10)";break;case"ASIN":o="Math.asin("+e+") / Math.PI * 180";break;case"ACOS":o="Math.acos("+e+") / Math.PI * 180";break;case"ATAN":o="Math.atan("+e+") / Math.PI * 180";break;default:throw"Unknown math operator: "+t}return[o,Blockly.CSharp.ORDER_DIVISION,Blockly.CSharp.DATATYPE_NUMBER]},Blockly.CSharp.math_round=Blockly.CSharp.math_single,Blockly.CSharp.math_trig=Blockly.CSharp.math_single,Blockly.CSharp.math_modulo=function(e){var t=Blockly.CSharp.valueToCode(e,"DIVIDEND",Blockly.CSharp.ORDER_MULTIPLICATIVE,Blockly.CSharp.DATATYPE_NUMBER)||"0f";return e=Blockly.CSharp.valueToCode(e,"DIVISOR",Blockly.CSharp.ORDER_MULTIPLICATIVE,Blockly.CSharp.DATATYPE_NUMBER)||"0f",[t+" % "+e,Blockly.CSharp.ORDER_MULTIPLICATIVE,Blockly.CSharp.DATATYPE_NUMBER]},Blockly.CSharp.math_constrain=function(e){var t=Blockly.CSharp.valueToCode(e,"VALUE",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_NUMBER)||"0",o=Blockly.CSharp.valueToCode(e,"LOW",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_NUMBER)||"System.Single.NegativeInfinity";return e=Blockly.CSharp.valueToCode(e,"HIGH",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_NUMBER)||"System.Single.PositiveInfinity",["Mathf.Clamp("+t+", "+o+", "+e+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_NUMBER]},Blockly.CSharp.math_random_int=function(e){var t=Blockly.CSharp.valueToCode(e,"FROM",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_INT)||"0";return e=Blockly.CSharp.valueToCode(e,"TO",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_INT)||"0",["(float)Random.Range("+t+", "+e+")",Blockly.CSharp.ORDER_UNARY,Blockly.CSharp.DATATYPE_NUMBER]},Blockly.CSharp.math_random_float=function(e){return["Random.value",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_NUMBER]},Blockly.CSharp.texts={},Blockly.CSharp.text=function(e){return[Blockly.CSharp.quote_(e.getFieldValue("TEXT")),Blockly.CSharp.ORDER_ATOMIC,Blockly.CSharp.DATATYPE_STRING]},Blockly.CSharp.text_join=function(e){for(var t=[],o=[],n=0;n<e.itemCount_;n++){var i=Blockly.CSharp.valueToCode(e,"ADD"+n,Blockly.CSharp.ORDER_ADDITIVE,Blockly.CSharp.DATATYPE_STRING)||'""';'""'!==i&&(t.push([i,"ADD"+n]),o.push(i))}return 1===t.length?(e=Blockly.CSharp.valueToCodeTuple(e,t[0][1],Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_STRING),e[0]?e:['""',Blockly.CSharp.ORDER_ATOMIC,Blockly.CSharp.DATATYPE_STRING]):0===t.length?['""',Blockly.CSharp.ORDER_ATOMIC,Blockly.CSharp.DATATYPE_STRING]:[o.join(" + "),Blockly.CSharp.ORDER_ADDITIVE,Blockly.CSharp.DATATYPE_STRING]},Blockly.CSharp.text_append=function(e){var t=Blockly.CSharp.variableDB_.getName(e.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE);return e=Blockly.CSharp.valueToCode(e,"TEXT",Blockly.CSharp.ORDER_ADDITIVE,Blockly.CSharp.DATATYPE_STRING)||'""',t+" = "+t+" + "+e+";\n"},Blockly.CSharp.text_length=function(e){return[(Blockly.CSharp.valueToCode(e,"VALUE",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_STRING)||'""')+".Length",Blockly.CSharp.ORDER_PRIMARY]},Blockly.CSharp.text_isEmpty=function(e){return["String.IsNullOrEmpty("+(Blockly.CSharp.valueToCode(e,"VALUE",Blockly.CSharp.ORDER_MEMBER,Blockly.CSharp.DATATYPE_STRING)||'""')+")",Blockly.CSharp.ORDER_PRIMARY]},Blockly.CSharp.unityText_join=Blockly.CSharp.text_join,Blockly.CSharp.unityText_append=function(e){var t=!!e.getFieldValue("VAR"),o=Blockly.CSharp.variableDB_.getName(e.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE);return e=Blockly.CSharp.valueToCode(e,"TEXT",Blockly.CSharp.ORDER_ASSIGNMENT,Blockly.CSharp.DATATYPE_STRING),t?o+" += "+e+";\n":"// ??? += "+e+";\n"},Blockly.CSharp.unityCode={},Blockly.CSharp.unityCode_define=function(e){var t=Blockly.CSharp.variableDB_.getName("block "+e.getFieldValue("NAME"),Blockly.EditableCodeBlocks.NAME_TYPE);return e=Blockly.CSharp.prefixLines(e.getFieldValue("CODE"),Blockly.CSharp.INDENT),"void "+t+"()\n{\n"+e+"\n}\n"},Blockly.CSharp.unityCode_use=function(e){return Blockly.CSharp.variableDB_.getName("block "+e.getFieldValue("NAME"),Blockly.EditableCodeBlocks.NAME_TYPE)+"();\n"},Blockly.CSharp.unityControls={},Blockly.CSharp.unityControls_classConfig=function(e){return e.declare_&&(e=Blockly.CSharp.statementToCode(e,"ST"),Blockly.CSharp.tempGlobalsCode_=e),null},Blockly.CSharp.unityDetect={},Blockly.CSharp.unityEvents={},Blockly.CSharp.unityEvents_start=function(e){return Blockly.CSharp.pushEventBlock(e,"void Start()","Start"),null},Blockly.CSharp.unityEvents_update=function(e){return Blockly.CSharp.pushEventBlock(e,"void Update()","Update"),null},Blockly.CSharp.unityEvents_mouse=function(e){var t=e.getFieldValue("HOVER"),o={Enter:"OnMouseEnter",Stay:"OnMouseOver",Exit:"OnMouseExit"};return o.hasOwnProperty(t)&&Blockly.CSharp.pushEventBlock(e,"void "+o[t]+"()",o[t]),null},Blockly.CSharp.unityEvents_mouse_click=function(e){var t=e.getFieldValue("STATE"),o={Down:"OnMouseDown",Drag:"OnMouseDrag",Up:"OnMouseUp"};return o.hasOwnProperty(t)&&Blockly.CSharp.pushEventBlock(e,"void "+o[t]+"()",o[t]),null},Blockly.CSharp.unityEvents_collision=function(e){var t=Blockly.Variables.findLegalName("coll",null),o=Blockly.CSharp.generateOutputMutationCode(e,{coll_other:t+".gameObject",coll_speed:t+".relativeVelocity.magnitude",coll_dirspeed:t+".relativeVelocity"}),n="2D"===(e.getFieldValue("PHYSICS")||"2D")?"2D":"",i=e.getFieldValue("STATE"),l={Enter:"OnCollisionEnter"+n,Stay:"OnCollisionStay"+n,Exit:"OnCollisionExit"+n};return l.hasOwnProperty(i)&&Blockly.CSharp.pushEventBlock(e,"void "+l[i]+"(Collision"+n+" "+t+")",l[i],o),null},Blockly.CSharp.unityEvents_jointbreaks=function(e){var t=Blockly.Variables.findLegalName("brokenJoint",null),o=Blockly.CSharp.generateOutputMutationCode(e,{joint_other:t+".gameObject"}),n="2D"===(e.getFieldValue("PHYSICS")||"2D")?"2D":"";return e.getFieldValue("STATE"),Blockly.CSharp.pushEventBlock(e,"void OnJointBreak"+n+"(Joint"+n+" "+t+")","OnJointBreak"+n,o),null},Blockly.CSharp.unityEvents_trigger=function(e){var t=Blockly.Variables.findLegalName("otherCollider",null),o=Blockly.CSharp.generateOutputMutationCode(e,{trigger_other:t+".gameObject"}),n="2D"===(e.getFieldValue("PHYSICS")||"2D")?"2D":"",i=e.getFieldValue("STATE"),l={Enter:"OnTriggerEnter"+n,Stay:"OnTriggerStay"+n,Exit:"OnTriggerExit"+n};return l.hasOwnProperty(i)&&Blockly.CSharp.pushEventBlock(e,"void "+l[i]+"(Collider"+n+" "+t+")",l[i],o),null},Blockly.CSharp.unityGeneral={},Blockly.CSharp.unityUI_text=function(e){var t=Blockly.CSharp.valueToCode(e,"TEXT",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_STRING);return Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_UITEXTCOMP)+".text = "+t+";\n"},Blockly.CSharp.unityGeneral_log=function(e){return"print("+(Blockly.CSharp.valueToCode(e,"WHAT",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_ANY)||'""')+");\n"},Blockly.CSharp.unityScene_toscene=function(e){return"UnityEngine.SceneManagement.SceneManager.LoadScene("+Blockly.CSharp.valueToCode(e,"SCENE",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_STRING)+");\n"},Blockly.CSharp.unityInput={},Blockly.CSharp.unityInput_key=function(e){var t=e.getFieldValue("KEY");return["Input."+{Down:"GetKeyDown",Up:"GetKeyUp","":"GetKey"}[e.getFieldValue("PRESSED")]+"(KeyCode."+t+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_BOOLEAN]},Blockly.CSharp.unityMove={},Blockly.CSharp.unityTransform_jumpto=function(e){var t=Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_TRANSFORM);return e=Blockly.CSharp.valueToCode(e,"WHERE",Blockly.CSharp.ORDER_ASSIGNMENT,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero",t+".localPosition = "+e+";\n"},Blockly.CSharp.unityTransform_move=function(e){var t=Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_TRANSFORM);return e=Blockly.CSharp.valueToCode(e,"DELTA",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero",t+".Translate("+e+", Space.World);\n"},Blockly.CSharp.unityTransform_position=function(e){return[Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_TRANSFORM)+".position",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR]},Blockly.CSharp.unityPhysics_angularSpeed=function(e){return"2D"==("2D"===(e.getFieldValue("PHYSICS")||"2D")?"2D":"")?(e=Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_RIGIDBODY2D),[e+".angularVelocity",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_NUMBER]):(e=Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_RIGIDBODY),[e+".angularVelocity",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR])},Blockly.CSharp.unityPhysics_angularSpeed_set=function(e){if("2D"==("2D"===(e.getFieldValue("PHYSICS")||"2D")?"2D":"")){var t=Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_RIGIDBODY2D);e=Blockly.CSharp.valueToCode(e,"SPEED",Blockly.CSharp.ORDER_ASSIGNMENT,Blockly.CSharp.DATATYPE_NUMBER)||"0f"}else t=Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_RIGIDBODY),e=Blockly.CSharp.valueToCode(e,"SPEED",Blockly.CSharp.ORDER_ASSIGNMENT,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero";return t+".angularVelocity = "+e+";\n"},Blockly.CSharp.unityPhysics_velocity=function(e){var t="2D"===(e.getFieldValue("PHYSICS")||"2D")?"2D":"";return["(Vector3) "+Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,"2D"===t?Blockly.CSharp.DATATYPE_RIGIDBODY2D:Blockly.CSharp.DATATYPE_RIGIDBODY)+".velocity",Blockly.CSharp.ORDER_UNARY,Blockly.CSharp.DATATYPE_VECTOR]},Blockly.CSharp.unityPhysics_velocity_set=function(e){var t="2D"===(e.getFieldValue("PHYSICS")||"2D")?"2D":"";return t=Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,"2D"===t?Blockly.CSharp.DATATYPE_RIGIDBODY2D:Blockly.CSharp.DATATYPE_RIGIDBODY),e=Blockly.CSharp.valueToCode(e,"SPEED",Blockly.CSharp.ORDER_ASSIGNMENT,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero",t+".velocity = "+e+";\n"},Blockly.CSharp.unityPhysics_push=function(e){var t="2D"===(e.getFieldValue("PHYSICS")||"2D")?"2D":"";return t=Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,"2D"===t?Blockly.CSharp.DATATYPE_RIGIDBODY2D:Blockly.CSharp.DATATYPE_RIGIDBODY),e=Blockly.CSharp.valueToCode(e,"DIRECTION",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero",t+".AddForce("+e+");\n"},Blockly.CSharp.unityPhysics_torque=function(e){if("2D"==("2D"===(e.getFieldValue("PHYSICS")||"2D")?"2D":"")){var t=Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_RIGIDBODY2D);e=Blockly.CSharp.valueToCode(e,"TORQUE",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_NUMBER)||"0f"}else t=Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_RIGIDBODY),e=Blockly.CSharp.valueToCode(e,"TORQUE",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero";return t+".AddTorque("+e+");\n"},Blockly.CSharp.unityObjects={},Blockly.CSharp.unity_me=function(e){return["gameObject",Blockly.CSharp.ORDER_ATOMIC,Blockly.CSharp.DATATYPE_GAMEOBJECT]},Blockly.CSharp.unityGeneral_destroy=function(e){return"Object.Destroy("+Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_GAMEOBJECT)+");\n"},Blockly.CSharp.unityGeneral_create=function(e){return"Object.Instantiate("+Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_GAMEOBJECT)+");\n"},Blockly.CSharp.unityGeneral_createGet=function(e){return["Object.Instantiate("+Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_GAMEOBJECT)+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_GAMEOBJECT]},Blockly.CSharp.unityObjects_findTag=function(e){return["GameObject.FindWithTag("+Blockly.CSharp.valueToCode(e,"TAG",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_STRING)+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_GAMEOBJECT]},Blockly.CSharp.unityObjects_tagof=function(e){return[Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_GAMEOBJECT)+".tag",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_STRING]},Blockly.CSharp.unityObjects_tagcompare=function(e){var t=Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_GAMEOBJECT);return e=Blockly.CSharp.valueToCode(e,"TAG",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_STRING),[t+".CompareTag("+e+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_BOOLEAN]},Blockly.CSharp.unityRaycast={},Blockly.CSharp.unityRaycast_raycast=function(e){var t=Blockly.CSharp.valueToCode(e,"ORIGIN",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_VECTOR)||"Vector2.zero",o=Blockly.CSharp.valueToCode(e,"DIRECTION",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_VECTOR)||"Vector2.down",n="2D"===(e.getFieldValue("PHYSICS")||"2D")?"2D":"",i=Blockly.CSharp.declareLocalTempVar("RaycastHit"+n,"rayHit"),l=Blockly.CSharp.generateOutputMutationCode(e,{other:i+".transform.gameObject",dist:i+".distance",point:i+".point",normal:i+".normal"});return e=Blockly.CSharp.statementToCode(e,"STATEMENTS"),"2D"===n?i+" = Physics2D.Raycast("+t+", "+o+");\nif ("+i+".collider!=null) {\n"+l+e+"}\n":"if (Physics.Raycast("+t+", "+o+", out "+i+")) {\n"+l+e+"}\n"},Blockly.CSharp.unityRender={},Blockly.CSharp.unityRender_setLook=function(e){var t=Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_SPRITERENDERER);return e=Blockly.CSharp.valueToCode(e,"SPRITE",Blockly.CSharp.ORDER_ASSIGNMENT,Blockly.CSharp.DATATYPE_SPRITE)||"null",t+".sprite = "+e+";\n"},Blockly.CSharp.unityRotate={},Blockly.CSharp.unityrotate_identity=function(e){return["Quaternion.identity",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_QUATERNION]},Blockly.CSharp.unityrotate_angleaxis2d=function(e){return["Quaternion.AngleAxis("+(Blockly.CSharp.valueToCode(e,"ANGLE",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_NUMBER)||"0f")+", Vector3.back)",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_QUATERNION]},Blockly.CSharp.unityrotate_angleaxis=function(e){var t=Blockly.CSharp.valueToCode(e,"ANGLE",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_NUMBER)||"0f";return e=Blockly.CSharp.valueToCode(e,"AXIS",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.back",["Quaternion.AngleAxis("+t+", "+e+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_QUATERNION]},Blockly.CSharp.unityrotate_set_rotation=function(e){var t=Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_TRANSFORM);return e=Blockly.CSharp.valueToCode(e,"QUATERNION",Blockly.CSharp.ORDER_ASSIGNMENT,Blockly.CSharp.DATATYPE_QUATERNION)||"Quaternion.identity",t+".localRotation = "+e+";\n"},Blockly.CSharp.unityrotate_rotate=function(e){var t=Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_TRANSFORM);return e=Blockly.CSharp.valueToCode(e,"QUATERNION",Blockly.CSharp.ORDER_ASSIGNMENT,Blockly.CSharp.DATATYPE_QUATERNION)||"Quaternion.identity",t+".localRotation *= "+e+";\n"},Blockly.CSharp.unityrotate_get_rotation=function(e){return[Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_TRANSFORM)+".localRotation",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_QUATERNION]},Blockly.CSharp.unityrotate_apply_vector=function(e){var t=Blockly.CSharp.valueToCode(e,"VECTOR",Blockly.CSharp.ORDER_MULTIPLICATIVE,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero";return[(Blockly.CSharp.valueToCode(e,"QUATERNION",Blockly.CSharp.ORDER_MULTIPLICATIVE_RIGHT,Blockly.CSharp.DATATYPE_QUATERNION)||"Quaternion.identity")+" * "+t,Blockly.CSharp.ORDER_MULTIPLICATIVE,Blockly.CSharp.DATATYPE_VECTOR]},Blockly.CSharp.unityrotate_combine=function(e){var t=Blockly.CSharp.valueToCode(e,"QUATERNION1",Blockly.CSharp.ORDER_MULTIPLICATIVE,Blockly.CSharp.DATATYPE_QUATERNION)||"Quaternion.identity";return e=Blockly.CSharp.valueToCode(e,"QUATERNION2",Blockly.CSharp.ORDER_MULTIPLICATIVE_RIGHT,Blockly.CSharp.DATATYPE_QUATERNION)||"Quaternion.identity",[t+" * "+e,Blockly.CSharp.ORDER_MULTIPLICATIVE,Blockly.CSharp.DATATYPE_QUATERNION]},Blockly.CSharp.unityrotate_get_angle=function(e){var t=Blockly.CSharp.valueToCode(e,"QUATERNION1",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_QUATERNION)||"Quaternion.identity";return e=Blockly.CSharp.valueToCode(e,"QUATERNION2",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_QUATERNION)||"Quaternion.identity",["Quaternion.Angle("+t+", "+e+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_NUMBER]},Blockly.CSharp.unityrotate_get_angle_2d=function(e){return Blockly.CSharp.provideFunction_("UtilityGetAngle2D",["private float "+Blockly.CSharp.FUNCTION_NAME_PLACEHOLDER_+"(Quaternion rotation)","{","  Vector3 point2Dright = Vector3.ProjectOnPlane(rotation * Vector3.right, Vector3.back).normalized;","  return Mathf.Atan2(point2Dright.y, point2Dright.x) * Mathf.Rad2Deg;","}"]),["UtilityGetAngle2D("+(Blockly.CSharp.valueToCode(e,"QUATERNION",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_QUATERNION)||"Quaternion.identity")+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_NUMBER]},Blockly.CSharp.unityrotate_looktowards=function(e){Blockly.CSharp.provideFunction_("UtilityPointTowards",["private Quaternion "+Blockly.CSharp.FUNCTION_NAME_PLACEHOLDER_+"(Vector3 pointwhat, Vector3 direction, Vector3 staywhat)","{","  return Quaternion.LookRotation(direction, staywhat) * Quaternion.Inverse(Quaternion.LookRotation(pointwhat, staywhat));","}"]);var t=Blockly.CSharp.valueToCode(e,"POINTWHAT",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.right",o=Blockly.CSharp.valueToCode(e,"TOWARDS",Blockly.CSharp.ORDER_ADDITIVE,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero",n=Blockly.CSharp.valueToCode(e,"LOOKFROM",Blockly.CSharp.ORDER_ADDITIVE_RIGHT,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero";
return e=Blockly.CSharp.valueToCode(e,"STAYWHAT",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.back",["UtilityPointTowards("+t+", "+("("+o+" - "+n+").normalized")+", "+e+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_QUATERNION]},Blockly.CSharp.unityrotate_looktowards_2d=function(e){Blockly.CSharp.provideFunction_("UtilityPointTowards2D",["private Quaternion "+Blockly.CSharp.FUNCTION_NAME_PLACEHOLDER_+"(Quaternion orientation, Vector3 direction)","{","  return Quaternion.LookRotation(Vector3.ProjectOnPlane(direction, Vector3.back).normalized, Vector3.back) * orientation;","}"]);var t=e.getFieldValue("POINTWHAT"),o="Quaternion.identity";return"X"===t?o="new Quaternion(-0.5f, 0.5f, -0.5f, -0.5f)":"-X"===t?o="new Quaternion(-0.5f, -0.5f, 0.5f, -0.5f)":"Y"===t?o="new Quaternion(0.7f, 0.0f, 0.0f, 0.7f)":"-Y"===t&&(o="new Quaternion(0.0f, -0.7f, 0.7f, 0.0f)"),t=Blockly.CSharp.valueToCode(e,"TOWARDS",Blockly.CSharp.ORDER_ADDITIVE,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero",e=Blockly.CSharp.valueToCode(e,"LOOKFROM",Blockly.CSharp.ORDER_ADDITIVE_RIGHT,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero",["UtilityPointTowards2D("+o+", "+("("+t+" - "+e+").normalized")+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_QUATERNION]},Blockly.CSharp.unityrotate_inverse=function(e){return["Quaternion.Inverse("+(Blockly.CSharp.valueToCode(e,"QUATERNION",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_QUATERNION)||"Quaternion.identity")+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_QUATERNION]},Blockly.CSharp.unityScreen={},Blockly.CSharp.unityScreen_mouse_position=function(e){return["Input.mousePosition",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR3]},Blockly.CSharp.unityScreen_screen_size=function(e){return["new Vector3(Screen.width, Screen.height, 0f)",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR3]},Blockly.CSharp.unityScreen_mouse_scene_position2D=function(e){return Blockly.CSharp.provideFunction_("UtilityScreenPositionToScenePlane",["private Vector3 "+Blockly.CSharp.FUNCTION_NAME_PLACEHOLDER_+"(Vector3 pixelposition, Camera cam, Vector3 normal, Vector3 through)","{","  Ray ray = cam.ScreenPointToRay(pixelposition);","  Plane plane = new Plane(normal, through);","  float distance = 0;","  if (plane.Raycast(ray, out distance)){","    return ray.GetPoint(distance);","  } else {","    return Vector3.zero;","  }","}"]),["UtilityScreenPositionToScenePlane(Input.mousePosition, Camera.main, Vector3.back, Vector3.zero)",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR3]},Blockly.CSharp.unityScreen_camera_main=function(e){return["Camera.main",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_CAMERA]},Blockly.CSharp.unityScreen_screen_to_scene=function(e){Blockly.CSharp.provideFunction_("UtilityScreenPositionToScenePlane",["private Vector3 "+Blockly.CSharp.FUNCTION_NAME_PLACEHOLDER_+"(Vector3 pixelposition, Camera cam, Vector3 normal, Vector3 through)","{","  Ray ray = cam.ScreenPointToRay(pixelposition);","  Plane plane = new Plane(normal, through);","  float distance = 0;","  if (plane.Raycast(ray, out distance)){","    return ray.GetPoint(distance);","  } else {","    return Vector3.zero;","  }","}"]);var t=Blockly.CSharp.valueToCode(e,"POS",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero",o=Blockly.CSharp.valueToCode(e,"CAM",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_CAMERA),n=Blockly.CSharp.valueToCode(e,"PLANE_NORMAL",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.back";return e=Blockly.CSharp.valueToCode(e,"PLANE_POINT",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero",["UtilityScreenPositionToScenePlane("+t+", "+o+", "+n+", "+e+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR3]},Blockly.CSharp.unityScreen_scene_to_screen=function(e){var t=Blockly.CSharp.valueToCode(e,"POS",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero";return[Blockly.CSharp.valueToCode(e,"CAM",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_CAMERA)+".WorldToScreenPoint("+t+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR3]},Blockly.CSharp.unityScreen_screen_to_scene_direction=function(e){var t=Blockly.CSharp.valueToCode(e,"POS",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero";return[Blockly.CSharp.valueToCode(e,"CAM",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_CAMERA)+".ScreenPointToRay("+t+").direction",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR3]},Blockly.CSharp.unityMessages={},Blockly.CSharp.unityGeneral_msgSend=function(e){var t=Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_GAMEOBJECT),o=Blockly.CSharp.variableDB_.getName("msg "+e.getFieldValue("MESSAGE"),"MESSAGES");return e="TRUE"===e.getFieldValue("NEEDRECEIVE"),t+'.SendMessage("'+o+'"'+(e?"":", SendMessageOptions.DontRequireReceiver")+");\n"},Blockly.CSharp.unityGeneral_msgReceive=function(e){var t=Blockly.CSharp.variableDB_.getName("msg "+e.getFieldValue("EVENT"),"MESSAGES");return Blockly.CSharp.pushEventBlock(e,"void "+t+"()",t),null},Blockly.CSharp.unityTime={},Blockly.CSharp.unityTime_levelload=function(e){return["Time.timeSinceLevelLoad",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_NUMBER]},Blockly.CSharp.unityTime_delta=function(e){return["Time.deltaTime",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_NUMBER]},Blockly.CSharp.unityTime_waitframe=function(e){return Blockly.CSharp.transformCurrentEventBlockToCoroutine(),"yield return null;\n"},Blockly.CSharp.unityTime_waittime=function(e){return Blockly.CSharp.transformCurrentEventBlockToCoroutine(),"yield return new WaitForSeconds("+Blockly.CSharp.valueToCode(e,"TIME",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_NUMBER)+");\n"},Blockly.CSharp.unityTime_repeat=function(e){Blockly.CSharp.transformCurrentEventBlockToCoroutine();var t=Blockly.CSharp.pushLoopStackVariable("float","loopStartTime");return e=Blockly.CSharp.statementToCode(e,"STATEMENTS"),Blockly.CSharp.popLoopStackVariable("float","loopStartTime"),t+" = Time.time;\nwhile (true) {\n"+e+Blockly.CSharp.INDENT+"yield return null;\n}\n"},Blockly.CSharp.unityTime_repeat_while=function(e){Blockly.CSharp.transformCurrentEventBlockToCoroutine();var t=Blockly.CSharp.valueToCode(e,"WHILE",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_BOOLEAN)||"true",o=Blockly.CSharp.pushLoopStackVariable("float","loopStartTime");return e=Blockly.CSharp.statementToCode(e,"STATEMENTS"),Blockly.CSharp.popLoopStackVariable("float","loopStartTime"),o+" = Time.time;\nwhile ("+t+") {\n"+e+Blockly.CSharp.INDENT+"yield return null;\n}\n"},Blockly.CSharp.unityTime_looptime=function(e){return(e=Blockly.CSharp.getTopLoopStackVariable("float","loopStartTime"))?["Time.time - "+e,Blockly.CSharp.ORDER_UNARY,Blockly.CSharp.DATATYPE_NUMBER]:["0f",Blockly.CSharp.ORDER_ATOMIC,Blockly.CSharp.DATATYPE_NUMBER]},Blockly.CSharp.unityVector={},Blockly.CSharp.unityVector_make=function(e){var t=Blockly.CSharp.valueToCode(e,"X",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_NUMBER)||"0f",o=Blockly.CSharp.valueToCode(e,"Y",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_NUMBER)||"0f";return e=Blockly.CSharp.valueToCode(e,"Z",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_NUMBER)||"0f",["new Vector3("+t+", "+o+", "+e+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR]},Blockly.CSharp.unityVector_get=function(e){var t=e.getFieldValue("OPT")||"X";return[(Blockly.CSharp.valueToCode(e,"VECT",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero")+"."+t.toLowerCase(),Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_NUMBER]},Blockly.CSharp.unityVector_x=function(e){return[(Blockly.CSharp.valueToCode(e,"VECT",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero")+".x",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_NUMBER]},Blockly.CSharp.unityVector_y=function(e){return[(Blockly.CSharp.valueToCode(e,"VECT",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero")+".y",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_NUMBER]},Blockly.CSharp.unityVector_z=function(e){return[(Blockly.CSharp.valueToCode(e,"VECT",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero")+".z",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_NUMBER]};Blockly.CSharp.unityVector_length=function(e){return[(Blockly.CSharp.valueToCode(e,"VECT",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero")+".magnitude",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_NUMBER]};Blockly.CSharp.unityVector_pick=function(e){return["Vector3."+(e.getFieldValue("OPTION")||"zero"),Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR]},Blockly.CSharp.unityVector_tosize=function(e){var t=Blockly.CSharp.valueToCode(e,"VECTOR",Blockly.CSharp.ORDER_MULTIPLICATIVE_RIGHT,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero",o=Blockly.CSharp.valueToCode(e,"TOLENGTH",Blockly.CSharp.ORDER_MULTIPLICATIVE,Blockly.CSharp.DATATYPE_NUMBER)||"1f";return"1f"!==o?[o+" * "+t+".normalized",Blockly.CSharp.ORDER_MULTIPLICATIVE,Blockly.CSharp.DATATYPE_VECTOR]:(t=Blockly.CSharp.valueToCode(e,"VECTOR",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero",[t+".normalized",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR])},Blockly.CSharp.unityVector_multiply=function(e){var t=Blockly.CSharp.valueToCode(e,"VECTOR",Blockly.CSharp.ORDER_MULTIPLICATIVE_RIGHT,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero",o=Blockly.CSharp.valueToCode(e,"FACTOR",Blockly.CSharp.ORDER_MULTIPLICATIVE,Blockly.CSharp.DATATYPE_NUMBER)||"1f";return"1f"!==o?[o+" * "+t,Blockly.CSharp.ORDER_MULTIPLICATIVE,Blockly.CSharp.DATATYPE_VECTOR]:(t=Blockly.CSharp.valueToCode(e,"VECTOR",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR)||"Vector3.zero",[t,Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR])},Blockly.CSharp.unityVector_math=function(e){var t={ADD:[" + ",Blockly.CSharp.ORDER_ADDITIVE],MINUS:[" - ",Blockly.CSharp.ORDER_ADDITIVE],MULTIPLY:[null,Blockly.CSharp.ORDER_NONE]}[e.getFieldValue("OP")],o=t[0];t=t[1];var n=Blockly.CSharp.valueToCode(e,"A",t,Blockly.CSharp.DATATYPE_VECTOR3)||"Vector3.zero";return e=Blockly.CSharp.valueToCode(e,"B",t,Blockly.CSharp.DATATYPE_VECTOR3)||"Vector3.zero",o?[n+o+e,t,Blockly.CSharp.DATATYPE_VECTOR3]:["Vector3.Scale("+n+", "+e+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR3]},Blockly.CSharp.unityVector_product=function(e){var t=e.getFieldValue("PRODUCTTYPE")||"DOT",o=Blockly.CSharp.valueToCode(e,"A",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_VECTOR3)||"Vector3.zero";return e=Blockly.CSharp.valueToCode(e,"B",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_VECTOR3)||"Vector3.zero","DOT"===t?["Vector3.Dot("+o+", "+e+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_NUMBER]:"CROSS"===t?["Vector3.Cross("+o+", "+e+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR3]:void 0},Blockly.CSharp.unityvector_transformpoint_tolocal=function(e){var t=Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_TRANSFORM);return e=Blockly.CSharp.valueToCode(e,"POINT",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_VECTOR3)||"Vector3.zero",[t+".InverseTransformPoint("+e+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR3]},Blockly.CSharp.unityvector_transformpoint_toworld=function(e){var t=Blockly.CSharp.valueToCode(e,"WHO",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_TRANSFORM);return e=Blockly.CSharp.valueToCode(e,"POINT",Blockly.CSharp.ORDER_NONE,Blockly.CSharp.DATATYPE_VECTOR3)||"Vector3.zero",[t+".TransformPoint("+e+")",Blockly.CSharp.ORDER_PRIMARY,Blockly.CSharp.DATATYPE_VECTOR3]},Blockly.CSharp.variables={},Blockly.CSharp.variables_get=function(e){return[Blockly.CSharp.variableDB_.getName(e.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),Blockly.CSharp.ORDER_ATOMIC]},Blockly.CSharp.variables_set=function(e){var t=Blockly.CSharp.valueToCode(e,"VALUE",Blockly.CSharp.ORDER_ASSIGNMENT);return e=Blockly.CSharp.variableDB_.getName(e.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),null===t||void 0===t||0===t.length?"":e+" = "+t+";\n"},Blockly.CSharp.unityGlobalVariables_declare=function(e){var t=e.getFieldValue("TYPE"),o=Blockly.CSharp.convertDataTypeName(t),n=!0;if("PRIVATE"===e.getFieldValue("VISIBILITY")&&(n=!1),"Number"===t)t=parseFloat(e.getFieldValue("NUM"))+"f";else if("String"===t)t=Blockly.CSharp.quote_(e.getFieldValue("TEXT"));else if("Boolean"===t)t="TRUE"==e.getFieldValue("BOOL")?"true":"false";else if("Vector3"===t){t=parseFloat(e.getFieldValue("X"))+"f"||"0f";var i=parseFloat(e.getFieldValue("Y"))+"f"||"0f",l=parseFloat(e.getFieldValue("Z"))+"f"||"0f";t="new Vector3("+t+", "+i+", "+l+")"}else"Quaternion"===t?(t="Quaternion.identity",n=!1):t="";return e=Blockly.CSharp.variableDB_.getName(e.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),(n?"public":"private")+" "+o+" "+e+(t?" = "+t+";":";")+"\n"},define("csharp",["blockly"],function(){}),Blockly.Blocks.colour={},Blockly.Blocks.colour.HUE=20,Blockly.Blocks.colour_picker={init:function(){this.jsonInit({message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",colour:Blockly.Blocks.colour.HUE,helpUrl:Blockly.Msg.COLOUR_PICKER_HELPURL});var e=this;this.setTooltip(function(){var t=e.getParent();return t&&t.getInputsInline()&&t.tooltip||Blockly.Msg.COLOUR_PICKER_TOOLTIP})}},Blockly.Blocks.colour_random={init:function(){this.jsonInit({message0:Blockly.Msg.COLOUR_RANDOM_TITLE,output:"Colour",colour:Blockly.Blocks.colour.HUE,tooltip:Blockly.Msg.COLOUR_RANDOM_TOOLTIP,helpUrl:Blockly.Msg.COLOUR_RANDOM_HELPURL})}},Blockly.Blocks.colour_rgb={init:function(){this.setHelpUrl(Blockly.Msg.COLOUR_RGB_HELPURL),this.setColour(Blockly.Blocks.colour.HUE),this.appendValueInput("RED").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.COLOUR_RGB_TITLE).appendField(Blockly.Msg.COLOUR_RGB_RED),this.appendValueInput("GREEN").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.COLOUR_RGB_GREEN),this.appendValueInput("BLUE").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.COLOUR_RGB_BLUE),this.setOutput(!0,"Colour"),this.setTooltip(Blockly.Msg.COLOUR_RGB_TOOLTIP)}},Blockly.Blocks.colour_blend={init:function(){this.setHelpUrl(Blockly.Msg.COLOUR_BLEND_HELPURL),this.setColour(Blockly.Blocks.colour.HUE),this.appendValueInput("COLOUR1").setCheck("Colour").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.COLOUR_BLEND_TITLE).appendField(Blockly.Msg.COLOUR_BLEND_COLOUR1),this.appendValueInput("COLOUR2").setCheck("Colour").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.COLOUR_BLEND_COLOUR2),this.appendValueInput("RATIO").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.COLOUR_BLEND_RATIO),this.setOutput(!0,"Colour"),this.setTooltip(Blockly.Msg.COLOUR_BLEND_TOOLTIP)}},Blockly.Blocks.lists={},Blockly.Blocks.lists.HUE=260,Blockly.Blocks.lists_create_empty={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_CREATE_EMPTY_TITLE,output:"Array",colour:Blockly.CAT_LIST_RGB,tooltip:Blockly.Msg.LISTS_CREATE_EMPTY_TOOLTIP,helpUrl:Blockly.Msg.LISTS_CREATE_EMPTY_HELPURL})}},Blockly.Blocks.lists_create_with={init:function(){this.setHelpUrl(Blockly.Msg.LISTS_CREATE_WITH_HELPURL),this.setColour(Blockly.CAT_LIST_RGB),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new Blockly.Mutator(["lists_create_with_item"])),this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},decompose:function(e){var t=e.newBlock("lists_create_with_container");t.initSvg();for(var o=t.getInput("STACK").connection,n=0;n<this.itemCount_;n++){var i=e.newBlock("lists_create_with_item");i.initSvg(),o.connect(i.previousConnection),o=i.nextConnection}return t},compose:function(e){var t=e.getInputTargetBlock("STACK");for(e=[];t;)e.push(t.valueConnection_),t=t.nextConnection&&t.nextConnection.targetBlock();for(t=0;t<this.itemCount_;t++){var o=this.getInput("ADD"+t).connection.targetConnection;o&&-1==e.indexOf(o)&&o.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),t=0;t<this.itemCount_;t++)e[t]&&this.getInput("ADD"+t).connection.connect(e[t])},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=0;e;){var o=this.getInput("ADD"+t);e.valueConnection_=o&&o.connection.targetConnection,t++,e=e.nextConnection&&e.nextConnection.targetBlock()}},updateShape_:function(){if(this.getInput("EMPTY"))this.removeInput("EMPTY");else for(var e=0;this.getInput("ADD"+e);)this.removeInput("ADD"+e),e++;if(0==this.itemCount_)this.appendDummyInput("EMPTY").appendField(Blockly.Msg.LISTS_CREATE_EMPTY_TITLE);else for(e=0;e<this.itemCount_;e++){var t=this.appendValueInput("ADD"+e);0==e&&t.appendField(Blockly.Msg.LISTS_CREATE_WITH_INPUT_WITH)}}},Blockly.Blocks.lists_create_with_container={init:function(){this.setColour(Blockly.CAT_LIST_RGB),this.appendDummyInput().appendField(Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.lists_create_with_item={init:function(){this.setColour(Blockly.CAT_LIST_RGB),this.appendDummyInput().appendField(Blockly.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.lists_repeat={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_REPEAT_TITLE,args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",colour:Blockly.CAT_LIST_RGB,tooltip:Blockly.Msg.LISTS_REPEAT_TOOLTIP,helpUrl:Blockly.Msg.LISTS_REPEAT_HELPURL})}},Blockly.Blocks.lists_length={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_LENGTH_TITLE,args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",colour:Blockly.CAT_LIST_RGB,tooltip:Blockly.Msg.LISTS_LENGTH_TOOLTIP,helpUrl:Blockly.Msg.LISTS_LENGTH_HELPURL})}},Blockly.Blocks.lists_isEmpty={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_ISEMPTY_TITLE,args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",colour:Blockly.CAT_LIST_RGB,tooltip:Blockly.Msg.LISTS_ISEMPTY_TOOLTIP,helpUrl:Blockly.Msg.LISTS_ISEMPTY_HELPURL})}},Blockly.Blocks.lists_indexOf={init:function(){var e=[[Blockly.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[Blockly.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(Blockly.Msg.LISTS_INDEX_OF_HELPURL),this.setColour(Blockly.CAT_LIST_RGB),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(Blockly.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new Blockly.FieldDropdown(e),"END"),this.setInputsInline(!0),this.setTooltip(Blockly.Msg.LISTS_INDEX_OF_TOOLTIP)}},Blockly.Blocks.lists_getIndex={init:function(){var e=[[Blockly.Msg.LISTS_GET_INDEX_GET,"GET"],[Blockly.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[Blockly.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[Blockly.Msg.LISTS_GET_INDEX_LAST,"LAST"],[Blockly.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(Blockly.Msg.LISTS_GET_INDEX_HELPURL),this.setColour(Blockly.CAT_LIST_RGB),e=new Blockly.FieldDropdown(e,function(e){this.sourceBlock_.updateStatement_("REMOVE"==e)}),this.appendValueInput("VALUE").setCheck("Array").appendField(Blockly.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(e,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),Blockly.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);var t=this;this.setTooltip(function(){var e=t.getFieldValue("MODE")+"_"+t.getFieldValue("WHERE");return Blockly.Msg["LISTS_GET_INDEX_TOOLTIP_"+e]})},mutationToDom:function(){var e=document.createElement("mutation");e.setAttribute("statement",!this.outputConnection);var t=this.getInput("AT").type==Blockly.INPUT_VALUE;return e.setAttribute("at",t),e},domToMutation:function(e){var t="true"==e.getAttribute("statement");this.updateStatement_(t),e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateStatement_:function(e){e!=!this.outputConnection&&(this.unplug(!0,!0),e?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var t=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(t){var o="FROM_START"==t||"FROM_END"==t;if(o!=e){var n=this.sourceBlock_;return n.updateAt_(o),n.setFieldValue(t,"WHERE"),null}});this.getInput("AT").appendField(t,"WHERE"),Blockly.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},Blockly.Blocks.lists_setIndex={init:function(){var e=[[Blockly.Msg.LISTS_SET_INDEX_SET,"SET"],[Blockly.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[Blockly.Msg.LISTS_GET_INDEX_LAST,"LAST"],[Blockly.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(Blockly.Msg.LISTS_SET_INDEX_HELPURL),this.setColour(Blockly.CAT_LIST_RGB),this.appendValueInput("LIST").setCheck("Array").appendField(Blockly.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new Blockly.FieldDropdown(e),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(Blockly.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var t=this;this.setTooltip(function(){var e=t.getFieldValue("MODE")+"_"+t.getFieldValue("WHERE");return Blockly.Msg["LISTS_SET_INDEX_TOOLTIP_"+e]})},mutationToDom:function(){var e=document.createElement("mutation"),t=this.getInput("AT").type==Blockly.INPUT_VALUE;return e.setAttribute("at",t),e},domToMutation:function(e){e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var t=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(t){var o="FROM_START"==t||"FROM_END"==t;if(o!=e){var n=this.sourceBlock_;return n.updateAt_(o),n.setFieldValue(t,"WHERE"),null}});this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(t,"WHERE")}},Blockly.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(Blockly.Msg.LISTS_GET_SUBLIST_HELPURL),this.setColour(Blockly.CAT_LIST_RGB),this.appendValueInput("LIST").setCheck("Array").appendField(Blockly.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),Blockly.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(Blockly.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation"),t=this.getInput("AT1").type==Blockly.INPUT_VALUE;return e.setAttribute("at1",t),t=this.getInput("AT2").type==Blockly.INPUT_VALUE,e.setAttribute("at2",t),e},domToMutation:function(e){var t="true"==e.getAttribute("at1");e="true"==e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(e,t){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),t?(this.appendValueInput("AT"+e).setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e);var o=new Blockly.FieldDropdown(this["WHERE_OPTIONS_"+e],function(o){var n="FROM_START"==o||"FROM_END"==o;if(n!=t){var i=this.sourceBlock_;return i.updateAt_(e,n),i.setFieldValue(o,"WHERE"+e),null}});this.getInput("AT"+e).appendField(o,"WHERE"+e),1==e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),Blockly.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},Blockly.Blocks.lists_sort={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[Blockly.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[Blockly.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[Blockly.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[Blockly.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[Blockly.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",colour:Blockly.Blocks.lists.HUE,tooltip:Blockly.Msg.LISTS_SORT_TOOLTIP,helpUrl:Blockly.Msg.LISTS_SORT_HELPURL})}},Blockly.Blocks.lists_split={init:function(){var e=this,t=new Blockly.FieldDropdown([[Blockly.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[Blockly.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],function(t){e.updateType_(t)});this.setHelpUrl(Blockly.Msg.LISTS_SPLIT_HELPURL),this.setColour(Blockly.CAT_LIST_RGB),this.appendValueInput("INPUT").setCheck("String").appendField(t,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(Blockly.Msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(function(){var t=e.getFieldValue("MODE");if("SPLIT"==t)return Blockly.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==t)return Blockly.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw"Unknown mode: "+t})},updateType_:function(e){"SPLIT"==e?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("mode",this.getFieldValue("MODE")),e},domToMutation:function(e){this.updateType_(e.getAttribute("mode"))}},Blockly.Blocks.unityLists_create_with={init:function(){this.setColour(Blockly.CAT_LIST_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.VARIABLES_TYPE_NUMBER,"Number"],[Blockly.Msg.VARIABLES_TYPE_STRING,"String"]],function(e){this.sourceBlock_.updateType_(e)});this.appendValueInput("ADD0").appendField(Blockly.Msg.LISTS_CREATE_TITLE).appendField(":").appendField(e,"LIST_TYPE").appendField(Blockly.RTL?"→":"←").setCheck("Number"),this.setInputsInline(!1),this.appendValueInput("ADD1").setCheck("Number"),this.appendValueInput("ADD2").setCheck("Number"),this.setOutput(!0,"List_Number"),this.setMutatorPlus(new Blockly.MutatorPlus(this)),this.setMutatorMinus(new Blockly.MutatorMinus(this)),this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_TOOLTIP),this.listType_="Number",this.itemCount_=3},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("items",this.itemCount_),e.setAttribute("list_type",this.listType_),e},domToMutation:function(e){for(var t=0;t<this.itemCount_;t++)this.removeInput("ADD"+t);this.itemCount_=parseInt(e.getAttribute("items"),10),this.listType_=e.getAttribute("list_type");var o=new Blockly.FieldDropdown([[Blockly.Msg.VARIABLES_TYPE_NUMBER,"Number"],[Blockly.Msg.VARIABLES_TYPE_STRING,"String"]],function(e){this.sourceBlock_.updateType_(e)});for(this.itemCount_=parseInt(e.getAttribute("items"),10),t=0;t<this.itemCount_;t++)0==t?(this.appendValueInput("ADD0").appendField(Blockly.Msg.LISTS_CREATE_TITLE).appendField(":").appendField(o,"LIST_TYPE").appendField(Blockly.RTL?"→":"←").setCheck(this.listType_),this.setInputsInline(!1)):this.appendValueInput("ADD"+t).setCheck(this.listType_);0==this.itemCount_?(this.appendDummyInput("EMPTY").appendField(Blockly.Msg.LISTS_CREATE_EMPTY_TITLE).appendField(":").appendField(o,"LIST_TYPE"),this.mutatorMinus.dispose(),this.mutatorMinus=null):this.setMutatorMinus(new Blockly.MutatorMinus(this)),this.setOutput(!0,"List_"+this.listType_)},updateShape_:function(e){var t=new Blockly.FieldDropdown([[Blockly.Msg.VARIABLES_TYPE_NUMBER,"Number"],[Blockly.Msg.VARIABLES_TYPE_STRING,"String"]],function(e){this.sourceBlock_.updateType_(e)});t.setValue(this.listType_),1==e?(0==this.itemCount_?(this.removeInput("EMPTY"),this.appendValueInput("ADD0").appendField(Blockly.Msg.LISTS_CREATE_TITLE).appendField(":").appendField(t,"LIST_TYPE").appendField(Blockly.RTL?"→":"←").setCheck(this.listType_),this.setInputsInline(!1),this.setMutatorMinus(new Blockly.MutatorMinus(this))):this.appendValueInput("ADD"+this.itemCount_).setCheck(this.listType_),e=this.getNewValue(),e.initSvg(),e.render(),this.getInput("ADD"+this.itemCount_).connection.connect(e.outputConnection),this.itemCount_++):-1==e&&(this.itemCount_--,(e=this.getInputTargetBlock("ADD"+this.itemCount_))&&(e.unplug(),e.bumpNeighbours_()),this.removeInput("ADD"+this.itemCount_)),0==this.itemCount_&&(this.appendDummyInput("EMPTY").appendField(Blockly.Msg.LISTS_CREATE_EMPTY_TITLE).appendField(":").appendField(t,"LIST_TYPE"),this.mutatorMinus.dispose(),this.mutatorMinus=null),this.render()},updateType_:function(e){this.listType_=e;for(var t=0;t<this.itemCount_;t++){var o=this.getInputTargetBlock("ADD"+t);o&&o.dispose(),o=this.getInput("ADD"+t),o.setCheck(e);var n=this.getNewValue();n.initSvg(),n.render(),o.connection.connect(n.outputConnection)}this.setOutput(!0,"List_"+this.listType_)},getNewValue:function(){var e;switch(this.listType_){case"Number":return e=this.workspace.newBlock("math_number");case"String":return e=this.workspace.newBlock("text")}}},Blockly.Blocks.robLists_repeat={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_REPEAT_TITLE,args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"List_Number",colour:Blockly.CAT_LIST_RGB,tooltip:Blockly.Msg.LISTS_REPEAT_TOOLTIP,helpUrl:Blockly.Msg.LISTS_REPEAT_HELPURL});var e=this.getInput("ITEM").fieldRow[0].text_,t=this.getInput("NUM").fieldRow[0].text_,o=this.getInput("").fieldRow[0].text_;this.removeInput("NUM"),this.removeInput("ITEM"),this.removeInput("");var n=new Blockly.FieldDropdown([[Blockly.Msg.VARIABLES_TYPE_NUMBER,"Number"],[Blockly.Msg.VARIABLES_TYPE_STRING,"String"]],function(e){this.sourceBlock_.updateType_(e)});this.appendValueInput("ITEM").appendField(e).appendField(n,"LIST_TYPE"),this.appendValueInput("NUM").appendField(t).setCheck("Number"),this.appendDummyInput().appendField(o),this.listType_="Number"},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("list_type",this.listType_),e},domToMutation:function(e){this.listType_=e.getAttribute("list_type"),this.updateType_(this.listType_)},updateType_:function(e){this.listType_=e,this.getInput("ITEM").setCheck(e),this.setOutput(!0,"List_"+this.listType_)}},Blockly.Blocks.robLists_length={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_LENGTH_TITLE,
args0:[{type:"input_value",name:"VALUE",check:["List_Number","List_String","List_Boolean","List_Colour","List_Connection"]}],output:"Number",colour:Blockly.CAT_LIST_RGB,tooltip:Blockly.Msg.LISTS_LENGTH_TOOLTIP,helpUrl:Blockly.Msg.LISTS_LENGTH_HELPURL})}},Blockly.Blocks.robLists_isEmpty={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_ISEMPTY_TITLE,args0:[{type:"input_value",name:"VALUE",check:["List_Number","List_String","List_Boolean","List_Colour","List_Connection"]}],output:"Boolean",colour:Blockly.CAT_LIST_RGB,tooltip:Blockly.Msg.LISTS_ISEMPTY_TOOLTIP,helpUrl:Blockly.Msg.LISTS_ISEMPTY_HELPURL})}},Blockly.Blocks.robLists_indexOf={init:function(){var e=[[Blockly.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[Blockly.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(Blockly.Msg.LISTS_INDEX_OF_HELPURL),this.setColour(Blockly.CAT_LIST_RGB),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck(["List_Number","List_String","List_Boolean","List_Colour","List_Connection"]).appendField(Blockly.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new Blockly.FieldDropdown(e),"END"),this.setInputsInline(!0),this.setTooltip(Blockly.Msg.LISTS_INDEX_OF_TOOLTIP)},onchange:function(){if(this.workspace&&2!=Blockly.Block.dragMode_){var e=this.getInputTargetBlock("VALUE"),t=this.getInputTargetBlock("FIND");e?this.getInput("FIND").setCheck(e.outputConnection.check_[0].replace("List_","")):this.getInput("FIND").setCheck("Number String Boolean Colour Connection String".split(" ")),t?this.getInput("VALUE").setCheck("List_"+t.outputConnection.check_[0]):this.getInput("VALUE").setCheck(["List_Number","List_String","List_Boolean","List_Colour","List_Connection"]),this.render()}}},Blockly.Blocks.robLists_getIndex={init:function(){var e=[[Blockly.Msg.LISTS_GET_INDEX_GET,"GET"],[Blockly.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[Blockly.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[Blockly.Msg.LISTS_GET_INDEX_LAST,"LAST"],[Blockly.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(Blockly.Msg.LISTS_GET_INDEX_HELPURL),this.setColour(Blockly.CAT_LIST_RGB),e=new Blockly.FieldDropdown(e,function(e){this.sourceBlock_.updateStatement_("REMOVE"==e)}),this.appendValueInput("VALUE").setCheck(["List_Number","List_String","List_Boolean","List_Colour","List_Connection"]).appendField(Blockly.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(e,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),Blockly.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0,["Number","String","Boolean","Colour","Connection"]),this.updateAt_(!0);var t=this;this.setTooltip(function(){var e=t.getFieldValue("MODE")+"_"+t.getFieldValue("WHERE");return Blockly.Msg["LISTS_GET_INDEX_TOOLTIP_"+e]})},mutationToDom:function(){var e=document.createElement("mutation");e.setAttribute("statement",!this.outputConnection);var t=this.getInput("AT").type==Blockly.INPUT_VALUE;return e.setAttribute("at",t),e},domToMutation:function(e){var t="true"==e.getAttribute("statement");this.updateStatement_(t),e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateStatement_:function(e){e!=!this.outputConnection&&(this.unplug(!0,!0),e?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var t=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(t){var o="FROM_START"==t||"FROM_END"==t;if(o!=e){var n=this.sourceBlock_;return n.updateAt_(o),n.setFieldValue(t,"WHERE"),null}});this.getInput("AT").appendField(t,"WHERE"),Blockly.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)},onchange:function(){if(this.workspace&&2!=Blockly.Block.dragMode_&&!this.previousConnection){var e=this.getInputTargetBlock("VALUE");e?this.setOutput(!0,e.outputConnection.check_[0].replace("Array_","")):this.setOutput(!0,"Number String Boolean Colour Connection String".split(" ")),this.render()}}},Blockly.Blocks.robLists_setIndex={init:function(){var e=[[Blockly.Msg.LISTS_SET_INDEX_SET,"SET"],[Blockly.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[Blockly.Msg.LISTS_GET_INDEX_LAST,"LAST"],[Blockly.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(Blockly.Msg.LISTS_SET_INDEX_HELPURL),this.setColour(Blockly.CAT_LIST_RGB),this.appendValueInput("LIST").setCheck("List_Number List_String List_Boolean List_Colour List_Connection String".split(" ")).appendField(Blockly.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new Blockly.FieldDropdown(e),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(Blockly.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var t=this;this.setTooltip(function(){var e=t.getFieldValue("MODE")+"_"+t.getFieldValue("WHERE");return Blockly.Msg["LISTS_SET_INDEX_TOOLTIP_"+e]})},mutationToDom:function(){var e=document.createElement("mutation"),t=this.getInput("AT").type==Blockly.INPUT_VALUE;return e.setAttribute("at",t),e},domToMutation:function(e){e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var t=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(t){var o="FROM_START"==t||"FROM_END"==t;if(o!=e){var n=this.sourceBlock_;return n.updateAt_(o),n.setFieldValue(t,"WHERE"),null}});this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(t,"WHERE")},onchange:function(){if(this.workspace&&2!=Blockly.Block.dragMode_){var e=this.getInputTargetBlock("LIST"),t=this.getInputTargetBlock("TO");e?this.getInput("TO").setCheck(e.outputConnection.check_[0].replace("List_","")):this.getInput("TO").setCheck("Number String Boolean Colour Connection String".split(" ")),t?this.getInput("LIST").setCheck("List_"+t.outputConnection.check_[0]):this.getInput("LIST").setCheck("List_Number List_String List_Boolean List_Colour List_Connection String".split(" ")),this.render()}}},Blockly.Blocks.robLists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(Blockly.Msg.LISTS_GET_SUBLIST_HELPURL),this.setColour(Blockly.CAT_LIST_RGB),this.appendValueInput("LIST").setCheck("List_Number List_String List_Boolean List_Colour List_Connection String".split(" ")).appendField(Blockly.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),Blockly.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"List_Number List_String List_Boolean List_Colour List_Connection String".split(" ")),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(Blockly.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation"),t=this.getInput("AT1").type==Blockly.INPUT_VALUE;return e.setAttribute("at1",t),t=this.getInput("AT2").type==Blockly.INPUT_VALUE,e.setAttribute("at2",t),e},domToMutation:function(e){var t="true"==e.getAttribute("at1");e="true"==e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(e,t){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),t?(this.appendValueInput("AT"+e).setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e);var o=new Blockly.FieldDropdown(this["WHERE_OPTIONS_"+e],function(o){var n="FROM_START"==o||"FROM_END"==o;if(n!=t){var i=this.sourceBlock_;return i.updateAt_(e,n),i.setFieldValue(o,"WHERE"+e),null}});this.getInput("AT"+e).appendField(o,"WHERE"+e),1==e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),Blockly.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)},onchange:function(){if(this.workspace&&2!=Blockly.Block.dragMode_){var e=this.getInputTargetBlock("LIST");e?this.setOutput(!0,e.outputConnection.check_[0]):this.setOutput(!0,"List_Number List_String List_Boolean List_Colour List_Connection String".split(" ")),this.render()}}},Blockly.Blocks.logic={},Blockly.Blocks.logic.HUE=210,Blockly.Blocks.controls_if={init:function(){this.setHelpUrl(Blockly.Msg.CONTROLS_IF_HELPURL),this.setColour(Blockly.CAT_LOGIC_RGB),this.appendValueInput("IF0").setCheck("Boolean").appendField(Blockly.Msg.CONTROLS_IF_MSG_IF),this.appendStatementInput("DO0").appendField(Blockly.Msg.CONTROLS_IF_MSG_THEN),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setMutator(new Blockly.Mutator(["controls_if_elseif","controls_if_else"]));var e=this;this.setTooltip(function(){return e.elseifCount_||e.elseCount_?!e.elseifCount_&&e.elseCount_?Blockly.Msg.CONTROLS_IF_TOOLTIP_2:e.elseifCount_&&!e.elseCount_?Blockly.Msg.CONTROLS_IF_TOOLTIP_3:e.elseifCount_&&e.elseCount_?Blockly.Msg.CONTROLS_IF_TOOLTIP_4:"":Blockly.Msg.CONTROLS_IF_TOOLTIP_1}),this.elseCount_=this.elseifCount_=0},mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var e=document.createElement("mutation");return this.elseifCount_&&e.setAttribute("elseif",this.elseifCount_),this.elseCount_&&e.setAttribute("else",1),e},domToMutation:function(e){this.elseifCount_=parseInt(e.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(e.getAttribute("else"),10)||0,this.updateShape_()},decompose:function(e){var t=e.newBlock("controls_if_if");t.initSvg();for(var o=t.nextConnection,n=1;n<=this.elseifCount_;n++){var i=e.newBlock("controls_if_elseif");i.initSvg(),o.connect(i.previousConnection),o=i.nextConnection}return this.elseCount_&&(e=e.newBlock("controls_if_else"),e.initSvg(),o.connect(e.previousConnection)),t},compose:function(e){var t=e.nextConnection.targetBlock();this.elseCount_=this.elseifCount_=0,e=[null];for(var o=[null],n=null;t;){switch(t.type){case"controls_if_elseif":this.elseifCount_++,e.push(t.valueConnection_),o.push(t.statementConnection_);break;case"controls_if_else":this.elseCount_++,n=t.statementConnection_;break;default:throw"Unknown block type."}t=t.nextConnection&&t.nextConnection.targetBlock()}for(this.updateShape_(),t=1;t<=this.elseifCount_;t++)Blockly.Mutator.reconnect(e[t],this,"IF"+t),Blockly.Mutator.reconnect(o[t],this,"DO"+t);Blockly.Mutator.reconnect(n,this,"ELSE")},saveConnections:function(e){e=e.nextConnection.targetBlock();for(var t=1;e;){switch(e.type){case"controls_if_elseif":var o=this.getInput("IF"+t),n=this.getInput("DO"+t);e.valueConnection_=o&&o.connection.targetConnection,e.statementConnection_=n&&n.connection.targetConnection,t++;break;case"controls_if_else":n=this.getInput("ELSE"),e.statementConnection_=n&&n.connection.targetConnection;break;default:throw"Unknown block type."}e=e.nextConnection&&e.nextConnection.targetBlock()}},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var e=1;this.getInput("IF"+e);)this.removeInput("IF"+e),this.removeInput("DO"+e),e++;for(e=1;e<=this.elseifCount_;e++)this.appendValueInput("IF"+e).setCheck("Boolean").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+e).appendField(Blockly.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSE)}},Blockly.Blocks.controls_if_if={init:function(){this.setColour(Blockly.CAT_LOGIC_RGB),this.appendDummyInput().appendField(Blockly.Msg.CONTROLS_IF_IF_TITLE_IF),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.CONTROLS_IF_IF_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.controls_if_elseif={init:function(){this.setColour(Blockly.CAT_LOGIC_RGB),this.appendDummyInput().appendField(Blockly.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.CONTROLS_IF_ELSEIF_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.controls_if_else={init:function(){this.setColour(Blockly.CAT_LOGIC_RGB),this.appendDummyInput().appendField(Blockly.Msg.CONTROLS_IF_ELSE_TITLE_ELSE),this.setPreviousStatement(!0),this.setTooltip(Blockly.Msg.CONTROLS_IF_ELSE_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.logic_compare={init:function(){var e=this.RTL?[["=","EQ"],["≠","NEQ"],[">","LT"],["≥","LTE"],["<","GT"],["≤","GTE"]]:[["=","EQ"],["≠","NEQ"],["<","LT"],["≤","LTE"],[">","GT"],["≥","GTE"]];this.setHelpUrl(Blockly.Msg.LOGIC_COMPARE_HELPURL),this.setColour(Blockly.CAT_CONTROL_RGB),this.setOutput(!0,"Boolean"),this.appendValueInput("A"),this.appendValueInput("B").appendField(new Blockly.FieldDropdown(e),"OP"),this.setInputsInline(!0);var t=this;this.setTooltip(function(){var e=t.getFieldValue("OP");return{EQ:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_EQ,NEQ:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_NEQ,LT:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_LT,LTE:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_LTE,GT:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_GT,GTE:Blockly.Msg.LOGIC_COMPARE_TOOLTIP_GTE}[e]}),this.prevBlocks_=[null,null]},updateShape:function(e){if(e){this.operatorRange_=e;var t=this.getInputTargetBlock("B");this.removeInput("B",!0),this.removeInput("OP_DROP",!0),e="NUM_REV"==e?Blockly.RTL?[["<","GT"],["≤","GTE"],[">","LT"],["≥","LTE"],["=","EQ"],["≠","NEQ"]]:[[">","GT"],["≥","GTE"],["<","LT"],["≤","LTE"],["=","EQ"],["≠","NEQ"]]:"BOOL"==e?[["=","EQ"],["≠","NEQ"]]:"COLOUR"==e?[["=","EQ"],["≠","NEQ"]]:Blockly.RTL?[[">","LT"],["≥","LTE"],["<","GT"],["≤","GTE"],["=","EQ"],["≠","NEQ"]]:[["<","LT"],["≤","LTE"],[">","GT"],["≥","GTE"],["=","EQ"],["≠","NEQ"]],this.appendDummyInput("OP_DROP").appendField(new Blockly.FieldDropdown(e),"OP"),e=this.appendValueInput("B"),t&&e.connection.connect(t)}},onchange:function(e){if(this.workspace&&2!=Blockly.Block.dragMode_){e=this.getInputTargetBlock("A");var t=this.getInputTargetBlock("B");if(e&&t){if(!e.outputConnection.check_||!t.outputConnection.check_)return;if(Blockly.Events.setGroup(!1),e.outputConnection.check_[0]===t.outputConnection.check_[0])return;this.getInput("A").setCheck(e.outputConnection.check_),this.getInput("B").setCheck(e.outputConnection.check_)}else e?this.getInput("B").setCheck(e.outputConnection.check_):t?this.getInput("A").setCheck(t.outputConnection.check_):(this.getInput("A").setCheck(null),this.getInput("B").setCheck(null));this.render()}}},Blockly.Blocks.logic_operation={init:function(){var e=[[Blockly.Msg.LOGIC_OPERATION_AND,"AND"],[Blockly.Msg.LOGIC_OPERATION_OR,"OR"]];this.setHelpUrl(Blockly.Msg.LOGIC_OPERATION_HELPURL),this.setColour(Blockly.CAT_CONTROL_RGB),this.setOutput(!0,"Boolean"),this.appendValueInput("A").setCheck("Boolean"),this.appendValueInput("B").setCheck("Boolean").appendField(new Blockly.FieldDropdown(e),"OP"),this.setInputsInline(!0);var t=this;this.setTooltip(function(){var e=t.getFieldValue("OP");return{AND:Blockly.Msg.LOGIC_OPERATION_TOOLTIP_AND,OR:Blockly.Msg.LOGIC_OPERATION_TOOLTIP_OR}[e]})}},Blockly.Blocks.logic_negate={init:function(){this.jsonInit({message0:Blockly.Msg.LOGIC_NEGATE_TITLE,args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",colour:Blockly.CAT_CONTROL_RGB,tooltip:Blockly.Msg.LOGIC_NEGATE_TOOLTIP,helpUrl:Blockly.Msg.LOGIC_NEGATE_HELPURL})}},Blockly.Blocks.logic_boolean={init:function(){this.jsonInit({message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[[Blockly.Msg.LOGIC_BOOLEAN_TRUE,"TRUE"],[Blockly.Msg.LOGIC_BOOLEAN_FALSE,"FALSE"]]}],output:"Boolean",colour:Blockly.CAT_CONTROL_RGB,tooltip:Blockly.Msg.LOGIC_BOOLEAN_TOOLTIP,helpUrl:Blockly.Msg.LOGIC_BOOLEAN_HELPURL})}},Blockly.Blocks.logic_null={init:function(){this.jsonInit({message0:Blockly.Msg.LOGIC_NULL,output:null,colour:Blockly.CAT_OBJECTS_RGB,tooltip:Blockly.Msg.LOGIC_NULL_TOOLTIP,helpUrl:Blockly.Msg.LOGIC_NULL_HELPURL})}},Blockly.Blocks.logic_ternary={init:function(){this.setHelpUrl(Blockly.Msg.LOGIC_TERNARY_HELPURL),this.setColour(Blockly.CAT_CONTROL_RGB),this.appendValueInput("IF").setCheck("Boolean").appendField(Blockly.Msg.LOGIC_TERNARY_CONDITION),this.appendValueInput("THEN").appendField(Blockly.Msg.LOGIC_TERNARY_IF_TRUE),this.appendValueInput("ELSE").appendField(Blockly.Msg.LOGIC_TERNARY_IF_FALSE),this.setOutput(!0),this.setTooltip(Blockly.Msg.LOGIC_TERNARY_TOOLTIP),this.prevParentConnection_=null},onchange:function(e){var t=this.getInputTargetBlock("THEN"),o=this.getInputTargetBlock("ELSE"),n=this.outputConnection.targetConnection;if((t||o)&&n)for(var i=0;2>i;i++){var l=1==i?t:o;l&&!l.outputConnection.checkType_(n)&&(Blockly.Events.setGroup(e.group),n===this.prevParentConnection_?(this.unplug(),n.getSourceBlock().bumpNeighbours_()):(l.unplug(),l.bumpNeighbours_()),Blockly.Events.setGroup(!1))}this.prevParentConnection_=n}},Blockly.Blocks.unityControls_ifElse={init:function(){this.setColour(Blockly.CAT_CONTROL_RGB),this.appendValueInput("IF0").appendField(Blockly.Msg.CONTROLS_IF_MSG_IF).setCheck("Boolean"),this.appendStatementInput("DO0").appendField(Blockly.Msg.CONTROLS_IF_MSG_THEN),this.appendStatementInput("ELSE").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setMutatorPlus(new Blockly.MutatorPlus(this)),this.elseifCount_=0,this.elseCount_=1;var e=this;this.setTooltip(function(){return 0===e.elseifCount_?Blockly.Msg.CONTROLS_IF_TOOLTIP_2:Blockly.Msg.CONTROLS_IF_TOOLTIP_4})},mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var e=document.createElement("mutation");return this.elseifCount_&&e.setAttribute("elseIf",this.elseifCount_),this.elseCount_&&e.setAttribute("else",1),e},domToMutation:function(e){for(e.hasAttribute("elseif")&&(this.elseifCount_=parseInt(e.getAttribute("elseif"),10)),this.removeInput("ELSE"),e=1;e<=this.elseifCount_;e++)this.appendValueInput("IF"+e).appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSEIF).setCheck("Boolean"),this.appendStatementInput("DO"+e).appendField(Blockly.Msg.CONTROLS_IF_MSG_THEN);this.appendStatementInput("ELSE").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSE),1<=this.elseifCount_&&this.setMutatorMinus(new Blockly.MutatorMinus(this))},updateShape_:function(e){Blockly.dragMode_=Blockly.DRAG_NONE,1==e?(this.elseifCount_++,this.removeInput("ELSE"),this.appendValueInput("IF"+this.elseifCount_).appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSEIF).setCheck("Boolean"),this.appendStatementInput("DO"+this.elseifCount_).appendField(Blockly.Msg.CONTROLS_IF_MSG_THEN),this.appendStatementInput("ELSE").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSE)):0==e?this.elseifCount_=0:-1==e&&((e=this.getInputTargetBlock("IF"+this.elseifCount_))&&(e.unplug(!1),e.bumpNeighbours_()),this.removeInput("ELSE"),this.removeInput("DO"+this.elseifCount_),this.removeInput("IF"+this.elseifCount_),this.appendStatementInput("ELSE").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSE),this.elseifCount_--),1<=this.elseifCount_?1==this.elseifCount_&&(this.setMutatorMinus(new Blockly.MutatorMinus(this)),this.render()):(this.mutatorMinus.dispose(),this.mutatorMinus=null)}},Blockly.Blocks.unityControls_if={init:function(){this.setColour(Blockly.CAT_CONTROL_RGB),this.appendValueInput("IF0").appendField(Blockly.Msg.CONTROLS_IF_MSG_IF).setCheck("Boolean"),this.appendStatementInput("DO0").appendField(Blockly.Msg.CONTROLS_IF_MSG_THEN),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setMutatorPlus(new Blockly.MutatorPlus(this)),this.elseifCount_=0;var e=this;this.setTooltip(function(){return 0===e.elseifCount_?Blockly.Msg.CONTROLS_IF_TOOLTIP_1:Blockly.Msg.CONTROLS_IF_TOOLTIP_3})},mutationToDom:function(){if(!this.elseifCount_)return null;var e=document.createElement("mutation");return this.elseifCount_&&e.setAttribute("elseIf",this.elseifCount_),e},domToMutation:function(e){for(this.elseifCount_=parseInt(e.getAttribute("elseif"),10),e=1;e<=this.elseifCount_;e++)this.appendValueInput("IF"+e).appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSEIF).setCheck("Boolean"),this.appendStatementInput("DO"+e).appendField(Blockly.Msg.CONTROLS_IF_MSG_THEN);1<=this.elseifCount_&&this.setMutatorMinus(new Blockly.MutatorMinus(this))},updateShape_:function(e){Blockly.dragMode_=Blockly.DRAG_NONE,1==e?(this.elseifCount_++,this.appendValueInput("IF"+this.elseifCount_).appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSEIF).setCheck("Boolean"),this.appendStatementInput("DO"+this.elseifCount_).appendField(Blockly.Msg.CONTROLS_IF_MSG_THEN)):-1==e&&((e=this.getInputTargetBlock("IF"+this.elseifCount_))&&(e.unplug(),e.bumpNeighbours_()),this.removeInput("DO"+this.elseifCount_),this.removeInput("IF"+this.elseifCount_),this.elseifCount_--),1<=this.elseifCount_?1==this.elseifCount_&&(this.setMutatorMinus(new Blockly.MutatorMinus(this)),this.render()):(this.mutatorMinus.dispose(),this.mutatorMinus=null)}},Blockly.Blocks.loops={},Blockly.Blocks.loops.HUE=120,Blockly.Blocks.controls_repeat_ext={init:function(){this.jsonInit({message0:Blockly.Msg.CONTROLS_REPEAT_TITLE,args0:[{type:"input_value",name:"TIMES",check:"Number"}],previousStatement:null,nextStatement:null,colour:Blockly.CAT_CONTROL_RGB,tooltip:Blockly.Msg.CONTROLS_REPEAT_TOOLTIP,helpUrl:Blockly.Msg.CONTROLS_REPEAT_HELPURL}),this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO)}},Blockly.Blocks.controls_repeat={init:function(){this.jsonInit({message0:Blockly.Msg.CONTROLS_REPEAT_TITLE,args0:[{type:"field_number",name:"TIMES",text:"10"}],previousStatement:null,nextStatement:null,colour:Blockly.CAT_CONTROL_RGB,tooltip:Blockly.Msg.CONTROLS_REPEAT_TOOLTIP,helpUrl:Blockly.Msg.CONTROLS_REPEAT_HELPURL}),this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO),this.getField("TIMES").setValidator(Blockly.FieldTextInput.nonnegativeIntegerValidator)}},Blockly.Blocks.controls_whileUntil={init:function(){var e=[[Blockly.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE,"WHILE"],[Blockly.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL,"UNTIL"]];this.setHelpUrl(Blockly.Msg.CONTROLS_WHILEUNTIL_HELPURL),this.setColour(Blockly.CAT_CONTROL_RGB),this.appendValueInput("BOOL").setCheck("Boolean").appendField(new Blockly.FieldDropdown(e),"MODE"),this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_WHILEUNTIL_INPUT_DO),this.setPreviousStatement(!0),this.setNextStatement(!0);var t=this;this.setTooltip(function(){var e=t.getFieldValue("MODE");return{WHILE:Blockly.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE,UNTIL:Blockly.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}[e]})}},Blockly.Blocks.controls_for={init:function(){this.jsonInit({message0:Blockly.Msg.CONTROLS_FOR_TITLE,args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:Blockly.CAT_CONTROL_RGB,helpUrl:Blockly.Msg.CONTROLS_FOR_HELPURL}),this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_FOR_INPUT_DO);var e=this;this.setTooltip(function(){return Blockly.Msg.CONTROLS_FOR_TOOLTIP.replace("%1",e.getFieldValue("VAR"))})},customContextMenu:function(e){if(!this.isCollapsed()){var t={enabled:!0},o=this.getFieldValue("VAR");t.text=Blockly.Msg.VARIABLES_SET_CREATE_GET.replace("%1",o),o=goog.dom.createDom("field",null,o),o.setAttribute("name","VAR"),o=goog.dom.createDom("block",null,o),o.setAttribute("type","variables_get"),t.callback=Blockly.ContextMenu.callbackFactory(this,o),e.push(t)}}},Blockly.Blocks.controls_forEach={init:function(){this.jsonInit({message0:Blockly.Msg.CONTROLS_FOREACH_TITLE,args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],previousStatement:null,nextStatement:null,colour:Blockly.CAT_CONTROL_RGB,helpUrl:Blockly.Msg.CONTROLS_FOREACH_HELPURL}),this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_FOREACH_INPUT_DO);var e=this;this.setTooltip(function(){return Blockly.Msg.CONTROLS_FOREACH_TOOLTIP.replace("%1",e.getFieldValue("VAR"))})},customContextMenu:Blockly.Blocks.controls_for.customContextMenu},Blockly.Blocks.controls_flow_statements={init:function(){var e=[[Blockly.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK,"BREAK"],[Blockly.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE,"CONTINUE"]];this.setHelpUrl(Blockly.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL),this.setColour(Blockly.CAT_CONTROL_RGB),this.appendDummyInput().appendField(new Blockly.FieldDropdown(e),"FLOW"),this.setPreviousStatement(!0);var t=this;this.setTooltip(function(){var e=t.getFieldValue("FLOW");return{BREAK:Blockly.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK,CONTINUE:Blockly.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}[e]})},onchange:function(e){e=!1;var t=this;do{if(-1!=this.LOOP_TYPES.indexOf(t.type)){e=!0;break}t=t.getSurroundParent()}while(t);e?this.setWarningText(null):this.setWarningText(Blockly.Msg.CONTROLS_FLOW_STATEMENTS_WARNING)},LOOP_TYPES:"controls_repeat controls_repeat_ext controls_forEach controls_for controls_whileUntil unityControls_forEach unityControls_for unityControls_loopForever".split(" ")},Blockly.Blocks.unityControls_for={init:function(){this.jsonInit({message0:Blockly.Msg.CONTROLS_FOR_TITLE,args0:[{type:"field_input",name:"VAR"},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:Blockly.CAT_CONTROL_RGB,helpUrl:Blockly.Msg.CONTROLS_FOR_HELPURL}),this.nameOld="i",this.getField("VAR").setText("i"),this.getField("VAR").setValidator(this.validateName),this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_FOR_INPUT_DO),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setInputsInline(!0),this.declarationType_="Number",this.setTooltip(function(){return Blockly.Msg.CONTROLS_FOR_TOOLTIP.replace("%1",thisBlock.getFieldValue("VAR"))})},validate:function(){if(!Blockly.Variables.isLegalName(this.getFieldValue("VAR"),this)){var e=Blockly.Variables.generateUniqueName(Blockly.getMainWorkspace());this.setFieldValue(e,"VAR")}},validateName:function(e){var t=this.sourceBlock_;return e=e.replace(/[\s\xa0]+/g,"").replace(/^ | $/g,""),""!==e&&e.match(/^[a-zA-Z][a-zA-Z_$0-9]*$/)&&Blockly.Variables.isLegalName(e,t)?(Blockly.Variables.renameVariable(t.nameOld,e,Blockly.getMainWorkspace()),t.nameOld=e):null},getType:function(){return this.declarationType_},getVars:function(){return[this.getFieldValue("VAR")]},getVarDecl:function(){return[this.getFieldValue("VAR")]},customContextMenu:function(e){if(!this.isCollapsed()){var t={enabled:!0},o=this.getFieldValue("VAR");t.text=Blockly.Msg.VARIABLES_SET_CREATE_GET.replace("%1",o),o=goog.dom.createDom("field",null,o),o.setAttribute("name","VAR"),o=goog.dom.createDom("block",null,o),o.setAttribute("type","variables_get"),o.setAttribute("intask",!1);var n=goog.dom.createDom("mutation");o.appendChild(n),t.callback=Blockly.ContextMenu.callbackFactory(this,o),e.push(t)}}},Blockly.Blocks.unityControls_forEach={init:function(){this.jsonInit({message0:Blockly.Msg.CONTROLS_FOREACH_TITLE,args0:[{type:"field_input",name:"VAR"},{type:"input_value",name:"LIST",check:["Array_Number","Array_String","Array_Boolean","Array_Colour","Array_Connection"]}],previousStatement:null,nextStatement:null,colour:Blockly.CAT_CONTROL_RGB,helpUrl:Blockly.Msg.CONTROLS_FOREACH_HELPURL}),this.nameOld=Blockly.Msg.VARIABLES_TITLE,this.getField("VAR").setText(Blockly.Msg.VARIABLES_DEFAULT_NAME),this.getField("VAR").setValidator(this.validateName);var e=new Blockly.FieldDropdown([[Blockly.Msg.VARIABLES_TYPE_NUMBER,"Number"],[Blockly.Msg.VARIABLES_TYPE_STRING,"String"],[Blockly.Msg.VARIABLES_TYPE_BOOLEAN,"Boolean"],[Blockly.Msg.VARIABLES_TYPE_COLOUR,"Colour"],[Blockly.Msg.VARIABLES_TYPE_CONNECTION,"Connection"]],function(e){e&&this.sourceBlock_.getFieldValue("TYPE")!==e&&this.sourceBlock_.updateType(e)});this.getInput("LIST").appendField(e,"TYPE"),e=this.getInput("LIST").fieldRow.pop(),this.getInput("LIST").fieldRow.splice(1,0,e),this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_FOREACH_INPUT_DO);var t=this;this.listType_="Number",this.setTooltip(function(){return Blockly.Msg.CONTROLS_FOREACH_TOOLTIP.replace("%1",t.getFieldValue("VAR"))})},validate:function(){var e=Blockly.Variables.findLegalName(this.getFieldValue("VAR"),this);this.setFieldValue(e,"VAR")},validateName:Blockly.Blocks.unityControls_for.validateName,mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("list_type",this.listType_),e},domToMutation:function(e){(this.listType_=e.getAttribute("list_type"))&&this.getInput("LIST").connection.setCheck("Array_"+this.listType_)},getVars:function(){return[this.getFieldValue("VAR")]},getVarDecl:function(){return[this.getFieldValue("VAR")]},getType:function(){return this.listType_},onchange:function(){if(this.workspace&&2!=Blockly.Block.dragMode_){var e=this.getInputTargetBlock("LIST");e&&(e=e.outputConnection.check_[0],Blockly.Variables.updateType(this.getFieldValue("VAR"),e.replace("Array_","")))}},updateType:function(e){this.listType_=e,this.getInput("LIST").connection.setCheck("Array_"+this.listType_),Blockly.Variables.updateType(this.getFieldValue("VAR"),e)},customContextMenu:Blockly.Blocks.unityControls_for.customContextMenu},Blockly.Blocks.math={},Blockly.Blocks.math.HUE=230,Blockly.Blocks.math_number={init:function(){this.setHelpUrl(Blockly.Msg.MATH_NUMBER_HELPURL),this.setColour(Blockly.CAT_MATH_RGB),this.appendDummyInput().appendField(new Blockly.FieldNumber("0",Blockly.FieldTextInput.numberValidator),"NUM"),this.setOutput(!0,"Number");var e=this;this.setTooltip(function(){var t=e.getParent();return t&&t.getInputsInline()&&t.tooltip||Blockly.Msg.MATH_NUMBER_TOOLTIP})}},Blockly.Blocks.math_arithmetic={init:function(){this.jsonInit({message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[[Blockly.Msg.MATH_ADDITION_SYMBOL,"ADD"],[Blockly.Msg.MATH_SUBTRACTION_SYMBOL,"MINUS"],[Blockly.Msg.MATH_MULTIPLICATION_SYMBOL,"MULTIPLY"],[Blockly.Msg.MATH_DIVISION_SYMBOL,"DIVIDE"],[Blockly.Msg.MATH_POWER_SYMBOL,"POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:Blockly.CAT_MATH_RGB,helpUrl:Blockly.Msg.MATH_ARITHMETIC_HELPURL});var e=this;this.setTooltip(function(){var t=e.getFieldValue("OP");return{ADD:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_ADD,MINUS:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS,MULTIPLY:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY,DIVIDE:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE,POWER:Blockly.Msg.MATH_ARITHMETIC_TOOLTIP_POWER}[t]})}},Blockly.Blocks.math_single={init:function(){this.jsonInit({message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[[Blockly.Msg.MATH_SINGLE_OP_ROOT,"ROOT"],[Blockly.Msg.MATH_SINGLE_OP_ABSOLUTE,"ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]
},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:Blockly.CAT_MATH_RGB,helpUrl:Blockly.Msg.MATH_SINGLE_HELPURL});var e=this;this.setTooltip(function(){var t=e.getFieldValue("OP");return{ROOT:Blockly.Msg.MATH_SINGLE_TOOLTIP_ROOT,ABS:Blockly.Msg.MATH_SINGLE_TOOLTIP_ABS,NEG:Blockly.Msg.MATH_SINGLE_TOOLTIP_NEG,LN:Blockly.Msg.MATH_SINGLE_TOOLTIP_LN,LOG10:Blockly.Msg.MATH_SINGLE_TOOLTIP_LOG10,EXP:Blockly.Msg.MATH_SINGLE_TOOLTIP_EXP,POW10:Blockly.Msg.MATH_SINGLE_TOOLTIP_POW10}[t]})}},Blockly.Blocks.math_trig={init:function(){this.jsonInit({message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[[Blockly.Msg.MATH_TRIG_SIN,"SIN"],[Blockly.Msg.MATH_TRIG_COS,"COS"],[Blockly.Msg.MATH_TRIG_TAN,"TAN"],[Blockly.Msg.MATH_TRIG_ASIN,"ASIN"],[Blockly.Msg.MATH_TRIG_ACOS,"ACOS"],[Blockly.Msg.MATH_TRIG_ATAN,"ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:Blockly.CAT_MATH_RGB,helpUrl:Blockly.Msg.MATH_TRIG_HELPURL});var e=this;this.setTooltip(function(){var t=e.getFieldValue("OP");return{SIN:Blockly.Msg.MATH_TRIG_TOOLTIP_SIN,COS:Blockly.Msg.MATH_TRIG_TOOLTIP_COS,TAN:Blockly.Msg.MATH_TRIG_TOOLTIP_TAN,ASIN:Blockly.Msg.MATH_TRIG_TOOLTIP_ASIN,ACOS:Blockly.Msg.MATH_TRIG_TOOLTIP_ACOS,ATAN:Blockly.Msg.MATH_TRIG_TOOLTIP_ATAN}[t]})}},Blockly.Blocks.math_constant={init:function(){this.jsonInit({message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["π","PI"],["e","E"],["φ","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(½)","SQRT1_2"],["∞","INFINITY"]]}],output:"Number",colour:Blockly.CAT_MATH_RGB,tooltip:Blockly.Msg.MATH_CONSTANT_TOOLTIP,helpUrl:Blockly.Msg.MATH_CONSTANT_HELPURL})}},Blockly.Blocks.math_number_property={init:function(){var e=[[Blockly.Msg.MATH_IS_EVEN,"EVEN"],[Blockly.Msg.MATH_IS_ODD,"ODD"],[Blockly.Msg.MATH_IS_PRIME,"PRIME"],[Blockly.Msg.MATH_IS_WHOLE,"WHOLE"],[Blockly.Msg.MATH_IS_POSITIVE,"POSITIVE"],[Blockly.Msg.MATH_IS_NEGATIVE,"NEGATIVE"],[Blockly.Msg.MATH_IS_DIVISIBLE_BY,"DIVISIBLE_BY"]];this.setColour(Blockly.CAT_MATH_RGB),this.appendValueInput("NUMBER_TO_CHECK").setCheck("Number"),e=new Blockly.FieldDropdown(e,function(e){this.sourceBlock_.updateShape_("DIVISIBLE_BY"==e)}),this.appendDummyInput().appendField(e,"PROPERTY"),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setTooltip(Blockly.Msg.MATH_IS_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation"),t="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");return e.setAttribute("divisor_input",t),e},domToMutation:function(e){e="true"==e.getAttribute("divisor_input"),this.updateShape_(e)},updateShape_:function(e){var t=this.getInput("DIVISOR");e?t||this.appendValueInput("DIVISOR").setCheck("Number"):t&&this.removeInput("DIVISOR")}},Blockly.Blocks.math_change={init:function(){this.jsonInit({message0:Blockly.Msg.MATH_CHANGE_TITLE,args0:[{type:"field_variable",name:"VAR",variable:Blockly.Msg.MATH_CHANGE_TITLE_ITEM},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,colour:Blockly.CAT_MATH_RGB,helpUrl:Blockly.Msg.MATH_CHANGE_HELPURL});var e=this;this.setTooltip(function(){return Blockly.Msg.MATH_CHANGE_TOOLTIP.replace("%1",e.getFieldValue("VAR"))})}},Blockly.Blocks.math_round={init:function(){this.jsonInit({message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[[Blockly.Msg.MATH_ROUND_OPERATOR_ROUND,"ROUND"],[Blockly.Msg.MATH_ROUND_OPERATOR_ROUNDUP,"ROUNDUP"],[Blockly.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN,"ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:Blockly.CAT_MATH_RGB,tooltip:Blockly.Msg.MATH_ROUND_TOOLTIP,helpUrl:Blockly.Msg.MATH_ROUND_HELPURL})}},Blockly.Blocks.math_on_list={init:function(){var e=[[Blockly.Msg.MATH_ONLIST_OPERATOR_SUM,"SUM"],[Blockly.Msg.MATH_ONLIST_OPERATOR_MIN,"MIN"],[Blockly.Msg.MATH_ONLIST_OPERATOR_MAX,"MAX"],[Blockly.Msg.MATH_ONLIST_OPERATOR_AVERAGE,"AVERAGE"],[Blockly.Msg.MATH_ONLIST_OPERATOR_MEDIAN,"MEDIAN"],[Blockly.Msg.MATH_ONLIST_OPERATOR_STD_DEV,"STD_DEV"],[Blockly.Msg.MATH_ONLIST_OPERATOR_RANDOM,"RANDOM"]],t=this;this.setHelpUrl(Blockly.Msg.MATH_ONLIST_HELPURL),this.setColour(Blockly.CAT_MATH_RGB),this.setOutput(!0,"Number"),e=new Blockly.FieldDropdown(e,function(e){t.updateType_(e)}),this.appendValueInput("LIST").setCheck("Array_Number").appendField(e,"OP"),this.setTooltip(function(){var e=t.getFieldValue("OP");return{SUM:Blockly.Msg.MATH_ONLIST_TOOLTIP_SUM,MIN:Blockly.Msg.MATH_ONLIST_TOOLTIP_MIN,MAX:Blockly.Msg.MATH_ONLIST_TOOLTIP_MAX,AVERAGE:Blockly.Msg.MATH_ONLIST_TOOLTIP_AVERAGE,MEDIAN:Blockly.Msg.MATH_ONLIST_TOOLTIP_MEDIAN,MODE:Blockly.Msg.MATH_ONLIST_TOOLTIP_MODE,STD_DEV:Blockly.Msg.MATH_ONLIST_TOOLTIP_STD_DEV,RANDOM:Blockly.Msg.MATH_ONLIST_TOOLTIP_RANDOM}[e]})},updateType_:function(e){"MODE"==e?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("op",this.getFieldValue("OP")),e},domToMutation:function(e){this.updateType_(e.getAttribute("op"))}},Blockly.Blocks.math_modulo={init:function(){this.jsonInit({message0:Blockly.Msg.MATH_MODULO_TITLE,args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",colour:Blockly.CAT_MATH_RGB,tooltip:Blockly.Msg.MATH_MODULO_TOOLTIP,helpUrl:Blockly.Msg.MATH_MODULO_HELPURL})}},Blockly.Blocks.math_constrain={init:function(){this.jsonInit({message0:Blockly.Msg.MATH_CONSTRAIN_TITLE,args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",colour:Blockly.CAT_MATH_RGB,tooltip:Blockly.Msg.MATH_CONSTRAIN_TOOLTIP,helpUrl:Blockly.Msg.MATH_CONSTRAIN_HELPURL})}},Blockly.Blocks.math_random_int={init:function(){this.jsonInit({message0:Blockly.Msg.MATH_RANDOM_INT_TITLE,args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",colour:Blockly.CAT_MATH_RGB,tooltip:Blockly.Msg.MATH_RANDOM_INT_TOOLTIP,helpUrl:Blockly.Msg.MATH_RANDOM_INT_HELPURL})}},Blockly.Blocks.math_random_float={init:function(){this.jsonInit({message0:Blockly.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM,output:"Number",colour:Blockly.CAT_MATH_RGB,tooltip:Blockly.Msg.MATH_RANDOM_FLOAT_TOOLTIP,helpUrl:Blockly.Msg.MATH_RANDOM_FLOAT_HELPURL})}},Blockly.Blocks.robMath_change={init:function(){this.jsonInit({message0:Blockly.Msg.MATH_CHANGE_TITLE,args0:[{type:"input_value",name:"VAR",check:"Number"},{type:"input_value",name:"DELTA",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:Blockly.CAT_MATH_RGB,helpUrl:Blockly.Msg.MATH_CHANGE_HELPURL});var e=this;this.setTooltip(function(){return Blockly.Msg.MATH_CHANGE_TOOLTIP.replace("%1",e.getFieldValue("VAR"))})},onchange:function(){if(this.workspace&&2!=Blockly.Block.dragMode_){var e=this.getInputTargetBlock("VAR");e&&"variables_get"!==e.type&&(e.unplug(),e.bumpNeighbours_())}}},Blockly.Blocks.mbedActions={},Blockly.Blocks.mbedActions_motor_on={init:function(){var e=[[Blockly.Msg.MOTOR_PORT+" A","A"],[Blockly.Msg.MOTOR_PORT+" B","B"],[Blockly.Msg.MOTOR_PORT+" A + B","AB"]];this.setColour(Blockly.CAT_ACTION_RGB),e=new Blockly.FieldDropdown(e),this.appendValueInput("POWER").appendField(e,"MOTORPORT").appendField(Blockly.Msg.ON).appendField(Blockly.Msg.MOTOR_SPEED).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.MOTOR_ON_TOOLTIP)}},Blockly.Blocks.mbedActions_motor_stop={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_PORT+" A","A"],[Blockly.Msg.MOTOR_PORT+" B","B"],[Blockly.Msg.MOTOR_PORT+" A + B","AB"]]),t=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_FLOAT,"FLOAT"],[Blockly.Msg.MOTOR_BRAKE,"NONFLOAT"]]);this.appendDummyInput().appendField(Blockly.Msg.MOTOR_STOP).appendField(e,"MOTORPORT").appendField(t,"MODE"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.MOTOR_STOP_TOOLTIP)}},Blockly.Blocks.mbedActions_display_text={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendValueInput("OUT").appendField(Blockly.Msg.DISPLAY_SHOW+" "+Blockly.Msg.DISPLAY_TEXT).setCheck(["Number","Boolean","String","Colour"]),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.DISPLAY_TEXT_TOOLTIP)}},Blockly.Blocks.mbedActions_display_image={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.DISPLAY_IMAGE,"IMAGE"],[Blockly.Msg.DISPLAY_ANIMATION,"ANIMATION"]],function(e){e&&this.sourceBlock_.updateShape_(e)});this.appendValueInput("VALUE").appendField(Blockly.Msg.DISPLAY_SHOW).appendField(e,"TYPE").setCheck("Image"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.DISPLAY_PICTURE_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("type",this.getFieldValue("TYPE")),e},domToMutation:function(e){this.updateShape_(e.getAttribute("type"))},updateShape_:function(e){this.workspace&&2!=Blockly.Block.dragMode_&&("IMAGE"===e?this.getInput("VALUE").setCheck("Image"):this.getInput("VALUE").setCheck("Array_Image"))}},Blockly.Blocks.mbedActions_display_clear={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendDummyInput().appendField(Blockly.Msg.DISPLAY_CLEAR),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.DISPLAY_CLEAR_TOOLTIP)}},Blockly.Blocks.mbedActions_play_tone={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendValueInput("FREQUENCE").appendField(Blockly.Msg.PLAY).appendField(Blockly.Msg.PLAY_FREQUENZ).setCheck("Number"),this.appendValueInput("DURATION").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.PLAY_DURATION),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.PLAY_TONE_TOOLTIP)}},Blockly.Blocks.mbedActions_play_note={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldNote("261.626"),t=new Blockly.FieldDropdown([[Blockly.Msg.PLAY_WHOLE,"2000"],[Blockly.Msg.PLAY_HALF,"1000"],[Blockly.Msg.PLAY_QUARTER,"500"],[Blockly.Msg.PLAY_EIGHTH,"250"],[Blockly.Msg.PLAY_SIXTEENTH,"125"]]);this.appendDummyInput().appendField(Blockly.Msg.PLAY).appendField(t,"DURATION").appendField(e,"FREQUENCE"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.PLAY_NOTE_TOOLTIP)}},Blockly.Blocks.mbedActions_play_setVolume={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendValueInput("VOLUME").appendField(Blockly.Msg.SET+" "+Blockly.Msg.PLAY_VOLUME).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.PLAY_SETVOLUME_TOOLTIP)}},Blockly.Blocks.mbedActions_play_getVolume={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendDummyInput().appendField(Blockly.Msg.GET+" "+Blockly.Msg.PLAY_VOLUME),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.PLAY_GETVOLUME_TOOLTIP)}},Blockly.Blocks.mbedActions_leds_on={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendValueInput("COLOR").appendField(Blockly.Msg.LED_ON).appendField(Blockly.Msg.BRICKLIGHT_COLOR).setCheck("Colour"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.LED_ON_TOOLTIP)}},Blockly.Blocks.mbedActions_leds_off={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendDummyInput().appendField(Blockly.Msg.LED_OFF),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.LED_OFF_TOOLTIP)}},Blockly.Blocks.mbedBrick={},Blockly.Blocks["mbedBrick_Calliope-Brick"]={init:function(){this.setColour("#BBBBBB"),this.setInputsInline(!1),this.appendDummyInput().appendField(new Blockly.FieldLabel("Calliope","brick_label")),this.appendValueInput("PP").appendField("+").setAlign(Blockly.ALIGN_RIGHT).setCheck("Port"),this.appendValueInput("PM").appendField("-").setAlign(Blockly.ALIGN_RIGHT).setCheck("Port"),this.appendValueInput("P0").appendField("0").setAlign(Blockly.ALIGN_RIGHT).setCheck("Port"),this.appendValueInput("P1").appendField("1").setAlign(Blockly.ALIGN_RIGHT).setCheck("Port"),this.appendValueInput("P2").appendField("2").setAlign(Blockly.ALIGN_RIGHT).setCheck("Port"),this.appendValueInput("P3").appendField("3").setAlign(Blockly.ALIGN_RIGHT).setCheck("Port"),this.setTooltip(Blockly.Msg.CALLIOPEBRICK_TOOLTIP)}},Blockly.Blocks["mbedBrick_microbit-Brick"]={init:function(){this.setColour("#BBBBBB"),this.setInputsInline(!1),this.appendDummyInput().appendField(new Blockly.FieldLabel("micro:bit","brick_label")),this.appendValueInput("PP").appendField("+").setAlign(Blockly.ALIGN_RIGHT).setCheck("Port"),this.appendValueInput("PM").appendField("-").setAlign(Blockly.ALIGN_RIGHT).setCheck("Port"),this.appendValueInput("P0").appendField("0").setAlign(Blockly.ALIGN_RIGHT).setCheck("Port"),this.appendValueInput("P1").appendField("1").setAlign(Blockly.ALIGN_RIGHT).setCheck("Port"),this.appendValueInput("P2").appendField("2").setAlign(Blockly.ALIGN_RIGHT).setCheck("Port"),this.setTooltip(Blockly.Msg.MICROBITBRICK_TOOLTIP)}},Blockly.Blocks.mbedColour={},Blockly.Blocks.mbedColour.HUE=20,Blockly.Blocks.mbedColour_picker={init:function(){this.jsonInit({message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",colour:Blockly.CAT_COLOUR_RGB,helpUrl:Blockly.Msg.mbedColour_PICKER_HELPURL});var e=this;this.setTooltip(function(){var t=e.getParent();return t&&t.getInputsInline()&&t.tooltip||Blockly.Msg.mbedColour_PICKER_TOOLTIP})}},Blockly.Blocks.mbedColour_rgb={init:function(){this.setColour(Blockly.CAT_COLOUR_RGB),this.appendValueInput("RED").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.COLOUR_RGB_TITLE).appendField(Blockly.Msg.COLOUR_RGB_RED),this.appendValueInput("GREEN").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.COLOUR_RGB_GREEN),this.appendValueInput("BLUE").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.COLOUR_RGB_BLUE),this.setOutput(!0,"Colour"),this.setTooltip(Blockly.Msg.COLOUR_RGB_TOOLTIP)}},Blockly.Blocks.mbedCommunication={},Blockly.Blocks.mbedCommunication_sendBlock={init:function(){this.setColour(Blockly.CAT_COMMUNICATION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.VARIABLES_TYPE_STRING,"String"]],function(e){e&&this.sourceBlock_.getFieldValue("TYPE")!==e&&this.sourceBlock_.updateType_(e)});this.dataType_="String",this.appendValueInput("sendData").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.CONNECTION_SEND_DATA).appendField(e,"TYPE").setCheck(this.dataType_),this.setTooltip(Blockly.Msg.CONNECTION_SEND_TOOLTIP),this.setPreviousStatement(!0),this.setNextStatement(!0)},mutationToDom:function(){if(void 0===this.dataType_)return!1;var e=document.createElement("mutation");return e.setAttribute("datatype",this.dataType_),e},domToMutation:function(e){(this.dataType_=e.getAttribute("datatype"))&&this.getInput("sendData").setCheck(this.dataType_)},updateType_:function(e){this.dataType_=e,this.getInput("sendData").setCheck(this.dataType_)}},Blockly.Blocks.mbedCommunication_receiveBlock={init:function(){this.setColour(Blockly.CAT_COMMUNICATION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.VARIABLES_TYPE_STRING,"String"]],function(e){e&&this.sourceBlock_.getFieldValue("TYPE")!==e&&this.sourceBlock_.updateType_(e)});this.dataType_="String",this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.CONNECTION_RECEIVED_DATA).appendField(e,"TYPE"),this.setOutput(!0,this.dataType_),this.setTooltip(Blockly.Msg.CONNECTION_RECEIVE_TOOLTIP),this.setInputsInline(!1)},mutationToDom:function(){if(void 0===this.dataType_)return!1;var e=document.createElement("mutation");return e.setAttribute("datatype",this.dataType_),e},domToMutation:function(e){(this.dataType_=e.getAttribute("datatype"))&&this.setOutput(!0,this.dataType_)},updateType_:function(e){this.dataType_=e,this.setOutput(!0,this.dataType_)}},Blockly.Blocks.mbedControls={},Blockly.Blocks.mbedControls_start={init:function(){this.setColour(Blockly.CAT_ACTIVITY_RGB),this.appendDummyInput().appendField(Blockly.Msg.START_PROGRAM),this.declare_=!1,this.setPreviousStatement(!1),this.setNextStatement(!0),this.setDeletable(!1),this.setMutatorPlus(new Blockly.MutatorPlus(["mbedControls_start"])),this.setTooltip(Blockly.Msg.START_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("declare",1==this.declare_),e},domToMutation:function(e){(this.declare_="false"!=e.getAttribute("declare"))&&(this.appendStatementInput("ST"),this.getInput("ST").connection.setCheck("declaration_only"))},updateShape_:function(e){if(1==e){this.declare_||(this.appendStatementInput("ST"),this.getInput("ST").connection.setCheck("declaration_only"),this.declare_=!0),e=this.workspace.newBlock("robGlobalVariables_declare"),e.initSvg(),e.render();var t=e.getInput("VALUE"),o=this.workspace.newBlock("math_number");if(o.initSvg(),o.render(),t.connection.connect(o.outputConnection),this.getInput("ST").connection.targetConnection){if(o=this.getInput("ST").connection.targetConnection.sourceBlock_)for(;o.getNextBlock();)o=o.getNextBlock();o.setNext(!0),t=o.nextConnection}else t=this.getInput("ST").connection;t.connect(e.previousConnection)}else-1==e&&(this.removeInput("ST"),this.declare_=!1)}},Blockly.Blocks.mbedControls_wait_for={init:function(){this.setColour(Blockly.CAT_CONTROL_RGB),this.appendValueInput("WAIT0").appendField(Blockly.Msg.WAIT_UNTIL).setCheck("Boolean"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.waitCount_=0,this.setMutatorPlus(new Blockly.MutatorPlus(this)),this.setTooltip(Blockly.Msg.WAIT_FOR_TOOLTIP)},mutationToDom:function(){if(!this.waitCount_)return null;var e=document.createElement("mutation");return this.waitCount_&&e.setAttribute("wait",this.waitCount_),e},domToMutation:function(e){for(this.waitCount_=parseInt(e.getAttribute("wait"),10),e=1;e<=this.waitCount_;e++)1==e&&this.appendStatementInput("DO0").appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO),this.appendValueInput("WAIT"+e).appendField(Blockly.Msg.WAIT_OR).setCheck("Boolean"),this.appendStatementInput("DO"+e).appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO);1<=this.waitCount_&&this.setMutatorMinus(new Blockly.MutatorMinus(this))},updateShape_:function(e){if(Blockly.dragMode_=Blockly.DRAG_NONE,1==e){this.waitCount_++,1==this.waitCount_&&this.appendStatementInput("DO0").appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO),this.appendValueInput("WAIT"+this.waitCount_).appendField(Blockly.Msg.WAIT_OR).setCheck("Boolean"),this.appendStatementInput("DO"+this.waitCount_).appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO),e=this.workspace.newBlock("logic_compare"),e.initSvg(),e.render(),e.updateShape("BOOL");var t=this.getInput("WAIT"+this.waitCount_).connection;t.connect(e.outputConnection);var o=this.workspace.newBlock("mbedSensors_getSample");o.initSvg(),o.render(),t=e.getInput("A").connection,t.connect(o.outputConnection),o=this.workspace.newBlock("logic_boolean"),o.initSvg(),o.render(),t=e.getInput("B").connection,t.connect(o.outputConnection)}else-1==e&&((e=this.getInputTargetBlock("DO"+this.waitCount_))&&(e.unplug(),e.bumpNeighbours_()),(e=this.getInputTargetBlock("WAIT"+this.waitCount_))&&(e.unplug(),e.bumpNeighbours_()),this.removeInput("DO"+this.waitCount_),this.removeInput("WAIT"+this.waitCount_),this.waitCount_--,0==this.waitCount_&&this.removeInput("DO0"));1<=this.waitCount_?1==this.waitCount_&&(this.setMutatorMinus(new Blockly.MutatorMinus(this)),this.render()):(this.mutatorMinus.dispose(),this.mutatorMinus=null,this.render())}},Blockly.Blocks.mbedImage={},Blockly.Blocks.mbedImage_image={init:function(){this.setColour(Blockly.CAT_IMAGE_RGB),this.appendDummyInput().appendField("    0      1      2      3      4"),this.appendDummyInput().appendField("0").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P00").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P10").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P20").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P30").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P40"),this.appendDummyInput().appendField("1").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P01").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P11").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P21").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P31").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P41"),this.appendDummyInput().appendField("2").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P02").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P12").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P22").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P32").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P42"),this.appendDummyInput().appendField("3").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P03").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P13").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P23").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P33").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P43"),this.appendDummyInput().appendField("4").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P04").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P14").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P24").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P34").appendField(" ").appendField(new Blockly.FieldTextInput("  ",this.validate_),"P44"),this.setOutput(!0,"Image"),this.setTooltip(Blockly.Msg.IMAGE_TOOLTIP)},validate_:function(e){return Blockly.FieldTextInput.htmlInput_?e==Blockly.FieldTextInput.htmlInput_.value?"  "==e?Blockly.FieldTextInput.htmlInput_.value="#":"#"==e?Blockly.FieldTextInput.htmlInput_.value="  ":e.match(/^[1-8]$/)?Blockly.FieldTextInput.htmlInput_.value=e:" "==e||"0"==e?Blockly.FieldTextInput.htmlInput_.value="  ":"  "==e.substring(0,2)?(Blockly.FieldTextInput.htmlInput_.value=e.substr(2),e.substr(2)):"#"==e.substring(0,1)?(Blockly.FieldTextInput.htmlInput_.value=e.substr(1),e.substr(1)):e.match(/^[1-8]$/)?Blockly.FieldTextInput.htmlInput_.value="  ":Blockly.FieldTextInput.htmlInput_.value="#":(Blockly.FieldTextInput.htmlInput_.value="",e):e}},Blockly.Blocks.mbedImage_shift={init:function(){this.jsonInit({message0:"shift %1 %2 %3",args0:[{type:"input_value",name:"A",check:"Image"},{type:"field_dropdown",name:"OP",options:[["up","UP"],["down","DOWN"],["right","RIGHT"],["left","LEFT"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Image",colour:Blockly.CAT_IMAGE_RGB,tooltip:Blockly.Msg.IMAGE_SHIFT_TOOLTIP})}},Blockly.Blocks.mbedImage_invert={init:function(){this.jsonInit({message0:"invert %1",args0:[{type:"input_value",name:"VAR",check:"Image"}],output:"Image",colour:Blockly.CAT_IMAGE_RGB,tooltip:Blockly.Msg.IMAGE_INVERT_TOOLTIP})}},Blockly.Blocks.mbedImage_get_image={init:function(){var e=new Blockly.FieldDropdownImage([["heart","HEART"],["heart small","HEART_SMALL"],["smile","SMILE"],["confused","CONFUSED"],["angry","ANGRY"],["asleep","ASLEEP"],["surprised","SURPRISED"],["silly","SILLY"],["fabulous","FABULOUS"],["meh!","MEH"],["yes","YES"],["no","NO"],["triangle","TRIANGLE"],["triangle left","TRIANGLE_LEFT"],["chessboard","CHESSBOARD"],["diamond","DIAMOND"],["diamond small","DIAMOND_SMALL"],["square","SQUARE"],["square small","SQUARE_SMALL"],["rabbit","RABBIT"],["cow","COW"],["music crotchet","MUSIC_CROTCHET"],["music quaver","MUSIC_QUAVER"],["music quavers","MUSIC_QUAVERS"],["pitchfork","PITCHFORK"],["xmas","XMAS"],["pacman","PACMAN"],["target","TARGET"],["T-shirt","TSHIRT"],["rollerskate","ROLLERSKATE"],["duck","DUCK"],["house","HOUSE"],["tortoise","TORTOISE"],["butterfly","BUTTERFLY"],["stickfigure","STICKFIGURE"],["ghost","GHOST"],["sword","SWORD"],["giraffe","GIRAFFE"],["skull","SKULL"],["umbrella","UMBRELLA"],["snake","SNAKE"],["sad","SAD"]],"/dropDowns/",24,24,"png");this.setColour(Blockly.CAT_IMAGE_RGB),this.appendDummyInput().appendField(e,"IMAGE"),this.setOutput(!0,"Image");var t=this;this.setTooltip(function(){var e=t.getFieldValue("IMAGE");return{HEART:Blockly.Msg.IMAGE_GET_TOOLTIP_HEART,HEART_SMALL:Blockly.Msg.IMAGE_GET_TOOLTIP_HEART_SMALL,SMILE:Blockly.Msg.IMAGE_GET_TOOLTIP_SMILE,CONFUSED:Blockly.Msg.IMAGE_GET_TOOLTIP_CONFUSED,ANGRY:Blockly.Msg.IMAGE_GET_TOOLTIP_ANGRY,ASLEEP:Blockly.Msg.IMAGE_GET_TOOLTIP_ASLEEP,SILLY:Blockly.Msg.IMAGE_GET_TOOLTIP_SILLY,FABULOUS:Blockly.Msg.IMAGE_GET_TOOLTIP_FABULOUS,MEH:Blockly.Msg.IMAGE_GET_TOOLTIP_MEH,YES:Blockly.Msg.IMAGE_GET_TOOLTIP_YES,NO:Blockly.Msg.IMAGE_GET_TOOLTIP_NO,TRIANGLE:Blockly.Msg.IMAGE_GET_TOOLTIP_TRIANGLE,TRIANGLE_LEFT:Blockly.Msg.IMAGE_GET_TOOLTIP_TRIANGLE_LEFT,CHESSBOARD:Blockly.Msg.IMAGE_GET_TOOLTIP_CHESSBOARD,DIAMOND:Blockly.Msg.IMAGE_GET_TOOLTIP_DIAMOND,DIAMOND_SMALL:Blockly.Msg.IMAGE_GET_TOOLTIP_DIAMOND_SMALL,SQUARE:Blockly.Msg.IMAGE_GET_TOOLTIP_SQUARE,SQUARE_SMALL:Blockly.Msg.IMAGE_GET_TOOLTIP_SQUARE_SMALL,RABBIT:Blockly.Msg.IMAGE_GET_TOOLTIP_RABBIT,COW:Blockly.Msg.IMAGE_GET_TOOLTIP_COW,MUSIC_CROTCHET:Blockly.Msg.IMAGE_GET_TOOLTIP_MUSIC_CROTCHET,MUSIC_QUAVER:Blockly.Msg.IMAGE_GET_TOOLTIP_MUSIC_QUAVER,MUSIC_QUAVERS:Blockly.Msg.IMAGE_GET_TOOLTIP_MUSIC_QUAVERS,PITCHFORK:Blockly.Msg.IMAGE_GET_TOOLTIP_PITCHFORK,XMAS:Blockly.Msg.IMAGE_GET_TOOLTIP_XMAS,PACMAN:Blockly.Msg.IMAGE_GET_TOOLTIP_PACMAN,TARGET:Blockly.Msg.IMAGE_GET_TOOLTIP_TARGET,TSHIRT:Blockly.Msg.IMAGE_GET_TOOLTIP_TSHIRT,ROLLERSKATE:Blockly.Msg.IMAGE_GET_TOOLTIP_ROLLERSKATE,DUCK:Blockly.Msg.IMAGE_GET_TOOLTIP_DUCK,HOUSE:Blockly.Msg.IMAGE_GET_TOOLTIP_HOUSE,TORTOISE:Blockly.Msg.IMAGE_GET_TOOLTIP_TORTOISE,BUTTERFLY:Blockly.Msg.IMAGE_GET_TOOLTIP_BUTTERFLY,STICKFIGURE:Blockly.Msg.IMAGE_GET_TOOLTIP_STICKFIGURE,GHOST:Blockly.Msg.IMAGE_GET_TOOLTIP_GHOST,SWORD:Blockly.Msg.IMAGE_GET_TOOLTIP_SWORD,GIRAFFE:Blockly.Msg.IMAGE_GET_TOOLTIP_GIRAFFE,SKULL:Blockly.Msg.IMAGE_GET_TOOLTIP_SKULL,UMBRELLA:Blockly.Msg.IMAGE_GET_TOOLTIP_UMBRELLA,SNAKE:Blockly.Msg.IMAGE_GET_TOOLTIP_SNAKE,SAD:Blockly.Msg.IMAGE_GET_TOOLTIP_SAD}[e]})}},Blockly.Blocks.mbedSensors={},Blockly.Blocks.mbedSensors_getSample={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([["A","A"],["B","B"]]),t=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_KEY+" "+Blockly.Msg.SENSOR_PRESSED,"KEYS_PRESSED"],[Blockly.Msg.SENSOR_GESTURE,"GESTURE_ACTIVE"],[Blockly.Msg.SENSOR_COMPASS,"COMPASS_ANGLE"],[Blockly.Msg.SENSOR_TIME,"TIME"],[Blockly.Msg.SENSOR_TEMPERATURE,"TEMPERATURE"],[Blockly.Msg.MODE_AMBIENTLIGHT,"LIGHT_LEVEL"]],function(e){e&&this.sourceBlock_.getFieldValue("SENSORTYPE")!==e&&this.sourceBlock_.updateShape_(e)});this.data="calliope"===this.workspace.device?"calliope":"microbit",this.appendDummyInput("DROPDOWN").appendField(Blockly.Msg.GET,"GET").appendField(t,"SENSORTYPE").appendField(e,"KEY"),this.setOutput(!0,"Boolean"),this.sensorType_="KEYS_PRESSED",this.setTooltip(Blockly.Msg.GETSAMPLE_TOOLTIP),this.setMovable(!1),this.setDeletable(!1)},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("input",this.sensorType_),e},domToMutation:function(e){this.sensorType_=e.getAttribute("input"),this.updateShape_(this.sensorType_)},updateShape_:function(e){this.sensorType_=e,e=new Blockly.FieldDropdown([["A","A"],["B","B"]]);for(var t,o=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_GESTURE_UP,"UP"],[Blockly.Msg.SENSOR_GESTURE_DOWN,"DOWN"],[Blockly.Msg.SENSOR_GESTURE_FACE_UP,"FACE_UP"],[Blockly.Msg.SENSOR_GESTURE_FACE_DOWN,"FACE_DOWN"],[Blockly.Msg.SENSOR_GESTURE_SHAKE,"SHAKE"],[Blockly.Msg.SENSOR_GESTURE_FREEFALL,"FREEFALL"]]),n=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_TIMER+" 1","1"]]),i=this.getInput("DROPDOWN"),l=[],s=0;t=i.fieldRow[s];s++)"SENSORTYPE"!==t.name&&"GET"!==t.name&&l.push(t.name);for(s=0;s<l.length;s++)i.removeField(l[s]);"GESTURE_ACTIVE"==this.sensorType_?(i.appendField(o,"GESTURE"),this.appendValue_("BOOL"),this.setOutput(!0,"Boolean")):"COMPASS_ANGLE"==this.sensorType_?(this.appendValue_("NUM_REV",180),this.setOutput(!0,"Number")):"KEYS_PRESSED"==this.sensorType_?(i.appendField(e,"KEY"),this.appendValue_("BOOL"),this.setOutput(!0,"Boolean")):"TIME"==this.sensorType_&&(i.appendField(Blockly.Msg.SENSOR_MS_TIMER).appendField(n,"SENSORNUM"),this.appendValue_("NUM_REV",500),this.setOutput(!0,"Number")),"TEMPERATURE"==this.sensorType_&&(this.appendValue_("NUM_REV",20),this.setOutput(!0,"Number")),"LIGHT_LEVEL"==this.sensorType_&&(this.appendValue_("NUM_REV",50),this.setOutput(!0,"Number"))},appendValue_:function(e,t){t=t||30;var o=this.getParent();if(o&&"logic_compare"!=o.type&&(o=null),o){if(o.getInputTargetBlock("B")&&o.getInputTargetBlock("B").dispose(),o.updateShape(e),"NUM"==e||"NUM_REV"==e){var n=this.workspace.newBlock("math_number");n.setFieldValue(t.toString(),"NUM")}else"BOOL"==e?n=this.workspace.newBlock("logic_boolean"):(n=this.workspace.newBlock("robColour_picker"),n.setFieldValue("#b30006","COLOUR"));n.initSvg(),n.render(),o.inTask||n.setInTask(!1),o.getInput("B").connection.connect(n.outputConnection)}}},Blockly.Blocks.mbedSensors_key_isPressed={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([["A","button_a"],["B","button_b"]]);this.appendDummyInput().appendField(Blockly.Msg.SENSOR_KEY).appendField(e,"KEY").appendField(Blockly.Msg.SENSOR_IS_PRESSED),this.setOutput(!0,"Boolean"),this.setTooltip(Blockly.Msg.KEY_ISPRESSED_TOOLTIP)}},Blockly.Blocks.mbedSensors_gesture_isActive={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_GESTURE_UP,"UP"],[Blockly.Msg.SENSOR_GESTURE_DOWN,"DOWN"],[Blockly.Msg.SENSOR_GESTURE_FACE_UP,"FACE_UP"],[Blockly.Msg.SENSOR_GESTURE_FACE_DOWN,"FACE_DOWN"],[Blockly.Msg.SENSOR_GESTURE_SHAKE,"SHAKE"],[Blockly.Msg.SENSOR_GESTURE_FREEFALL,"FREEFALL"]]);this.appendDummyInput().appendField(Blockly.Msg.SENSOR_GESTURE).appendField(e,"GESTURE").appendField(Blockly.Msg.SENSOR_GESTURE_ACTIVE),this.setOutput(!0,"Boolean")}},Blockly.Blocks.mbedSensors_compass_getSample={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB),this.appendDummyInput().appendField(Blockly.Msg.SENSOR_GET_SAMPLE).appendField(Blockly.Msg.SENSOR_COMPASS),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.COMPASS_GETSAMPLE_TOOLTIP)}},Blockly.Blocks.mbedSensors_temperature_getSample={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB),this.appendDummyInput().appendField(Blockly.Msg.SENSOR_GET_SAMPLE).appendField(Blockly.Msg.SENSOR_TEMPERATURE),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.TEMPERATURE_GETSAMPLE_TOOLTIP)}},Blockly.Blocks.mbedSensors_timer_reset={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_TIMER+" 1","1"]]);this.appendDummyInput().appendField(Blockly.Msg.SENSOR_RESET).appendField(e,"SENSORNUM").appendField(Blockly.Msg.SENSOR_RESET_II),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.TIMER_RESET_TOOLTIP)}},Blockly.Blocks.mbedSensors_timer_getSample={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_TIMER+" 1","1"]]);this.appendDummyInput().appendField(Blockly.Msg.SENSOR_GET_SAMPLE).appendField(e,"SENSORNUM").appendField(Blockly.Msg.SENSOR_MS_TIMER),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.TIMER_GETSAMPLE_TOOLTIP);
}},Blockly.Blocks.mbedSensors_ambientLight_getSample={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB),this.appendDummyInput().appendField(Blockly.Msg.SENSOR_GET_SAMPLE).appendField(Blockly.Msg.MODE_AMBIENTLIGHT),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.LIGHT_GETSAMPLE_TOOLTIP)}},Blockly.Blocks.naoActions={},Blockly.Blocks.naoActions_standUp={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.setInputsInline(!0),this.appendDummyInput().appendField(Blockly.Msg.NAO_STANDUP),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_STANDUP_TOOLTIP)}},Blockly.Blocks.naoActions_sitDown={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.setInputsInline(!0),this.appendDummyInput().appendField(Blockly.Msg.NAO_SITDOWN),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_SITDOWN_TOOLTIP)}},Blockly.Blocks.naoActions_taiChi={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.setInputsInline(!0),this.appendDummyInput().appendField(Blockly.Msg.NAO_TAICHI),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_TAICHI_TOOLTIP)}},Blockly.Blocks.naoActions_wave={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.setInputsInline(!0),this.appendDummyInput().appendField(Blockly.Msg.NAO_WAVE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_WAVE_TOOLTIP)}},Blockly.Blocks.naoActions_wipeForehead={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.setInputsInline(!0),this.appendDummyInput().appendField(Blockly.Msg.NAO_WIPEFOREHEAD),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_WIPEFOREHEAD_TOOLTIP)}},Blockly.Blocks.naoActions_applyPosture={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.NAO_POSTURE_STAND,"STAND"],[Blockly.Msg.NAO_POSTURE_STANDINIT,"STANDINIT"],[Blockly.Msg.NAO_POSTURE_STANDZERO,"STANDZERO"]]);this.appendValueInput("POWER").appendField(Blockly.Msg.NAO_APPLYPOSTURE).appendField(e,"DIRECTION"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_APPLYPOSTURE_TOOLTIP)}},Blockly.Blocks.naoActions_pointAt={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.NAO_FRAME_TORSO,"0"],[Blockly.Msg.NAO_FRAME_WORLD,"1"],[Blockly.Msg.NAO_FRAME_ROBOT,"2"]]);this.appendDummyInput().appendField(Blockly.Msg.NAO_POINTAT),this.appendDummyInput().appendField(Blockly.Msg.NAO_FRAME).appendField(e,"DIRECTION"),this.appendValueInput("X").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField("x"),this.appendValueInput("Y").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField("y"),this.appendValueInput("Z").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField("z"),this.appendValueInput("Speed").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField("speed"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_POINTAT_TOOLTIP)}},Blockly.Blocks.naoActions_lookAt={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.NAO_FRAME_TORSO,"0"],[Blockly.Msg.NAO_FRAME_WORLD,"1"],[Blockly.Msg.NAO_FRAME_ROBOT,"2"]]);this.appendDummyInput().appendField(Blockly.Msg.NAO_LOOKAT),this.appendDummyInput().appendField(Blockly.Msg.NAO_FRAME).appendField(e,"DIRECTION"),this.appendValueInput("X").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField("x"),this.appendValueInput("Y").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField("y"),this.appendValueInput("Z").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField("z"),this.setPreviousStatement(!0),this.appendValueInput("Speed").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField("speed"),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_LOOKAT_TOOLTIP)}},Blockly.Blocks.naoActions_stiffnessOn={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.setInputsInline(!0),this.appendDummyInput().appendField(Blockly.Msg.NAO_STIFFNESSON),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_STIFFNESSON_TOOLTIP)}},Blockly.Blocks.naoActions_stiffnessOff={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.setInputsInline(!0),this.appendDummyInput().appendField(Blockly.Msg.NAO_STIFFNESSOFF),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_STIFFNESSOFF_TOOLTIP)}},Blockly.Blocks.naoActions_partialStiffnessOn={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.NAO_BODY_ARM,"ARM"],[Blockly.Msg.NAO_BODY_LARM,"LARM"],[Blockly.Msg.NAO_BODY_RARM,"RARM"]]);this.appendDummyInput().appendField(Blockly.Msg.NAO_PARTIALSTIFFNESS).appendField(e,"DIRECTION").appendField(" on"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_PARTIALSTIFFNESSON_TOOLTIP)}},Blockly.Blocks.naoActions_partialStiffnessOff={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.NAO_BODY_ARM,"ARM"],[Blockly.Msg.NAO_BODY_LARM,"LARM"],[Blockly.Msg.NAO_BODY_RARM,"RARM"]]);this.appendDummyInput().appendField(Blockly.Msg.NAO_PARTIALSTIFFNESS).appendField(e,"DIRECTION").appendField(" off"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_PARTIALSTIFFNESSOFF_TOOLTIP)}},Blockly.Blocks.naoActions_walk={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_FOREWARD,"FOREWARD"],[Blockly.Msg.MOTOR_BACKWARD,"BACKWARD"]]);this.appendValueInput("POWER").appendField(Blockly.Msg.NAO_WALK).appendField(e,"DIRECTION").appendField(Blockly.Msg.NAO_WALK_DISTANCE).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_WALK_TOOLTIP)}},Blockly.Blocks.naoActions_turn={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.NAO_TURN_LEFT,"LEFT"],[Blockly.Msg.NAO_TURN_RIGHT,"RIGHT"]]);this.appendValueInput("POWER").appendField(Blockly.Msg.NAO_TURN).appendField(e,"DIRECTION").appendField(Blockly.Msg.TURN_DEGREES).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_TURN_TOOLTIP)}},Blockly.Blocks.naoActions_walkTo={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendDummyInput().appendField(Blockly.Msg.NAO_WALKTO),this.appendValueInput("X").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField("x"),this.appendValueInput("Y").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField("y"),this.appendValueInput("Theta").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField("theta"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_WALKTO_TOOLTIP)}},Blockly.Blocks.naoActions_stop={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.setInputsInline(!0),this.appendDummyInput().appendField(Blockly.Msg.NAO_STOP),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_STOP_TOOLTIP)}},Blockly.Blocks.naoActions_setVolume={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendValueInput("VOLUME").appendField(Blockly.Msg.SET+" "+Blockly.Msg.PLAY_VOLUME).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_SETVOLUME_TOOLTIP)}},Blockly.Blocks.naoActions_getVolume={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendDummyInput().appendField(Blockly.Msg.GET+" "+Blockly.Msg.PLAY_VOLUME),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.NAO_GETVOLUME_TOOLTIP)}},Blockly.Blocks.naoActions_getLanguage={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendDummyInput().appendField(Blockly.Msg.NAO_GETLANGUAGE),this.setOutput(!0,"String"),this.setTooltip(Blockly.Msg.NAO_GETLANGUAGE_TOOLTIP)}},Blockly.Blocks.naoActions_setLanguage={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.NAO_LANGUAGE_GERMAN,"GERMAN"],[Blockly.Msg.NAO_LANGUAGE_ENGLISH,"ENGLISH"],[Blockly.Msg.NAO_LANGUAGE_FRENCH,"FRENCH"]]);this.appendDummyInput().appendField(Blockly.Msg.NAO_SETLANGUAGE).appendField(e,"LANGUAGE"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_SETLANGUAGE_TOOLTIP)}},Blockly.Blocks.naoActions_sayText={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendValueInput("OUT").appendField(Blockly.Msg.NAO_SAY+" "+Blockly.Msg.DISPLAY_TEXT),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_SAYTEXT_TOOLTIP)}},Blockly.Blocks.naoActions_setEyeColor={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.NAO_COLOR_GREEN,"GREEN"],[Blockly.Msg.NAO_COLOR_BLUE,"BLUE"],[Blockly.Msg.NAO_COLOR_RED,"RED"]]);this.appendDummyInput().appendField(Blockly.Msg.NAO_SETEYECOLOR).appendField(e,"COLOR"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_SETEYECOLOR_TOOLTIP)}},Blockly.Blocks.naoActions_setEarIntensity={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendValueInput("INTENSITY").appendField(Blockly.Msg.NAO_SETEARINTENSITY).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_SETEARINTENSITY_TOOLTIP)}},Blockly.Blocks.naoActions_blink={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.setInputsInline(!0),this.appendDummyInput().appendField(Blockly.Msg.NAO_BLINK),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_BLINK_TOOLTIP)}},Blockly.Blocks.naoActions_ledOff={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.setInputsInline(!0),this.appendDummyInput().appendField(Blockly.Msg.NAO_LEDOFF),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_LEDOFF_TOOLTIP)}},Blockly.Blocks.naoActions_ledReset={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.setInputsInline(!0),this.appendDummyInput().appendField(Blockly.Msg.NAO_LEDRESET),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_LEDRESET_TOOLTIP)}},Blockly.Blocks.naoActions_randomEyes={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendValueInput("DURATION").appendField(Blockly.Msg.NAO_RANDOMEYES+" "+Blockly.Msg.NAO_DURATION).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_RANDOMEYES_TOOLTIP)}},Blockly.Blocks.naoActions_rasta={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendValueInput("DURATION").appendField(Blockly.Msg.NAO_RASTA+" "+Blockly.Msg.NAO_DURATION).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_RASTA_TOOLTIP)}},Blockly.Blocks.naoBrick={},Blockly.Blocks["naoBrick_NAO-Brick"]={init:function(){this.setColour("#BBBBBB"),this.setInputsInline(!1);var e=new Blockly.FieldTextInput("0.0.0.0",Blockly.FieldTextInput.nonnegativeNumberValidator),t=new Blockly.FieldTextInput("22",Blockly.FieldTextInput.nonnegativeNumberValidator),o=new Blockly.FieldTextInput("nao",Blockly.FieldTextInput.nonnegativeNumberValidator),n=new Blockly.FieldTextInput("nao",Blockly.FieldTextInput.nonnegativeNumberValidator);this.appendDummyInput().appendField(new Blockly.FieldLabel("NAO","brick_label")),this.appendDummyInput().appendField(Blockly.Msg.NAO_BRICK_IPADDRESS).appendField(e,"IP_ADDRESS"),this.appendDummyInput().appendField(Blockly.Msg.NAO_BRICK_PORT).appendField(t,"PORT"),this.appendDummyInput().appendField(Blockly.Msg.NAO_BRICK_USERNAME).appendField(o,"USERNAME"),this.appendDummyInput().appendField(Blockly.Msg.NAO_BRICK_PASSWORD).appendField(n,"PASSWORD"),this.setTooltip(Blockly.Msg.NAOBRICK_TOOLTIP),this.setDeletable(!1)}},Blockly.Blocks.naoSensors={},Blockly.Blocks.naoSensors_headsensors={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.NAO_TOUCH_FRONT,"FRONT"],[Blockly.Msg.NAO_TOUCH_MIDDLE,"MIDDLE"],[Blockly.Msg.NAO_TOUCH_REAR,"REAR"]]);this.appendDummyInput().appendField("Is "+Blockly.Msg.NAO_HEADSENSOR).appendField(e,"POSITION").appendField(Blockly.Msg.NAO_TOUCHED),this.setOutput(!0,"Boolean"),this.setTooltip(Blockly.Msg.NAO_HEADSENSOR_TOOLTIP)}},Blockly.Blocks.naoSensors_touchsensors={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.NAO_TOUCH_HAND,"HAND"],[Blockly.Msg.NAO_TOUCH_BUMPER,"BUMPER"]]),t=new Blockly.FieldDropdown([[Blockly.Msg.NAO_TOUCH_LEFT,"LEFT"],[Blockly.Msg.NAO_TOUCH_RIGHT,"RIGHT"]]);this.appendDummyInput().appendField("Is "+Blockly.Msg.NAO_TOUCHSENSOR).appendField(e,"POSITION").appendField(t,"SIDE").appendField(Blockly.Msg.NAO_TOUCHED),this.setOutput(!0,"Boolean"),this.setTooltip(Blockly.Msg.NAO_TOUCHSENSOR_TOOLTIP)}},Blockly.Blocks.naoSensors_sonar={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB),this.appendDummyInput().appendField(Blockly.Msg.NAO_SONAR),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.NAO_SONAR_TOOLTIP)}},Blockly.Blocks.naoSensors_selectCamera={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.NAO_CAMERA_TOP,"0"],[Blockly.Msg.NAO_CAMERA_BOTTOM,"1"]]);this.appendDummyInput().appendField(Blockly.Msg.NAO_SELECTCAMERA).appendField(e,"CAMERA"),this.setTooltip(Blockly.Msg.NAO_SELECTCAMERA_TOOLTIP),this.setPreviousStatement(!0),this.setNextStatement(!0)}},Blockly.Blocks.naoSensors_naoMark={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB),this.appendDummyInput().appendField(Blockly.Msg.NAO_NAOMARK),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.NAO_NAOMARK_TOOLTIP)}},Blockly.Blocks.naoSensors_takePicture={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB),this.appendDummyInput().appendField(Blockly.Msg.NAO_TAKEPICTURE),this.setTooltip(Blockly.Msg.NAO_TAKEPICTURE_TOOLTIP),this.setPreviousStatement(!0),this.setNextStatement(!0)}},Blockly.Blocks.naoSensors_recordVideo={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.NAO_QQVGA,"0"],[Blockly.Msg.NAO_QVGA,"1"],[Blockly.Msg.NAO_VGA,"2"]]),t=new Blockly.FieldDropdown([[Blockly.Msg.NAO_CAMERA_TOP,"0"],[Blockly.Msg.NAO_CAMERA_BOTTOM,"1"]]);this.appendDummyInput().appendField(Blockly.Msg.NAO_RECORDVIDEO),this.appendDummyInput().appendField(Blockly.Msg.NAO_RESOLUTION).appendField(e,"RESOLUTION"),this.appendDummyInput().appendField(Blockly.Msg.NAO_CAMERA).appendField(t,"CAMERA"),this.appendValueInput("DURATION").appendField(Blockly.Msg.NAO_DURATION).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.NAO_RECORDVIDEO_TOOLTIP)}},Blockly.Blocks.naoSensors_gyrometer={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([["X","X"],["Y","Y"]]);this.appendDummyInput().appendField(Blockly.Msg.NAO_GYROMETER).appendField(e,"COORDINATE"),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.NAO_GYROMETER_TOOLTIP)}},Blockly.Blocks.naoSensors_accelerometer={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([["X","X"],["Y","Y"],["Z","Z"]]);this.appendDummyInput().appendField(Blockly.Msg.NAO_ACCELEROMETER).appendField(e,"COORDINATE"),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.NAO_ACCELEROMETER_TOOLTIP)}},Blockly.Blocks.naoSensors_fsr={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.NAO_TOUCH_LEFT,"LEFT"],[Blockly.Msg.NAO_TOUCH_RIGHT,"RIGHT"]]);this.appendDummyInput().appendField(Blockly.Msg.NAO_FSR).appendField(e,"SIDE"),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.NAO_FSR_TOOLTIP)}},Blockly.Blocks.procedures={},Blockly.Blocks.procedures.HUE=290,Blockly.Blocks.procedures_defnoreturn={init:function(){var e=new Blockly.FieldTextInput(Blockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,Blockly.Procedures.rename);e.setSpellcheck(!1),this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.setMutator(new Blockly.Mutator(["procedures_mutatorarg"])),Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT),this.setColour(Blockly.CAT_PROCEDURE_RGB),this.setTooltip(Blockly.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(Blockly.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.setStatements_(!0),this.statementConnection_=null},validate:function(){var e=Blockly.Procedures.findLegalName(this.getFieldValue("NAME"),this);this.setFieldValue(e,"NAME")},setStatements_:function(e){this.hasStatements_!==e&&(e?(this.appendStatementInput("STACK").appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=e)},updateParams_:function(){for(var e=!1,t={},o=0;o<this.arguments_.length;o++){if(t["arg_"+this.arguments_[o].toLowerCase()]){e=!0;break}t["arg_"+this.arguments_[o].toLowerCase()]=!0}e?this.setWarningText(Blockly.Msg.PROCEDURES_DEF_DUPLICATE_WARNING):this.setWarningText(null),e="",this.arguments_.length&&(e=Blockly.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),Blockly.Events.disable(),this.setFieldValue(e,"PARAMS"),Blockly.Events.enable()},mutationToDom:function(e){var t=document.createElement("mutation");e&&t.setAttribute("name",this.getFieldValue("NAME"));for(var o=0;o<this.arguments_.length;o++){var n=document.createElement("arg");n.setAttribute("name",this.arguments_[o]),e&&this.paramIds_&&n.setAttribute("paramId",this.paramIds_[o]),t.appendChild(n)}return this.hasStatements_||t.setAttribute("statements","false"),t},domToMutation:function(e){this.arguments_=[];for(var t,o=0;t=e.childNodes[o];o++)"arg"==t.nodeName.toLowerCase()&&this.arguments_.push(t.getAttribute("name"));this.updateParams_(),Blockly.Procedures.mutateCallers(this),this.setStatements_("false"!==e.getAttribute("statements"))},decompose:function(e){var t=e.newBlock("procedures_mutatorcontainer");t.initSvg(),this.getInput("RETURN")?t.setFieldValue(this.hasStatements_?"TRUE":"FALSE","STATEMENTS"):t.getInput("STATEMENT_INPUT").setVisible(!1);for(var o=t.getInput("STACK").connection,n=0;n<this.arguments_.length;n++){var i=e.newBlock("procedures_mutatorarg");i.initSvg(),i.setFieldValue(this.arguments_[n],"NAME"),i.oldLocation=n,o.connect(i.previousConnection),o=i.nextConnection}return Blockly.Procedures.mutateCallers(this),t},compose:function(e){this.arguments_=[],this.paramIds_=[];for(var t=e.getInputTargetBlock("STACK");t;)this.arguments_.push(t.getFieldValue("NAME")),this.paramIds_.push(t.id),t=t.nextConnection&&t.nextConnection.targetBlock();this.updateParams_(),Blockly.Procedures.mutateCallers(this),e=e.getFieldValue("STATEMENTS"),null!==e&&(e="TRUE"==e,this.hasStatements_!=e)&&(e?(this.setStatements_(!0),Blockly.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(e=this.getInput("STACK").connection,(this.statementConnection_=e.targetConnection)&&(e=e.targetBlock(),e.unplug(),e.bumpNeighbours_()),this.setStatements_(!1)))},dispose:function(){var e=this.getFieldValue("NAME");Blockly.Procedures.disposeCallers(e,this.workspace),this.constructor.prototype.dispose.apply(this,arguments)},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},getVars:function(){return this.arguments_},renameVar:function(e,t){for(var o=!1,n=0;n<this.arguments_.length;n++)Blockly.Names.equals(e,this.arguments_[n])&&(this.arguments_[n]=t,o=!0);if(o&&(this.updateParams_(),this.mutator.isVisible())){o=this.mutator.workspace_.getAllBlocks(),n=0;for(var i;i=o[n];n++)"procedures_mutatorarg"==i.type&&Blockly.Names.equals(e,i.getFieldValue("NAME"))&&i.setFieldValue(t,"NAME")}},customContextMenu:function(e){var t={enabled:!0},o=this.getFieldValue("NAME");t.text=Blockly.Msg.PROCEDURES_CREATE_DO.replace("%1",o);var n=goog.dom.createDom("mutation");n.setAttribute("name",o);for(var i=0;i<this.arguments_.length;i++)o=goog.dom.createDom("arg"),o.setAttribute("name",this.arguments_[i]),n.appendChild(o);if(n=goog.dom.createDom("block",null,n),n.setAttribute("type",this.callType_),t.callback=Blockly.ContextMenu.callbackFactory(this,n),e.push(t),!this.isCollapsed())for(i=0;i<this.arguments_.length;i++)t={enabled:!0},o=this.arguments_[i],t.text=Blockly.Msg.VARIABLES_SET_CREATE_GET.replace("%1",o),n=goog.dom.createDom("field",null,o),n.setAttribute("name","VAR"),n=goog.dom.createDom("block",null,n),n.setAttribute("type","variables_get"),t.callback=Blockly.ContextMenu.callbackFactory(this,n),e.push(t)},callType_:"procedures_callnoreturn"},Blockly.Blocks.procedures_defreturn={init:function(){var e=new Blockly.FieldTextInput(Blockly.Msg.PROCEDURES_DEFRETURN_PROCEDURE,Blockly.Procedures.rename);e.setSpellcheck(!1),this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new Blockly.Mutator(["procedures_mutatorarg"])),Blockly.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(Blockly.Msg.PROCEDURES_DEFRETURN_COMMENT),this.setColour(Blockly.CAT_PROCEDURE_RGB),this.setTooltip(Blockly.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(Blockly.Msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:Blockly.Blocks.procedures_defnoreturn.setStatements_,validate:Blockly.Blocks.procedures_defnoreturn.validate,updateParams_:Blockly.Blocks.procedures_defnoreturn.updateParams_,mutationToDom:Blockly.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:Blockly.Blocks.procedures_defnoreturn.domToMutation,decompose:Blockly.Blocks.procedures_defnoreturn.decompose,compose:Blockly.Blocks.procedures_defnoreturn.compose,dispose:Blockly.Blocks.procedures_defnoreturn.dispose,getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},getVars:Blockly.Blocks.procedures_defnoreturn.getVars,renameVar:Blockly.Blocks.procedures_defnoreturn.renameVar,customContextMenu:Blockly.Blocks.procedures_defnoreturn.customContextMenu,callType_:"procedures_callreturn"},Blockly.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(Blockly.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new Blockly.FieldCheckbox("TRUE"),"STATEMENTS"),this.setColour(Blockly.CAT_PROCEDURE_RGB),this.setTooltip(Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.procedures_mutatorarg={init:function(){this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(new Blockly.FieldTextInput("x",this.validator_),"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(Blockly.CAT_PROCEDURE_RGB),this.setTooltip(Blockly.Msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1},validator_:function(e){return(e=e.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""))||null}},Blockly.Blocks.procedures_callnoreturn={init:function(){this.appendDummyInput("TOPROW").appendField(this.id,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(Blockly.Blocks.procedures.HUE),this.setHelpUrl(Blockly.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.quarkConnections_={},this.quarkIds_=null},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(e,t){Blockly.Names.equals(e,this.getProcedureCall())&&(this.setFieldValue(t,"NAME"),this.setTooltip((this.outputConnection?Blockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP:Blockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",t)))},setProcedureParameters_:function(e,t){var o=Blockly.Procedures.getDefinition(this.getProcedureCall(),this.workspace),n=o&&o.mutator&&o.mutator.isVisible();if(n||(this.quarkConnections_={},this.quarkIds_=null),t)if(goog.array.equals(this.arguments_,e))this.quarkIds_=t;else{if(t.length!=e.length)throw"Error: paramNames and paramIds must be the same length.";this.setCollapsed(!1),this.quarkIds_||(this.quarkConnections_={},e.join("\n")==this.arguments_.join("\n")?this.quarkIds_=t:this.quarkIds_=[]),o=this.rendered,this.rendered=!1;for(var i=0;i<this.arguments_.length;i++){var l=this.getInput("ARG"+i);l&&(l=l.connection.targetConnection,this.quarkConnections_[this.quarkIds_[i]]=l,n&&l&&-1==t.indexOf(this.quarkIds_[i])&&(l.disconnect(),l.getSourceBlock().bumpNeighbours_()))}if(this.arguments_=[].concat(e),this.updateShape_(),this.quarkIds_=t)for(i=0;i<this.arguments_.length;i++)n=this.quarkIds_[i],n in this.quarkConnections_&&(l=this.quarkConnections_[n],Blockly.Mutator.reconnect(l,this,"ARG"+i)||delete this.quarkConnections_[n]);(this.rendered=o)&&this.render()}},updateShape_:function(){for(var e=0;e<this.arguments_.length;e++){var t=this.getField("ARGNAME"+e);t?(Blockly.Events.disable(),t.setValue(this.arguments_[e]),Blockly.Events.enable()):(t=new Blockly.FieldLabel(this.arguments_[e]),this.appendValueInput("ARG"+e).setAlign(Blockly.ALIGN_RIGHT).appendField(t,"ARGNAME"+e).init())}for(;this.getInput("ARG"+e);)this.removeInput("ARG"+e),e++;(e=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(e.appendField(Blockly.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),e.init()):this.getField("WITH")&&e.removeField("WITH"))},mutationToDom:function(){var e=document.createElement("mutation");e.setAttribute("name",this.getProcedureCall());for(var t=0;t<this.arguments_.length;t++){var o=document.createElement("arg");o.setAttribute("name",this.arguments_[t]),e.appendChild(o)}return e},domToMutation:function(e){var t=e.getAttribute("name");this.renameProcedure(this.getProcedureCall(),t),t=[];for(var o,n=[],i=0;o=e.childNodes[i];i++)"arg"==o.nodeName.toLowerCase()&&(t.push(o.getAttribute("name")),n.push(o.getAttribute("paramId")));this.setProcedureParameters_(t,n)},renameVar:function(e,t){for(var o=0;o<this.arguments_.length;o++)Blockly.Names.equals(e,this.arguments_[o])&&(this.arguments_[o]=t,this.getField("ARGNAME"+o).setValue(t))},customContextMenu:function(e){var t={enabled:!0};t.text=Blockly.Msg.PROCEDURES_HIGHLIGHT_DEF;var o=this.getProcedureCall(),n=this.workspace;t.callback=function(){var e=Blockly.Procedures.getDefinition(o,n);e&&e.select()},e.push(t)}},Blockly.Blocks.procedures_callreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setColour(Blockly.CAT_PROCEDURE_RGB),this.setHelpUrl(Blockly.Msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.quarkConnections_={},this.quarkIds_=null},getProcedureCall:Blockly.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:Blockly.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:Blockly.Blocks.procedures_callnoreturn.setProcedureParameters_,updateShape_:Blockly.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:Blockly.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:Blockly.Blocks.procedures_callnoreturn.domToMutation,renameVar:Blockly.Blocks.procedures_callnoreturn.renameVar,customContextMenu:Blockly.Blocks.procedures_callnoreturn.customContextMenu},Blockly.Blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(Blockly.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(Blockly.Blocks.procedures.HUE),this.setTooltip(Blockly.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(Blockly.Msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("value",Number(this.hasReturnValue_)),e},domToMutation:function(e){this.hasReturnValue_=1==e.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(e){e=!1;var t=this;do{if(-1!=this.FUNCTION_TYPES.indexOf(t.type)){e=!0;break}t=t.getSurroundParent()}while(t);e?("procedures_defnoreturn"==t.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!=t.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(Blockly.Msg.PROCEDURES_IFRETURN_WARNING)},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},Blockly.Blocks.robProcedures_defnoreturn={init:function(){this.setHelpUrl(Blockly.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.setColour(Blockly.CAT_PROCEDURE_RGB);var e=Blockly.Procedures.findLegalName(Blockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,this),t=new Blockly.FieldTextInput(e,Blockly.Procedures.robRename);t.nameOld=e,t.setSpellcheck(!1),this.appendDummyInput().appendField(t,"NAME").appendField("","WITH"),this.appendStatementInput("STACK").appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_DO),this.setMutator(new Blockly.MutatorPlus(["robProcedures_defnoreturn"])),this.setTooltip(Blockly.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.declare_=!1},validate:function(){var e=Blockly.Procedures.findLegalName(this.getFieldValue("NAME"),this);this.setFieldValue(e,"NAME")},getProcedureDef:function(){return[this.getFieldValue("NAME"),this,!1]},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("declare",1==this.declare_),e},domToMutation:function(e){(this.declare_="false"!=e.getAttribute("declare"))&&(this.setFieldValue(Blockly.Msg.PROCEDURES_BEFORE_PARAMS,"WITH"),e=this.getInput("STACK").connection.targetConnection,this.removeInput("STACK"),this.appendStatementInput("ST"),this.getInput("ST").connection.setCheck("declaration_only"),this.appendStatementInput("STACK").appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_DO),e&&this.getInput("STACK").connection.connect(e))},updateShape_:function(e){if(1==e){if(!this.declare_){this.declare_=!0,this.setFieldValue(Blockly.Msg.PROCEDURES_BEFORE_PARAMS,"WITH");var t=this.getInput("STACK").connection.targetConnection;this.removeInput("STACK"),this.appendStatementInput("ST"),this.getInput("ST").connection.setCheck("declaration_only"),this.appendStatementInput("STACK").appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_DO),t&&this.getInput("STACK").connection.connect(t)}t=this.workspace.newBlock("robLocalVariables_declare"),t.initSvg(),t.render();var o;if(this.getInput("ST").connection.targetConnection){if(o=this.getInput("ST").connection.targetConnection.sourceBlock_)for(;o.getNextBlock();)o=o.getNextBlock();o.setNext(!0),o=o.nextConnection}else o=this.getInput("ST").connection;o.connect(t.previousConnection),Blockly.Procedures.updateCallers(t.getFieldValue("VAR"),"Number",this.workspace,e)}else-1==e&&(this.setFieldValue("","WITH"),this.removeInput("ST"),this.declare_=!1)}},Blockly.Blocks.robProcedures_defreturn={init:function(){var e="calliope"===this.workspace.device?new Blockly.FieldDropdown([[Blockly.Msg.VARIABLES_TYPE_NUMBER,"Number"],[Blockly.Msg.VARIABLES_TYPE_BOOLEAN,"Boolean"],[Blockly.Msg.VARIABLES_TYPE_STRING,"String"],[Blockly.Msg.VARIABLES_TYPE_COLOUR,"Colour"],[Blockly.Msg.VARIABLES_TYPE_IMAGE,"Image"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_NUMBER,"Array_Number"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_BOOLEAN,"Array_Boolean"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_STRING,"Array_String"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_IMAGE,"Array_Image"]],function(e){
e&&this.sourceBlock_.getFieldValue("TYPE")!==e&&this.sourceBlock_.updateType(e)}):"microbit"===this.workspace.device?new Blockly.FieldDropdown([[Blockly.Msg.VARIABLES_TYPE_NUMBER,"Number"],[Blockly.Msg.VARIABLES_TYPE_BOOLEAN,"Boolean"],[Blockly.Msg.VARIABLES_TYPE_STRING,"String"],[Blockly.Msg.VARIABLES_TYPE_IMAGE,"Image"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_NUMBER,"Array_Number"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_BOOLEAN,"Array_Boolean"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_STRING,"Array_String"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_IMAGE,"Array_Image"]],function(e){e&&this.sourceBlock_.getFieldValue("TYPE")!==e&&this.sourceBlock_.updateType(e)}):new Blockly.FieldDropdown([[Blockly.Msg.VARIABLES_TYPE_NUMBER,"Number"],[Blockly.Msg.VARIABLES_TYPE_BOOLEAN,"Boolean"],[Blockly.Msg.VARIABLES_TYPE_STRING,"String"],[Blockly.Msg.VARIABLES_TYPE_COLOUR,"Colour"],[Blockly.Msg.VARIABLES_TYPE_CONNECTION,"Connection"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_NUMBER,"Array_Number"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_BOOLEAN,"Array_Boolean"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_STRING,"Array_String"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_CONNECTION,"Array_Connection"]],function(e){e&&this.sourceBlock_.getFieldValue("TYPE")!==e&&this.sourceBlock_.updateType(e)});this.setHelpUrl(Blockly.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.setColour(Blockly.CAT_PROCEDURE_RGB);var t=Blockly.Procedures.findLegalName(Blockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,this),o=new Blockly.FieldTextInput(t,Blockly.Procedures.robRename);o.nameOld=t,o.setSpellcheck(!1),this.appendDummyInput().appendField(o,"NAME").appendField("","WITH"),this.appendStatementInput("STACK").appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_DO),this.setMutator(new Blockly.MutatorPlus(["robProcedures_defreturn"])),this.setTooltip(Blockly.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.appendValueInput("RETURN").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.GET).appendField(e,"TYPE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_BACK).setCheck("Number"),this.declare_=!1,this.returnType_="Number"},validate:function(){var e=Blockly.Procedures.findLegalName(this.getFieldValue("NAME"),this);this.setFieldValue(e,"NAME")},getProcedureDef:function(){return[this.getFieldValue("NAME"),this,!0]},getReturnType:function(){return this.returnType_},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("declare",1==this.declare_),e.setAttribute("return_type",this.returnType_),e},domToMutation:function(e){(this.declare_="false"!=e.getAttribute("declare"))&&this.addDeclarationStatement_(),(this.returnType_=e.getAttribute("return_type"))&&this.updateType(this.returnType_)},updateShape_:function(e,t){if(1==e){this.declare_||(this.addDeclarationStatement_(),this.declare_=!0);var o=this.workspace.newBlock("robLocalVariables_declare");o.initSvg(),o.render();var n;if(this.getInput("ST").connection.targetConnection){if(n=this.getInput("ST").connection.targetConnection.sourceBlock_)for(;n.getNextBlock();)n=n.getNextBlock();n.setNext(!0),n=n.nextConnection}else n=this.getInput("ST").connection;n.connect(o.previousConnection),Blockly.Procedures.updateCallers(o.getFieldValue("VAR"),"Number",this.workspace,e)}else 0==e?(o=t||this.getFieldValue("TYPE"),this.getInput("RETURN").connection.setCheck(o)):-1==e&&(this.setFieldValue("","WITH"),this.removeInput("ST"),this.declare_=!1)},addDeclarationStatement_:function(){var e="calliope"===this.workspace.device?new Blockly.FieldDropdown([[Blockly.Msg.VARIABLES_TYPE_NUMBER,"Number"],[Blockly.Msg.VARIABLES_TYPE_BOOLEAN,"Boolean"],[Blockly.Msg.VARIABLES_TYPE_STRING,"String"],[Blockly.Msg.VARIABLES_TYPE_COLOUR,"Colour"],["Image","Image"],[Blockly.Msg.VARIABLES_TYPE_CONNECTION,"Connection"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_NUMBER,"Array_Number"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_BOOLEAN,"Array_Boolean"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_STRING,"Array_String"],["Array Image","Array_Image"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_CONNECTION,"Array_Connection"]],function(e){e&&this.sourceBlock_.getFieldValue("TYPE")!==e&&this.sourceBlock_.updateType(e)}):"microbit"===this.workspace.device?new Blockly.FieldDropdown([[Blockly.Msg.VARIABLES_TYPE_NUMBER,"Number"],[Blockly.Msg.VARIABLES_TYPE_BOOLEAN,"Boolean"],[Blockly.Msg.VARIABLES_TYPE_STRING,"String"],[Blockly.Msg.VARIABLES_TYPE_IMAGE,"Image"],[Blockly.Msg.VARIABLES_TYPE_CONNECTION,"Connection"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_NUMBER,"Array_Number"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_BOOLEAN,"Array_Boolean"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_STRING,"Array_String"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_IMAGE,"Array_Image"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_CONNECTION,"Array_Connection"]],function(e){e&&this.sourceBlock_.getFieldValue("TYPE")!==e&&this.sourceBlock_.updateType(e)}):new Blockly.FieldDropdown([[Blockly.Msg.VARIABLES_TYPE_NUMBER,"Number"],[Blockly.Msg.VARIABLES_TYPE_BOOLEAN,"Boolean"],[Blockly.Msg.VARIABLES_TYPE_STRING,"String"],[Blockly.Msg.VARIABLES_TYPE_COLOUR,"Colour"],[Blockly.Msg.VARIABLES_TYPE_CONNECTION,"Connection"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_NUMBER,"Array_Number"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_BOOLEAN,"Array_Boolean"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_STRING,"Array_String"],[Blockly.Msg.VARIABLES_TYPE_ARRAY_CONNECTION,"Array_Connection"]],function(e){e&&this.sourceBlock_.getFieldValue("TYPE")!==e&&this.sourceBlock_.updateType(e)});this.setFieldValue(Blockly.Msg.PROCEDURES_BEFORE_PARAMS,"WITH");var t=this.getInput("RETURN").connection.targetConnection,o=this.getInput("STACK").connection.targetConnection;this.removeInput("RETURN"),this.removeInput("STACK"),this.appendStatementInput("ST"),this.getInput("ST").connection.setCheck("declaration_only"),this.appendStatementInput("STACK").appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_DO),this.appendValueInput("RETURN").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.GET).appendField(e,"TYPE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_BACK).setCheck(this.returnType_),this.setFieldValue(this.returnType_,"TYPE"),t&&this.getInput("RETURN").connection.connect(t),o&&this.getInput("STACK").connection.connect(o)},updateType:function(e){e&&this.getFieldValue("TYPE")!==e&&(this.returnType_=e,this.updateShape_(0,this.returnType_),Blockly.Procedures.updateCallers(this.getFieldValue("NAME"),this.returnType_,this.workspace,99,this.getFieldValue("NAME")))}},Blockly.Blocks.robProcedures_callnoreturn={init:function(){this.setHelpUrl(Blockly.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.setColour(Blockly.CAT_PROCEDURE_RGB),this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_CALLNORETURN_CALL).appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.arguments_=[],this.argumentsTypes_=[]},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(e,t){Blockly.Names.equals(e,this.getProcedureCall())&&(this.setFieldValue(t,"NAME"),this.setTooltip((this.outputConnection?Blockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP:Blockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",t)))},setProcedureParameters:function(e,t){if(t.length!=e.length)throw"Error: paramNames and paramIds must be the same length.";var o=this.rendered;this.rendered=!1;for(var n=[],i=this.arguments_.length-1;0<=i;i--){var l=this.getInput("ARG"+i);if(l){var s=l.connection.targetConnection;l=l.fieldRow[0].getText(),n[i]={name:l,conn:s},this.removeInput("ARG"+i)}}for(this.arguments_=[].concat(e),this.argumentsTypes_=[].concat(t),i=0;i<this.arguments_.length;i++)if(l=this.appendValueInput("ARG"+i).setAlign(Blockly.ALIGN_RIGHT).appendField(this.arguments_[i]).setCheck(this.argumentsTypes_[i]),l.init(),0<n.length){for(s=0;s<n.length;s++)if(n[s].name==this.arguments_[i]){var r=n[s];n.splice(s,1);break}r&&r.conn&&((s=r.conn)&&s.targetConnection&&s.sourceBlock_.workspace!=this.workspace||l.connection.connect(s))}for(s=0;s<n.length;s++)(i=n[s])&&i.conn&&(i.conn.sourceBlock_.moveBy(50,15),i.conn.sourceBlock_.setDisabled(!0));this.rendered=o,this.render()},updateProcedureParameters:function(e,t,o){if(1==o){o=this.arguments_.slice(0);var n=this.argumentsTypes_.slice(0);o.push(e),n.push(t),this.setProcedureParameters(o,n)}else-1==o?(o=this.arguments_.slice(0),n=this.argumentsTypes_.slice(0),e=this.arguments_.indexOf(e),0<=e&&(o.splice(e,1),n.splice(e,1),this.setProcedureParameters(o,n))):0==o&&(e=this.arguments_.indexOf(e),0<=e&&(this.argumentsTypes_[e]=t,this.getInput("ARG"+e).setCheck(this.argumentsTypes_[e])));this.render()},mutationToDom:function(){var e=document.createElement("mutation");e.setAttribute("name",this.getProcedureCall());for(var t=0;t<this.arguments_.length;t++){var o=document.createElement("arg");o.setAttribute("name",this.arguments_[t]),o.setAttribute("type",this.argumentsTypes_[t]),e.appendChild(o)}return e},domToMutation:function(e){var t=e.getAttribute("name");this.setFieldValue(t,"NAME"),this.setTooltip((this.outputConnection?Blockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP:Blockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",t)),Blockly.Procedures.getDefinition(t,this.workspace),this.arguments_=[],this.argumentsTypes_=[],t=0;for(var o;o=e.childNodes[t];t++)"arg"==o.nodeName.toLowerCase()&&(this.arguments_.push(o.getAttribute("name")),this.argumentsTypes_.push(o.getAttribute("type")));this.setProcedureParameters(this.arguments_,this.argumentsTypes_)},renameVar:function(e,t){for(var o=0;o<this.arguments_.length;o++)Blockly.Names.equals(e,this.arguments_[o])&&(this.arguments_[o]=t,this.getInput("ARG"+o).fieldRow[0].setText(t))},customContextMenu:function(e){var t={enabled:!0};t.text=Blockly.Msg.PROCEDURES_HIGHLIGHT_DEF;var o=this.getProcedureCall(),n=this.workspace;t.callback=function(){var e=Blockly.Procedures.getDefinition(o,n);e&&e.select()},e.push(t)}},Blockly.Blocks.robProcedures_callreturn={init:function(){this.setHelpUrl(Blockly.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.setColour(Blockly.CAT_PROCEDURE_RGB),this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_CALLNORETURN_CALL).appendField("","NAME"),this.setOutput(!0,"Number"),this.arguments_=[],this.argumentsTypes_=[],this.outputType_="Number"},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(e,t){Blockly.Names.equals(e,this.getProcedureCall())&&(this.setFieldValue(t,"NAME"),this.setTooltip((this.outputConnection?Blockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP:Blockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",t)))},setProcedureParameters:function(e,t){if(t.length!=e.length)throw"Error: paramNames and paramIds must be the same length.";var o=this.rendered;this.rendered=!1;for(var n=[],i=this.arguments_.length-1;0<=i;i--){var l=this.getInput("ARG"+i);if(l){var s=l.connection.targetConnection;l=l.fieldRow[0].getText(),n[i]={name:l,conn:s},this.removeInput("ARG"+i)}}for(this.arguments_=[].concat(e),this.argumentsTypes_=[].concat(t),i=0;i<this.arguments_.length;i++)if(l=this.appendValueInput("ARG"+i).setAlign(Blockly.ALIGN_RIGHT).appendField(this.arguments_[i]).setCheck(this.argumentsTypes_[i]),l.init(),0<n.length){for(s=0;s<n.length;s++)if(n[s].name==this.arguments_[i]){var r=n[s];n.splice(s,1);break}r&&r.conn&&((s=r.conn)&&s.targetConnection&&s.sourceBlock_.workspace!=this.workspace||l.connection.connect(s))}for(s=0;s<n.length;s++)(i=n[s])&&i.conn&&(i.conn.sourceBlock_.moveBy(50,15),i.conn.sourceBlock_.setDisabled(!0));this.rendered=o,this.render()},updateProcedureParameters:function(e,t,o){if(1==o){o=this.arguments_.slice(0);var n=this.argumentsTypes_.slice(0);o.push(e),n.push(t),this.setProcedureParameters(o,n)}else-1==o?(o=this.arguments_.slice(0),n=this.argumentsTypes_.slice(0),e=this.arguments_.indexOf(e),0<=e&&(o.splice(e,1),n.splice(e,1),this.setProcedureParameters(o,n))):0==o?(e=this.arguments_.indexOf(e),0<=e&&(this.argumentsTypes_[e]=t,this.getInput("ARG"+e).setCheck(this.argumentsTypes_[e]))):99==o&&(this.outputType_=t,this.outputConnection.setCheck(this.outputType_));this.render()},mutationToDom:function(){var e=document.createElement("mutation");e.setAttribute("name",this.getProcedureCall());for(var t=0;t<this.arguments_.length;t++){var o=document.createElement("arg");o.setAttribute("name",this.arguments_[t]),o.setAttribute("type",this.argumentsTypes_[t]),e.appendChild(o)}return e.setAttribute("output_type",this.outputType_),e},domToMutation:function(e){var t=e.getAttribute("name");this.setFieldValue(t,"NAME"),this.setTooltip((this.outputConnection?Blockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP:Blockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",t)),Blockly.Procedures.getDefinition(t,this.workspace),this.arguments_=[],this.argumentsTypes_=[],t=0;for(var o;o=e.childNodes[t];t++)"arg"==o.nodeName.toLowerCase()&&(this.arguments_.push(o.getAttribute("name")),this.argumentsTypes_.push(o.getAttribute("type")));this.setProcedureParameters(this.arguments_,this.argumentsTypes_),this.outputType_=e.getAttribute("output_type"),this.setOutput(!0,this.outputType_)},renameVar:function(e,t){for(var o=0;o<this.arguments_.length;o++)Blockly.Names.equals(e,this.arguments_[o])&&(this.arguments_[o]=t,this.getInput("ARG"+o).fieldRow[0].setText(t))},customContextMenu:function(e){var t={enabled:!0};t.text=Blockly.Msg.PROCEDURES_HIGHLIGHT_DEF;var o=this.getProcedureCall(),n=this.workspace;t.callback=function(){var e=Blockly.Procedures.getDefinition(o,n);e&&e.select()},e.push(t)}},Blockly.Blocks.robProcedures_ifreturn={init:function(){this.setHelpUrl("http://c2.com/cgi/wiki?GuardClause"),this.setColour(Blockly.CAT_PROCEDURE_RGB),this.appendValueInput("CONDITION").setCheck("Boolean").appendField(Blockly.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.hasReturnValue_=!0,this.returnType_=null},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("value",Number(this.hasReturnValue_)),this.returnType_&&e.setAttribute("return_type",this.returnType_),e},domToMutation:function(e){(this.hasReturnValue_=1==e.getAttribute("value"))?this.returnType_&&this.getInput("VALUE").setCheck(this.returnType_):(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN))},getProcedureCall:function(){return this.type},updateProcedureParameters:function(e,t,o){if(99==o){o=this;do{if("robProcedures_defreturn"==o.type&&o.getFieldValue("NAME")==e){this.returnType_=t,this.getInput("VALUE").setCheck(this.returnType_),this.render();break}o=o.getSurroundParent()}while(o)}},onchange:function(){var e=!1,t=this;do{if("robProcedures_defnoreturn"==t.type||"robProcedures_defreturn"==t.type){e=!0;break}t=t.getSurroundParent()}while(t);e?("robProcedures_defnoreturn"==t.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"robProcedures_defreturn"!=t.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),"robProcedures_defreturn"==t.type&&(this.returnType_=t.getReturnType(),this.getInput("VALUE").setCheck(this.returnType_),this.render()),this.setWarningText(null)):(this.returnType_=null,this.hasReturnValue&&this.getInput("VALUE").setCheck(this.returnType_),this.setWarningText(Blockly.Msg.PROCEDURES_IFRETURN_WARNING))}},Blockly.Blocks.robActions={},Blockly.Blocks.robActions_motor_on={init:function(){var e=[[Blockly.Msg.MOTOR_PORT+" A","A"],[Blockly.Msg.MOTOR_PORT+" B","B"],[Blockly.Msg.MOTOR_PORT+" C","C"]];"ev3"===this.workspace.device?e.push([Blockly.Msg.MOTOR_PORT+" D","D"]):"ardu"===this.workspace.device&&(e=[[Blockly.Msg.MOTOR+" "+Blockly.Msg.MOTOR_LEFT,"B"],[Blockly.Msg.MOTOR+" "+Blockly.Msg.MOTOR_RIGHT,"C"]]),this.setColour(Blockly.CAT_ACTION_RGB),e=new Blockly.FieldDropdown(e),this.appendValueInput("POWER").appendField(e,"MOTORPORT").appendField(Blockly.Msg.ON).appendField(Blockly.Msg.MOTOR_SPEED).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.MOTOR_ON_TOOLTIP)}},Blockly.Blocks.robActions_motor_on_for={init:function(){var e=[[Blockly.Msg.MOTOR_PORT+" A","A"],[Blockly.Msg.MOTOR_PORT+" B","B"],[Blockly.Msg.MOTOR_PORT+" C","C"]];"ev3"===this.workspace.device?e.push([Blockly.Msg.MOTOR_PORT+" D","D"]):"ardu"===this.workspace.device&&(e=[[Blockly.Msg.MOTOR+" "+Blockly.Msg.MOTOR_LEFT,"B"],[Blockly.Msg.MOTOR+" "+Blockly.Msg.MOTOR_RIGHT,"C"]]),this.setColour(Blockly.CAT_ACTION_RGB),e=new Blockly.FieldDropdown(e);var t=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_ROTATION,"ROTATIONS"],[Blockly.Msg.MOTOR_DEGREE,"DEGREE"]]);this.appendValueInput("POWER").appendField(e,"MOTORPORT").appendField(Blockly.Msg.ON).appendField(Blockly.Msg.MOTOR_SPEED).setCheck("Number"),"ardu"===this.workspace.device?this.appendValueInput("VALUE").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.SENSOR_TIME+" ms").setCheck("Number"):this.appendValueInput("VALUE").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.FOR).appendField(t,"MOTORROTATION").setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.MOTOR_ON_FOR_TOOLTIP)}},Blockly.Blocks.robActions_motor_on_for_ardu={init:function(){var e=[[Blockly.Msg.MOTOR_PAN,"A"],[Blockly.Msg.MOTOR_TILT,"D"]];this.setColour(Blockly.CAT_ACTION_RGB),e=new Blockly.FieldDropdown(e),this.appendValueInput("POWER").appendField(Blockly.Msg.MOTOR).appendField(e,"MOTORPORT").appendField(Blockly.Msg.SET+" °").setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.MOTOR_ON_FOR_TOOLTIP)}},Blockly.Blocks.robActions_motor_getPower={init:function(){var e=[[Blockly.Msg.MOTOR_PORT+" A","A"],[Blockly.Msg.MOTOR_PORT+" B","B"],[Blockly.Msg.MOTOR_PORT+" C","C"]];"ev3"===this.workspace.device&&e.push([Blockly.Msg.MOTOR_PORT+" D","D"]),this.setColour(Blockly.CAT_ACTION_RGB),e=new Blockly.FieldDropdown(e),this.appendDummyInput().appendField(Blockly.Msg.GET+" "+Blockly.Msg.MOTOR_SPEED).appendField(e,"MOTORPORT"),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.MOTOR_GETPOWER_TOOLTIP)}},Blockly.Blocks.robActions_motor_setPower={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_PORT+" A","A"],[Blockly.Msg.MOTOR_PORT+" B","B"],[Blockly.Msg.MOTOR_PORT+" C","C"],[Blockly.Msg.MOTOR_PORT+" D","D"]]);this.appendValueInput("POWER").appendField(Blockly.Msg.SET).appendField(e,"MOTORPORT").appendField(Blockly.Msg.MOTOR_SPEED),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.MOTOR_SETPOWER_TOOLTIP)}},Blockly.Blocks.robActions_motor_stop={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=[[Blockly.Msg.MOTOR_PORT+" A","A"],[Blockly.Msg.MOTOR_PORT+" B","B"],[Blockly.Msg.MOTOR_PORT+" C","C"]];"ev3"===this.workspace.device&&e.push([Blockly.Msg.MOTOR_PORT+" D","D"]),e=new Blockly.FieldDropdown(e);var t=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_FLOAT,"FLOAT"],[Blockly.Msg.MOTOR_BRAKE,"NONFLOAT"]]);this.appendDummyInput().appendField(Blockly.Msg.MOTOR_STOP).appendField(e,"MOTORPORT").appendField(t,"MODE"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.MOTOR_STOP_TOOLTIP)}},Blockly.Blocks.robActions_motorDiff_on={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_FOREWARD,"FOREWARD"],[Blockly.Msg.MOTOR_BACKWARD,"BACKWARD"]]);this.appendValueInput("POWER").appendField(Blockly.Msg.MOTOR_DRIVE).appendField(e,"DIRECTION").appendField(Blockly.Msg.MOTOR_SPEED).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.MOTORDIFF_ON_TOOLTIP)}},Blockly.Blocks.robActions_motorDiff_on_for={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_FOREWARD,"FOREWARD"],[Blockly.Msg.MOTOR_BACKWARD,"BACKWARDS"]]);this.appendValueInput("POWER").appendField(Blockly.Msg.MOTOR_DRIVE).appendField(e,"DIRECTION").appendField(Blockly.Msg.MOTOR_SPEED).setCheck("Number"),"ardu"===this.workspace.device?this.appendValueInput("DISTANCE").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.SENSOR_TIME+" ms").setCheck("Number"):this.appendValueInput("DISTANCE").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.MOTOR_DISTANCE).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.MOTORDIFF_ON_FOR_TOOLTIP)}},Blockly.Blocks.robActions_motorDiff_stop={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.setInputsInline(!0),this.appendDummyInput().appendField(Blockly.Msg.MOTOR_STOP),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.MOTORDIFF_STOP_TOOLTIP)}},Blockly.Blocks.robActions_motorDiff_turn={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_RIGHT,"RIGHT"],[Blockly.Msg.MOTOR_LEFT,"LEFT"]]);this.appendValueInput("POWER").appendField(Blockly.Msg.MOTOR_TURN).appendField(e,"DIRECTION").appendField(Blockly.Msg.MOTOR_SPEED).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.MOTORDIFF_TURN_TOOLTIP)}},Blockly.Blocks.robActions_motorDiff_turn_for={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_RIGHT,"RIGHT"],[Blockly.Msg.MOTOR_LEFT,"LEFT"]]);this.appendValueInput("POWER").appendField(Blockly.Msg.MOTOR_TURN).appendField(e,"DIRECTION").appendField(Blockly.Msg.MOTOR_SPEED).setCheck("Number"),"ardu"===this.workspace.device?this.appendValueInput("DEGREE").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.SENSOR_TIME+" s").setCheck("Number"):this.appendValueInput("DEGREE").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.MOTOR_DEGREE).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.MOTORDIFF_TURN_FOR_TOOLTIP)}},Blockly.Blocks.robActions_motorDiff_curve={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_FOREWARD,"FOREWARD"],[Blockly.Msg.MOTOR_BACKWARD,"BACKWARD"]]);this.appendValueInput("POWER_LEFT").appendField(Blockly.Msg.MOTOR_STEER).appendField(e,"DIRECTION").appendField(Blockly.Msg.MOTOR_SPEED).appendField(Blockly.Msg.MOTOR_LEFT).setCheck("Number"),this.appendValueInput("POWER_RIGHT").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.MOTOR_SPEED).appendField(Blockly.Msg.MOTOR_RIGHT).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.MOTORDIFF_ON_TOOLTIP)}},Blockly.Blocks.robActions_motorDiff_curve_for={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_FOREWARD,"FOREWARD"],[Blockly.Msg.MOTOR_BACKWARD,"BACKWARDS"]]);this.appendValueInput("POWER_LEFT").appendField(Blockly.Msg.MOTOR_STEER).appendField(e,"DIRECTION").appendField(Blockly.Msg.MOTOR_SPEED).appendField(Blockly.Msg.MOTOR_LEFT).setCheck("Number"),this.appendValueInput("POWER_RIGHT").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.MOTOR_SPEED).appendField(Blockly.Msg.MOTOR_RIGHT).setCheck("Number"),"ardu"===this.workspace.device?this.appendValueInput("DISTANCE").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.SENSOR_TIME+" ms").setCheck("Number"):this.appendValueInput("DISTANCE").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.MOTOR_DISTANCE).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.MOTORDIFF_ON_FOR_TOOLTIP)}},Blockly.Blocks.robActions_display_picture={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.DISPLAY_PICTURE_GLASSES,"OLDGLASSES"],[Blockly.Msg.DISPLAY_PICTURE_EYES_OPEN,"EYESOPEN"],[Blockly.Msg.DISPLAY_PICTURE_EYES_CLOSED,"EYESCLOSED"],[Blockly.Msg.DISPLAY_PICTURE_FLOWERS,"FLOWERS"],[Blockly.Msg.DISPLAY_PICTURE_TACHO,"TACHO"]]);this.appendDummyInput().appendField(Blockly.Msg.DISPLAY_SHOW+" "+Blockly.Msg.DISPLAY_PICTURE).appendField(e,"PICTURE"),this.appendValueInput("X").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField("x"),this.appendValueInput("Y").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField("y"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.DISPLAY_PICTURE_TOOLTIP)}},Blockly.Blocks.robActions_display_text={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),"nxt"===this.workspace.device?this.appendValueInput("OUT").appendField(Blockly.Msg.DISPLAY_SHOW+" "+Blockly.Msg.DISPLAY_TEXT).setCheck(["Number","Boolean","String","Colour","Connection"]):this.appendValueInput("OUT").appendField(Blockly.Msg.DISPLAY_SHOW+" "+Blockly.Msg.DISPLAY_TEXT),"ardu"!==this.workspace.device&&this.appendValueInput("COL").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.DISPLAY_COL),this.appendValueInput("ROW").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.DISPLAY_ROW),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.DISPLAY_TEXT_TOOLTIP)}},Blockly.Blocks.robActions_display_clear={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendDummyInput().appendField(Blockly.Msg.DISPLAY_CLEAR),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.DISPLAY_CLEAR_TOOLTIP)}},Blockly.Blocks.robActions_display_matrix={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=[];this.appendDummyInput().appendField(Blockly.Msg.DISPLAY_SHOW+" "+Blockly.Msg.DISPLAY_PICTURE);for(var t=0;8>t;t++){for(var o=0;8>o;o++)e.push(new Blockly.FieldCheckbox);this.appendDummyInput().appendField(e[8*t],"POINT"+8*t).appendField(e[8*t+1],"POINT"+(8*t+1)).appendField(e[8*t+2],"POINT"+(8*t+2)).appendField(e[8*t+3],"POINT"+(8*t+3)).appendField(e[8*t+4],"POINT"+(8*t+4)).appendField(e[8*t+5],"POINT"+(8*t+5)).appendField(e[8*t+6],"POINT"+(8*t+6)).appendField(e[8*t+7],"POINT"+(8*t+7))}this.setPreviousStatement(!0),this.setNextStatement(!0)}},Blockly.Blocks.robActions_play_tone={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendValueInput("FREQUENCE").appendField(Blockly.Msg.PLAY).appendField(Blockly.Msg.PLAY_FREQUENZ).setCheck("Number"),this.appendValueInput("DURATION").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.PLAY_DURATION),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.PLAY_TONE_TOOLTIP)}},Blockly.Blocks.robActions_play_file={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([["1","0"],["2","1"],["3","2"],["4","3"],["5","4"]]);this.appendDummyInput().appendField(Blockly.Msg.PLAY+" "+Blockly.Msg.PLAY_FILE).appendField(e,"FILE"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.PLAY_FILE_TOOLTIP)}},Blockly.Blocks.robActions_play_setVolume={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendValueInput("VOLUME").appendField(Blockly.Msg.SET+" "+Blockly.Msg.PLAY_VOLUME).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.PLAY_SETVOLUME_TOOLTIP)}},Blockly.Blocks.robActions_play_getVolume={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendDummyInput().appendField(Blockly.Msg.GET+" "+Blockly.Msg.PLAY_VOLUME),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.PLAY_GETVOLUME_TOOLTIP)}},Blockly.Blocks.robActions_brickLight_on={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.BRICKLIGHT_GREEN,"GREEN"],[Blockly.Msg.BRICKLIGHT_ORANGE,"ORANGE"],[Blockly.Msg.BRICKLIGHT_RED,"RED"]]);if(this.appendDummyInput().appendField(Blockly.Msg.BRICKLIGHT),"ardu"===this.workspace.device)var t=new Blockly.FieldDropdown([[Blockly.Msg.BRICKLIGHT_ON,"ON"],[Blockly.Msg.OFF,"OFF"]]);else t=new Blockly.FieldDropdown([[Blockly.Msg.BRICKLIGHT_ON,"ON"],[Blockly.Msg.BRICKLIGHT_FLASH,"FLASH"],[Blockly.Msg.BRICKLIGHT_DOUBLE_FLASH,"DOUBLE_FLASH"]]),this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.BRICKLIGHT_COLOR).appendField(e,"SWITCH_COLOR");this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.MOD).appendField(t,"SWITCH_BLINK"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.BRICKLIGHT_ON_TOOLTIP)}},Blockly.Blocks.robActions_sensorLight_on={init:function(){var e=new Blockly.FieldDropdown([["Port 1","1"],["Port 2","2"],["Port 3","3"],["Port 4","4"]]);this.setColour(Blockly.CAT_ACTION_RGB);var t=new Blockly.FieldDropdown([[Blockly.Msg.BRICKLIGHT_RED,"RED"],[Blockly.Msg.BRICKLIGHT_GREEN,"GREEN"],[Blockly.Msg.BRICKLIGHT_BLUE,"BLUE"]]),o=new Blockly.FieldDropdown([[Blockly.Msg.ON,"ON"],[Blockly.Msg.OFF,"OFF"]]);this.appendDummyInput().appendField(Blockly.Msg.SET).appendField(Blockly.Msg.SENSOR_COLOUR),this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.BRICKLIGHT_COLOR).appendField(t,"SWITCH_COLOR"),this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.MOD).appendField(o,"SWITCH_STATE"),this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField(e,"SENSORPORT"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.BRICKLIGHT_ON_TOOLTIP)}};Blockly.Blocks.robActions_brickLight_off={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendDummyInput().appendField(Blockly.Msg.BRICKLIGHT).appendField(Blockly.Msg.OFF),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.BRICKLIGHT_OFF_TOOLTIP)}};Blockly.Blocks.robActions_brickLight_reset={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendDummyInput().appendField(Blockly.Msg.SENSOR_RESET).appendField(Blockly.Msg.BRICKLIGHT).appendField(Blockly.Msg.SENSOR_RESET_II),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.BRICKLIGHT_RESET_TOOLTIP)}},Blockly.Blocks.robBrick={},Blockly.Blocks["robBrick_EV3-Brick"]={init:function(){this.setColour("#BBBBBB"),this.setInputsInline(!1);var e=new Blockly.FieldTextInput("0",Blockly.FieldTextInput.nonnegativeNumberValidator),t=new Blockly.FieldTextInput("0",Blockly.FieldTextInput.nonnegativeNumberValidator);this.appendDummyInput().appendField(new Blockly.FieldLabel(this.workspace.device.toUpperCase(),"brick_label")),this.appendDummyInput().appendField(Blockly.Msg.BRICK_WHEEL_DIAMETER).appendField(e,"WHEEL_DIAMETER").appendField("cm"),this.appendDummyInput().appendField(Blockly.Msg.BRICK_TRACK_WIDTH).appendField(t,"TRACK_WIDTH").appendField("cm"),this.appendValueInput("S1").appendField("Sensor 1").setAlign(Blockly.ALIGN_RIGHT).setCheck("Sensor"),this.appendValueInput("S2").appendField("Sensor 2").setAlign(Blockly.ALIGN_RIGHT).setCheck("Sensor"),this.appendValueInput("S3").appendField("Sensor 3").setAlign(Blockly.ALIGN_RIGHT).setCheck("Sensor"),this.appendValueInput("S4").appendField("Sensor 4").setAlign(Blockly.ALIGN_RIGHT).setCheck("Sensor"),this.appendValueInput("MA").appendField("Motor A").setAlign(Blockly.ALIGN_RIGHT).setCheck("Actor"),this.appendValueInput("MB").appendField("Motor B").setAlign(Blockly.ALIGN_RIGHT).setCheck("Actor"),this.appendValueInput("MC").appendField("Motor C").setAlign(Blockly.ALIGN_RIGHT).setCheck("Actor"),"ev3"===this.workspace.device?(this.appendValueInput("MD").appendField("Motor D").setAlign(Blockly.ALIGN_RIGHT).setCheck("Actor"),this.setTooltip(Blockly.Msg.EV3BRICK_TOOLTIP)):this.setTooltip(Blockly.Msg.NXTBRICK_TOOLTIP),this.setDeletable(!1)}},Blockly.Blocks["robBrick_ardu-Brick"]={init:function(){this.setColour("#BBBBBB"),this.setInputsInline(!1),this.appendDummyInput().appendField(new Blockly.FieldLabel("Bot'n Roll","brick_label")),this.appendValueInput("S1").appendField(Blockly.Msg.MOTOR_LEFT).setAlign(Blockly.ALIGN_RIGHT).setCheck("Sensor"),this.appendValueInput("S2").appendField(Blockly.Msg.MOTOR_RIGHT).setAlign(Blockly.ALIGN_RIGHT).setCheck("Sensor"),
this.appendValueInput("MB").appendField(Blockly.Msg.MOTOR_LEFT).setAlign(Blockly.ALIGN_RIGHT).setCheck("Actor"),this.appendValueInput("MA").appendField(Blockly.Msg.MOTOR_RIGHT).setAlign(Blockly.ALIGN_RIGHT).setCheck("Actor"),this.appendDummyInput().appendField("Line Follower").setAlign(Blockly.ALIGN_CENTER),this.appendValueInput("S3").appendField("0 - 7").setAlign(Blockly.ALIGN_RIGHT).setCheck("Sensor"),this.appendValueInput("S4").setAlign(Blockly.ALIGN_RIGHT).setCheck("Sensor"),this.appendDummyInput().appendField("Rescue Module").setAlign(Blockly.ALIGN_CENTER),this.appendValueInput("S5").appendField(Blockly.Msg.MOTOR_LEFT).setAlign(Blockly.ALIGN_RIGHT).setCheck("Sensor"),this.appendValueInput("S6").appendField(Blockly.Msg.CENTER).setAlign(Blockly.ALIGN_RIGHT).setCheck("Sensor"),this.appendValueInput("S7").appendField(Blockly.Msg.MOTOR_RIGHT).setAlign(Blockly.ALIGN_RIGHT).setCheck("Sensor"),this.appendValueInput("S8").appendField(Blockly.Msg.MOTOR_LEFT).setAlign(Blockly.ALIGN_RIGHT).setCheck("Sensor"),this.appendValueInput("S9").appendField(Blockly.Msg.MOTOR_RIGHT).setAlign(Blockly.ALIGN_RIGHT).setCheck("Sensor"),this.appendDummyInput().appendField("Extra 'B' Search Rescue").setAlign(Blockly.ALIGN_CENTER),this.appendValueInput("S10").appendField(Blockly.Msg.SENSOR_SONAR).setAlign(Blockly.ALIGN_RIGHT).setCheck("Sensor"),this.appendValueInput("MC").appendField(Blockly.Msg.MOTOR_PAN).setAlign(Blockly.ALIGN_RIGHT).setCheck("Actor"),this.appendValueInput("MD").appendField(Blockly.Msg.MOTOR_TILT).setAlign(Blockly.ALIGN_RIGHT).setCheck("Actor"),this.setTooltip(Blockly.Msg.ARDUBRICK_TOOLTIP),this.setDeletable(!1)}},Blockly.Blocks.robBrick_ultrasonic={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB),this.appendDummyInput().appendField(Blockly.Msg.SENSOR_ULTRASONIC),this.setOutput(!0,"Sensor"),this.setTooltip(Blockly.Msg.ULTRASONIC_TOOLTIP)}},Blockly.Blocks.robBrick_ultrasonic_ardu={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB),this.appendDummyInput().appendField(Blockly.Msg.SENSOR_ULTRASONIC).appendField(Blockly.Msg.MOTOR_LEFT+" | "+Blockly.Msg.CENTER+" | "+Blockly.Msg.MOTOR_RIGHT),this.setOutput(!0,"Sensor"),this.setTooltip(Blockly.Msg.ULTRASONIC_TOOLTIP)}},Blockly.Blocks.robBrick_colour={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB),this.appendDummyInput().appendField(Blockly.Msg.SENSOR_COLOUR),this.setOutput(!0,"Sensor"),this.setTooltip(Blockly.Msg.COLOUR_TOOLTIP)}},Blockly.Blocks.robBrick_light={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB),this.setOutput(!0,"Sensor"),this.appendDummyInput().appendField(Blockly.Msg.SENSOR_LIGHT),this.setTooltip(Blockly.Msg.LIGHT_TOOLTIP)}},Blockly.Blocks.robBrick_infrared={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB),this.appendDummyInput().appendField(Blockly.Msg.SENSOR_INFRARED),this.setOutput(!0,"Sensor"),this.setTooltip(Blockly.Msg.INFRARED_TOOLTIP)}},Blockly.Blocks.robBrick_touch={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB),this.appendDummyInput().appendField(Blockly.Msg.SENSOR_TOUCH),this.setOutput(!0,"Sensor"),this.setTooltip(Blockly.Msg.TOUCH_TOOLTIP)}},Blockly.Blocks.robBrick_compass={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB),this.appendDummyInput().appendField(Blockly.Msg.SENSOR_COMPASS),this.setOutput(!0,"Sensor"),this.setTooltip(Blockly.Msg.COMPASS_TOOLTIP)}},Blockly.Blocks.robBrick_gyro={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB),this.appendDummyInput().appendField(Blockly.Msg.SENSOR_GYRO),this.setOutput(!0,"Sensor"),this.setTooltip(Blockly.Msg.GYRO_TOOLTIP)}},Blockly.Blocks.robBrick_sound={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB),this.appendDummyInput().appendField(Blockly.Msg.SENSOR_SOUND),this.setOutput(!0,"Sensor"),this.setTooltip(Blockly.Msg.SOUND_TOOLTIP),this.data="nxt"}},Blockly.Blocks.robBrick_motor_big={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.YES,"TRUE"],[Blockly.Msg.NO,"FALSE"]]),t=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_FOREWARD,"OFF"],[Blockly.Msg.MOTOR_BACKWARD,"ON"]]),o=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_NONE,"NONE"],[Blockly.Msg.MOTOR_RIGHT,"RIGHT"],[Blockly.Msg.MOTOR_LEFT,"LEFT"]]);this.appendDummyInput().appendField(Blockly.Msg.MOTOR_BIG+" "+Blockly.Msg.MOTOR),this.appendDummyInput().appendField(Blockly.Msg.MOTOR_REGULATION).appendField(e,"MOTOR_REGULATION").setAlign(Blockly.ALIGN_RIGHT),this.appendDummyInput().appendField(Blockly.Msg.MOTOR_ROTATION_REVERSE).appendField(t,"MOTOR_REVERSE").setAlign(Blockly.ALIGN_RIGHT),this.appendDummyInput().appendField(Blockly.Msg.MOTOR_SIDE).appendField(o,"MOTOR_DRIVE").setAlign(Blockly.ALIGN_RIGHT),this.setOutput(!0,"Actor"),this.setTooltip(Blockly.Msg.MOTOR_BIG_TOOLTIP)}},Blockly.Blocks.robBrick_motor_middle={init:function(){this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.YES,"TRUE"],[Blockly.Msg.NO,"FALSE"]]),t=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_FOREWARD,"OFF"],[Blockly.Msg.MOTOR_BACKWARD,"ON"]]);"ardu"===this.workspace.device?this.appendDummyInput().appendField(Blockly.Msg.MOTOR):this.appendDummyInput().appendField(Blockly.Msg.MOTOR_MIDDLE+" "+Blockly.Msg.MOTOR),this.appendDummyInput().appendField(Blockly.Msg.MOTOR_REGULATION).appendField(e,"MOTOR_REGULATION").setAlign(Blockly.ALIGN_RIGHT),this.appendDummyInput().appendField(Blockly.Msg.MOTOR_ROTATION_REVERSE).appendField(t,"MOTOR_REVERSE").setAlign(Blockly.ALIGN_RIGHT),this.setOutput(!0,"Actor"),this.setTooltip(Blockly.Msg.MOTOR_MIDDLE_TOOLTIP)}},Blockly.Blocks.robBrick_motor_ardu={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendDummyInput().appendField(Blockly.Msg.MOTOR),this.setOutput(!0,"Actor"),this.setTooltip(Blockly.Msg.MOTOR_ARDU_TOOLTIP)}},Blockly.Blocks.robBrick_actor={init:function(){this.setColour(Blockly.CAT_ACTION_RGB),this.appendDummyInput("ACTOR").appendField(Blockly.Msg.MOTOR_OTHER),this.setOutput(!0,"Actor"),this.setTooltip(Blockly.Msg.ACTOR_TOOLTIP)}},Blockly.Blocks.robColour={},Blockly.Blocks.robColour_picker={init:function(){this.setHelpUrl(Blockly.Msg.COLOUR_PICKER_HELPURL),this.setColour(Blockly.CAT_COLOUR_RGB);var e=new Blockly.FieldColour("#585858");"nxt"===this.workspace.device?(Blockly.FieldColour.COLUMNS=7,Blockly.FieldColour.COLOURS="#585858 #000000 #0057a6 #00642e #f7d117 #b30006 #FFFFFF".split(" "),this.data="nxt"):(Blockly.FieldColour.COLUMNS=8,Blockly.FieldColour.COLOURS="#585858 #000000 #0057a6 #00642e #f7d117 #b30006 #FFFFFF #532115".split(" "),this.data="ev3"),this.appendDummyInput().appendField(e,"COLOUR"),this.setOutput(!0,"Colour"),this.setTooltip(Blockly.Msg.COLOUR_PICKER_TOOLTIP)}},Blockly.Blocks.robCommunication={},Blockly.Blocks.robCommunication_startConnection={init:function(){this.setColour(Blockly.CAT_COMMUNICATION_RGB),this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0,"Connection"),this.appendValueInput("ADDRESS").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.CONNECTION_CONNECT).setCheck("String"),this.setInputsInline(!0),this.setTooltip(Blockly.Msg.CONNECTION_START_TOOLTIP)}},Blockly.Blocks.robCommunication_sendBlock={init:function(){this.setColour(Blockly.CAT_COMMUNICATION_RGB);var e=new Blockly.FieldDropdown([["Bluetooth","BLUETOOTH"]]);if("nxt"===this.workspace.device){var t=new Blockly.FieldDropdown([[Blockly.Msg.VARIABLES_TYPE_NUMBER,"Number"],[Blockly.Msg.VARIABLES_TYPE_BOOLEAN,"Boolean"],[Blockly.Msg.VARIABLES_TYPE_STRING,"String"]],function(e){e&&this.sourceBlock_.getFieldValue("TYPE")!==e&&this.sourceBlock_.updateType_(e)}),o=new Blockly.FieldDropdown([["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"]]);this.dataType_="Number",this.data="nxt"}else t=new Blockly.FieldDropdown([[Blockly.Msg.VARIABLES_TYPE_STRING,"String"]]),this.dataType_="String",this.data="ev3";this.appendValueInput("sendData").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.CONNECTION_SEND_DATA).appendField(t,"TYPE").setCheck(this.dataType_),this.appendDummyInput().appendField("via").setAlign(Blockly.ALIGN_RIGHT).appendField(e,"PROTOCOL"),o?this.appendValueInput("CONNECTION").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.CONNECTION_OVER_CHANNEL).appendField(o,"CHANNEL").appendField(Blockly.Msg.CONNECTION_TO_ROBOT).setCheck("Connection"):this.appendValueInput("CONNECTION").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.CONNECTION_TO_CONNECTION).setCheck("Connection"),this.setTooltip(Blockly.Msg.CONNECTION_SEND_TOOLTIP),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setInputsInline(!1)},mutationToDom:function(){if(void 0===this.dataType_)return!1;var e=document.createElement("mutation");return e.setAttribute("datatype",this.dataType_),e},domToMutation:function(e){(this.dataType_=e.getAttribute("datatype"))&&this.getInput("sendData").setCheck(this.dataType_)},updateType_:function(e){this.dataType_=e,this.getInput("sendData").setCheck(this.dataType_)}},Blockly.Blocks.robCommunication_receiveBlock={init:function(){this.setColour(Blockly.CAT_COMMUNICATION_RGB);var e=new Blockly.FieldDropdown([["Bluetooth","BLUETOOTH"]]);if("nxt"===this.workspace.device){var t=new Blockly.FieldDropdown([[Blockly.Msg.VARIABLES_TYPE_NUMBER,"Number"],[Blockly.Msg.VARIABLES_TYPE_BOOLEAN,"Boolean"],[Blockly.Msg.VARIABLES_TYPE_STRING,"String"]],function(e){e&&this.sourceBlock_.getFieldValue("TYPE")!==e&&this.sourceBlock_.updateType_(e)}),o=new Blockly.FieldDropdown([["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"]]);this.dataType_="Number",this.data="nxt"}else t=new Blockly.FieldDropdown([[Blockly.Msg.VARIABLES_TYPE_STRING,"String"]]),this.dataType_="String",this.data="ev3";this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.CONNECTION_RECEIVED_DATA).appendField(t,"TYPE"),this.appendDummyInput().appendField("via").setAlign(Blockly.ALIGN_RIGHT).appendField(e,"PROTOCOL"),o?this.appendValueInput("CONNECTION").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.CONNECTION_OVER_CHANNEL).appendField(o,"CHANNEL").appendField(Blockly.Msg.CONNECTION_FROM_ROBOT).setCheck("Connection"):this.appendValueInput("CONNECTION").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.CONNECTION_TO_CONNECTION).setCheck("Connection"),this.setOutput(!0,this.dataType_),this.setTooltip(Blockly.Msg.CONNECTION_RECEIVE_TOOLTIP),this.setInputsInline(!1)},mutationToDom:function(){if(void 0===this.dataType_)return!1;var e=document.createElement("mutation");return e.setAttribute("datatype",this.dataType_),e},domToMutation:function(e){(this.dataType_=e.getAttribute("datatype"))&&this.setOutput(!0,this.dataType_)},updateType_:function(e){this.dataType_=e,this.setOutput(!0,this.dataType_)}},Blockly.Blocks.robCommunication_waitForConnection={init:function(){this.setColour(Blockly.CAT_COMMUNICATION_RGB),this.appendDummyInput("").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.CONNECTION_WAIT_FOR_CONNECTION),this.setOutput(!0,"Connection"),this.setTooltip(Blockly.Msg.CONNECTION_WAIT_TOOLTIP)}},Blockly.Blocks.robCommunication_connection={init:function(){if(this.setColour(Blockly.CAT_COMMUNICATION_RGB),"nxt"===this.workspace.device){var e=new Blockly.FieldDropdown([["0 Master","0"],["1 Slave","1"],["2 Slave","2"],["3 Slave","3"]]);this.data="nxt",this.appendDummyInput().appendField(e,"CONNECTION")}this.setOutput(!0,"Connection"),this.setTooltip(Blockly.Msg.CONNECTION_TOOLTIP)}},Blockly.Blocks.robCommunication_checkConnection={init:function(){this.jsonInit({message0:Blockly.Msg.CONNECTION_CHECK,args0:[{type:"input_value",name:"CONNECTION",check:"Connection"}],output:"Boolean",colour:Blockly.CAT_COMMUNICATION_RGB,tooltip:Blockly.Msg.CONNECTION_TOOLTIP})}},Blockly.Blocks.robControls={},Blockly.Blocks.robControls_start={init:function(){this.setColour(Blockly.CAT_ACTIVITY_RGB);var e=new Blockly.FieldCheckbox("FALSE"),t=new Blockly.Field(Blockly.Msg.START_PROGRAM_DEBUG);"calliope"!==this.workspace.device&&"microbit"!==this.workspace.device||(e.setVisible(!1),t.setVisible(!1)),this.appendDummyInput().appendField(Blockly.Msg.START_PROGRAM).appendField("  ").appendField(e,"DEBUG").appendField(t),this.declare_=!1,this.setPreviousStatement(!1),this.setNextStatement(!0),this.setDeletable(!1),this.setMutatorPlus(new Blockly.MutatorPlus(["robControls_start"])),this.setTooltip(Blockly.Msg.START_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("declare",1==this.declare_),e},domToMutation:function(e){(this.declare_="false"!=e.getAttribute("declare"))&&(this.appendStatementInput("ST"),this.getInput("ST").connection.setCheck("declaration_only"))},updateShape_:function(e){if(1==e){this.declare_||(this.appendStatementInput("ST"),this.getInput("ST").connection.setCheck("declaration_only"),this.declare_=!0),e=this.workspace.newBlock("robGlobalVariables_declare"),e.initSvg(),e.render();var t=e.getInput("VALUE"),o=this.workspace.newBlock("math_number");if(o.initSvg(),o.render(),t.connection.connect(o.outputConnection),this.getInput("ST").connection.targetConnection){if(o=this.getInput("ST").connection.targetConnection.sourceBlock_)for(;o.getNextBlock();)o=o.getNextBlock();o.setNext(!0),t=o.nextConnection}else t=this.getInput("ST").connection;t.connect(e.previousConnection)}else-1==e&&(this.removeInput("ST"),this.declare_=!1)}},Blockly.Blocks.robControls_start_ardu={init:function(){this.setColour(Blockly.CAT_ACTIVITY_RGB),this.appendDummyInput().appendField(Blockly.Msg.START_PROGRAM).appendField("  ").appendField(new Blockly.FieldCheckbox("FALSE"),"DEBUG").appendField(Blockly.Msg.START_PROGRAM_DEBUG),this.declare_=!1,this.setPreviousStatement(!1),this.setNextStatement(!0,"ardu"),this.setDeletable(!1),this.setMutatorPlus(new Blockly.MutatorPlus(["robControls_start_ardu"])),this.setTooltip(Blockly.Msg.START_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("declare",1==this.declare_),e},domToMutation:function(e){(this.declare_="false"!=e.getAttribute("declare"))&&(this.appendStatementInput("ST"),this.getInput("ST").connection.setCheck("declaration_only"))},updateShape_:function(e){if(1==e){this.declare_||(this.appendStatementInput("ST"),this.getInput("ST").connection.setCheck("declaration_only"),this.declare_=!0),e=this.workspace.newBlock("robGlobalVariables_declare"),e.initSvg(),e.render();var t=e.getInput("VALUE"),o=this.workspace.newBlock("math_number");if(o.initSvg(),o.render(),t.connection.connect(o.outputConnection),this.getInput("ST").connection.targetConnection){if(o=this.getInput("ST").connection.targetConnection.sourceBlock_)for(;o.getNextBlock();)o=o.getNextBlock();o.setNext(!0),t=o.nextConnection}else t=this.getInput("ST").connection;t.connect(e.previousConnection)}else-1==e&&(this.removeInput("ST"),this.declare_=!1)}},Blockly.Blocks.robControls_activity={init:function(){this.setColour(Blockly.CAT_ACTIVITY_RGB),this.appendDummyInput().appendField(new Blockly.FieldTextInput(Blockly.Msg.START_ACTIVITY,Blockly.Procedures.rename),"ACTIVITY"),this.setPreviousStatement(!1),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.ACTIVITY_TOOLTIP)}},Blockly.Blocks.robControls_start_activity={init:function(){this.setColour(Blockly.CAT_ACTIVITY_RGB),this.appendDummyInput().appendField(Blockly.Msg.START).appendField(new Blockly.FieldTextInput(Blockly.Msg.START_ACTIVITY,Blockly.Procedures.rename),"ACTIVITY"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.START_ACTIVITY_TOOLTIP)}},Blockly.Blocks.robControls_wait={init:function(){this.setColour(Blockly.CAT_CONTROL_RGB),this.appendValueInput("WAIT0").appendField(Blockly.Msg.WAIT_UNTIL).setCheck("Boolean"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.waitCount_=0,this.setMutatorPlus(new Blockly.MutatorPlus(this)),this.setTooltip(Blockly.Msg.WAIT_TOOLTIP)},mutationToDom:function(){if(!this.waitCount_)return null;var e=document.createElement("mutation");return this.waitCount_&&e.setAttribute("wait",this.waitCount_),e},domToMutation:function(e){for(this.waitCount_=parseInt(e.getAttribute("wait"),10),e=1;e<=this.waitCount_;e++)1==e&&this.appendStatementInput("DO0").appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO),this.appendValueInput("WAIT"+e).appendField(Blockly.Msg.CONTROLS_WAIT_OR).setCheck("Boolean"),this.appendStatementInput("DO"+e).appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO);1<=this.waitCount_&&this.setMutatorMinus(new Blockly.MutatorMinus(this))},updateShape_:function(e){Blockly.dragMode_=Blockly.DRAG_NONE,1==e?(this.waitCount_++,1==this.waitCount_&&this.appendStatementInput("DO0").appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO),this.appendValueInput("WAIT"+this.waitCount_).appendField(Blockly.Msg.WAIT_OR).setCheck("Boolean"),this.appendStatementInput("DO"+this.waitCount_).appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO)):-1==e&&((e=this.getInputTargetBlock("DO"+this.waitCount_))&&(e.unplug(),e.bumpNeighbours_()),(e=this.getInputTargetBlock("WAIT"+this.waitCount_))&&(e.unplug(),e.bumpNeighbours_()),this.removeInput("DO"+this.waitCount_),this.removeInput("WAIT"+this.waitCount_),this.waitCount_--,0==this.waitCount_&&this.removeInput("DO0"),this.itemCount_--,this.removeInput("ADD"+this.itemCount_)),1<=this.waitCount_?1==this.waitCount_&&(this.setMutatorMinus(new Blockly.MutatorMinus(this)),this.render()):(this.mutatorMinus.dispose(),this.mutatorMinus=null,this.render())}},Blockly.Blocks.robControls_wait_time={init:function(){this.setColour(Blockly.CAT_CONTROL_RGB),this.appendValueInput("WAIT").appendField(Blockly.Msg.WAIT).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.WAIT_TIME_TOOLTIP)}},Blockly.Blocks.robControls_wait_for={init:function(){this.setColour(Blockly.CAT_CONTROL_RGB),this.appendValueInput("WAIT0").appendField(Blockly.Msg.WAIT_UNTIL).setCheck("Boolean"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.waitCount_=0,this.setMutatorPlus(new Blockly.MutatorPlus(this)),this.setTooltip(Blockly.Msg.WAIT_FOR_TOOLTIP)},mutationToDom:function(){if(!this.waitCount_)return null;var e=document.createElement("mutation");return this.waitCount_&&e.setAttribute("wait",this.waitCount_),e},domToMutation:function(e){for(this.waitCount_=parseInt(e.getAttribute("wait"),10),e=1;e<=this.waitCount_;e++)1==e&&this.appendStatementInput("DO0").appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO),this.appendValueInput("WAIT"+e).appendField(Blockly.Msg.WAIT_OR).setCheck("Boolean"),this.appendStatementInput("DO"+e).appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO);1<=this.waitCount_&&this.setMutatorMinus(new Blockly.MutatorMinus(this))},updateShape_:function(e){if(Blockly.dragMode_=Blockly.DRAG_NONE,1==e){this.waitCount_++,1==this.waitCount_&&this.appendStatementInput("DO0").appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO),this.appendValueInput("WAIT"+this.waitCount_).appendField(Blockly.Msg.WAIT_OR).setCheck("Boolean"),this.appendStatementInput("DO"+this.waitCount_).appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO),e=this.workspace.newBlock("logic_compare"),e.initSvg(),e.render(),e.updateShape("BOOL");var t=this.getInput("WAIT"+this.waitCount_).connection;t.connect(e.outputConnection);var o="ardu"===this.workspace.device?this.workspace.newBlock("robSensors_getSample_ardu"):this.workspace.newBlock("robSensors_getSample");o.initSvg(),o.render(),t=e.getInput("A").connection,t.connect(o.outputConnection),o=this.workspace.newBlock("logic_boolean"),o.initSvg(),o.render(),t=e.getInput("B").connection,t.connect(o.outputConnection)}else-1==e&&((e=this.getInputTargetBlock("DO"+this.waitCount_))&&(e.unplug(),e.bumpNeighbours_()),(e=this.getInputTargetBlock("WAIT"+this.waitCount_))&&(e.unplug(),e.bumpNeighbours_()),this.removeInput("DO"+this.waitCount_),this.removeInput("WAIT"+this.waitCount_),this.waitCount_--,0==this.waitCount_&&this.removeInput("DO0"));1<=this.waitCount_?1==this.waitCount_&&(this.setMutatorMinus(new Blockly.MutatorMinus(this)),this.render()):(this.mutatorMinus.dispose(),this.mutatorMinus=null,this.render())}},Blockly.Blocks.robControls_loopForever={init:function(){this.setColour(Blockly.CAT_CONTROL_RGB);var e=new Blockly.FieldLabel(Blockly.Msg.LOOP_FOREVER);this.appendDummyInput().appendField(e,"TITLE_FOREVER"),this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.LOOPFOREVER_TOOLTIP)}},Blockly.Blocks.robControls_loopForever_ardu={init:function(){this.setColour(Blockly.CAT_ACTIVITY_RGB);var e=new Blockly.FieldLabel(Blockly.Msg.LOOP_FOREVER);this.appendDummyInput().appendField(e,"TITLE_FOREVER"),this.appendStatementInput("DO").appendField(Blockly.Msg.CONTROLS_REPEAT_INPUT_DO),this.setPreviousStatement(!0,"ardu"),this.setNextStatement(!1),this.setDeletable(!1),this.setMovable(!1),this.setTooltip(Blockly.Msg.LOOPFOREVER_TOOLTIP)}},Blockly.Blocks.robSensors={},Blockly.Blocks.robSensors_getSample={init:function(){if(this.setColour(Blockly.CAT_SENSOR_RGB),new Blockly.FieldDropdown([["Port 1","1"],["Port 2","2"],["Port 3","3"],["Port 4","4"]]),"nxt"===this.workspace.device){var e=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_TOUCH+Blockly.Msg.SENSOR_PRESSED,"TOUCH"],[Blockly.Msg.MODE_SOUND+" "+Blockly.Msg.SENSOR_SOUND,"SOUND_SOUND"],[Blockly.Msg.MODE_LIGHT+" "+Blockly.Msg.SENSOR_LIGHT,"LIGHT_LIGHT"],[Blockly.Msg.MODE_AMBIENTLIGHT+" "+Blockly.Msg.SENSOR_LIGHT,"LIGHT_AMBIENTLIGHT"],[Blockly.Msg.MODE_DISTANCE+" "+Blockly.Msg.SENSOR_ULTRASONIC,"ULTRASONIC_DISTANCE"],[Blockly.Msg.MODE_ROTATION+" "+Blockly.Msg.SENSOR_ENCODER,"ENCODER_ROTATION"],[Blockly.Msg.MODE_DEGREE+" "+Blockly.Msg.SENSOR_ENCODER,"ENCODER_DEGREE"],[Blockly.Msg.SENSOR_KEY+" "+Blockly.Msg.SENSOR_PRESSED,"KEYS_PRESSED"],[Blockly.Msg.MODE_COLOUR+" "+Blockly.Msg.SENSOR_COLOUR,"COLOUR_COLOUR"],[Blockly.Msg.MODE_LIGHT+" "+Blockly.Msg.SENSOR_COLOUR,"COLOUR_LIGHT"],[Blockly.Msg.MODE_AMBIENTLIGHT+" "+Blockly.Msg.SENSOR_COLOUR,"COLOUR_AMBIENTLIGHT"]],function(e){e&&this.sourceBlock_.getFieldValue("SENSORTYPE")!==e&&this.sourceBlock_.updateShape_(e)});this.data="nxt",this.sensorType_="TOUCH",this.setOutput(!0,"Boolean")}else e=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_TOUCH+Blockly.Msg.SENSOR_PRESSED,"TOUCH"],[Blockly.Msg.MODE_DISTANCE+" "+Blockly.Msg.SENSOR_ULTRASONIC,"ULTRASONIC_DISTANCE"],[Blockly.Msg.MODE_PRESENCE+" "+Blockly.Msg.SENSOR_ULTRASONIC,"ULTRASONIC_PRESENCE"],[Blockly.Msg.MODE_COLOUR+" "+Blockly.Msg.SENSOR_COLOUR,"COLOUR_COLOUR"],[Blockly.Msg.MODE_LIGHT+" "+Blockly.Msg.SENSOR_COLOUR,"COLOUR_LIGHT"],[Blockly.Msg.MODE_AMBIENTLIGHT+" "+Blockly.Msg.SENSOR_COLOUR,"COLOUR_AMBIENTLIGHT"],[Blockly.Msg.MODE_DISTANCE+" "+Blockly.Msg.SENSOR_INFRARED,"INFRARED_DISTANCE"],[Blockly.Msg.MODE_ROTATION+" "+Blockly.Msg.SENSOR_ENCODER,"ENCODER_ROTATION"],[Blockly.Msg.MODE_DEGREE+" "+Blockly.Msg.SENSOR_ENCODER,"ENCODER_DEGREE"],[Blockly.Msg.SENSOR_KEY+" "+Blockly.Msg.SENSOR_PRESSED,"KEYS_PRESSED"],[Blockly.Msg.MODE_ANGLE+" "+Blockly.Msg.SENSOR_GYRO,"GYRO_ANGLE"],[Blockly.Msg.MODE_RATE+" "+Blockly.Msg.SENSOR_GYRO,"GYRO_RATE"],[Blockly.Msg.SENSOR_TIME,"TIME"]],function(e){e&&this.sourceBlock_.getFieldValue("SENSORTYPE")!==e&&this.sourceBlock_.updateShape_(e)}),this.data="ev3",this.sensorType_="TOUCH";this.appendDummyInput("DROPDOWN").appendField(Blockly.Msg.GET,"GET").appendField(e,"SENSORTYPE"),this.setTooltip(Blockly.Msg.GETSAMPLE_TOOLTIP),this.setMovable(!1),this.setDeletable(!1),this.updateShape_(this.sensorType_)},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("input",this.sensorType_),e},domToMutation:function(e){this.sensorType_=e.getAttribute("input"),this.updateShape_(this.sensorType_)},updateShape_:function(e){this.sensorType_=e;var t=new Blockly.FieldDropdown([["Port 1","1"],["Port 2","2"],["Port 3","3"],["Port 4","4"]]);if("nxt"===this.workspace.device){e=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_KEY_ENTER,"ENTER"],[Blockly.Msg.SENSOR_KEY_LEFT,"LEFT"],[Blockly.Msg.SENSOR_KEY_RIGHT,"RIGHT"]]);var o=new Blockly.FieldDropdown([["Motor Port A","A"],["Motor Port B","B"],["Motor Port C","C"]]),n=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_TIMER+" 1","1"]]);this.data="nxt"}else e=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_KEY_ENTER,"ENTER"],[Blockly.Msg.SENSOR_KEY_UP,"UP"],[Blockly.Msg.SENSOR_KEY_DOWN,"DOWN"],[Blockly.Msg.SENSOR_KEY_LEFT,"LEFT"],[Blockly.Msg.SENSOR_KEY_RIGHT,"RIGHT"],[Blockly.Msg.SENSOR_KEY_ESCAPE,"ESCAPE"],[Blockly.Msg.SENSOR_KEY_ANY,"ANY"]]),o=new Blockly.FieldDropdown([["Motor Port A","A"],["Motor Port B","B"],["Motor Port C","C"],["Motor Port D","D"]]),n=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_TIMER+" 1","1"],[Blockly.Msg.SENSOR_TIMER+" 2","2"],[Blockly.Msg.SENSOR_TIMER+" 3","3"],[Blockly.Msg.SENSOR_TIMER+" 4","4"],[Blockly.Msg.SENSOR_TIMER+" 5","5"]]),this.data="ev3";for(var i,l=this.getInput("DROPDOWN"),s=[],r=0;i=l.fieldRow[r];r++)"SENSORTYPE"!==i.name&&"GET"!==i.name&&s.push(i.name);for(r=0;r<s.length;r++)l.removeField(s[r]);"ENCODER_ROTATION"==this.sensorType_?(l.appendField(o,"MOTORPORT"),this.appendValue_("NUM_REV",2),this.setOutput(!0,"Number")):"ENCODER_DEGREE"==this.sensorType_?(l.appendField(o,"MOTORPORT"),this.appendValue_("NUM_REV",180),this.setOutput(!0,"Number")):"KEYS_PRESSED"==this.sensorType_?(l.appendField(e,"KEY"),this.appendValue_("BOOL"),this.setOutput(!0,"Boolean")):"TIME"==this.sensorType_?(l.appendField(Blockly.Msg.SENSOR_MS_TIMER).appendField(n,"SENSORNUM"),this.appendValue_("NUM_REV",500),this.setOutput(!0,"Number")):(l.appendField(t,"SENSORPORT"),"TOUCH"==this.sensorType_?(this.appendValue_("BOOL"),this.setOutput(!0,"Boolean")):"SOUND_SOUND"==this.sensorType_?(this.appendValue_("NUM_REV",50),t.setValue("2"),this.setOutput(!0,"Number")):"LIGHT_AMBIENTLIGHT"==this.sensorType_||"LIGHT_LIGHT"==this.sensorType_?(this.appendValue_("NUM",50),t.setValue("3"),this.setOutput(!0,"Number")):"GYRO_ANGLE"==this.sensorType_||"GYRO_RATE"==this.sensorType_?(this.appendValue_("NUM_REV",90),t.setValue("2"),this.setOutput(!0,"Number")):"ULTRASONIC_DISTANCE"==this.sensorType_?(this.appendValue_("NUM"),t.setValue("4"),this.setOutput(!0,"Number")):"ULTRASONIC_PRESENCE"==this.sensorType_?(this.appendValue_("BOOL"),t.setValue("4"),this.setOutput(!0,"Boolean")):"COLOUR_COLOUR"==this.sensorType_?(this.appendValue_("COLOUR"),t.setValue("3"),this.setOutput(!0,"Colour")):"COLOUR_LIGHT"==this.sensorType_||"COLOUR_AMBIENTLIGHT"==this.sensorType_?(this.appendValue_("NUM",50),t.setValue("3"),this.setOutput(!0,"Number")):"INFRARED_DISTANCE"==this.sensorType_&&(this.appendValue_("NUM"),t.setValue("4"),this.setOutput(!0,"Number")))},appendValue_:function(e,t){t=t||30;var o=this.getParent();if(o&&"logic_compare"!=o.type&&(o=null),o){if(o.getInputTargetBlock("B")&&o.getInputTargetBlock("B").dispose(),o.updateShape(e),"NUM"==e||"NUM_REV"==e){var n=this.workspace.newBlock("math_number");n.setFieldValue(t.toString(),"NUM")}else"BOOL"==e?n=this.workspace.newBlock("logic_boolean"):(n=this.workspace.newBlock("robColour_picker"),n.setFieldValue("#b30006","COLOUR"));n.initSvg(),n.render(),o.inTask||n.setInTask(!1),o.getInput("B").connection.connect(n.outputConnection)}}},Blockly.Blocks.robSensors_getSample_ardu={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.MODE_OBSTACLE+" "+Blockly.Msg.SENSOR_INFRARED,"INFRARED_OBSTACLE"],[Blockly.Msg.MODE_PRESENCE+" "+Blockly.Msg.SENSOR_INFRARED,"INFRARED_PRESENCE"],[Blockly.Msg.MODE_LIGHT+" "+Blockly.Msg.SENSOR_LIGHT,"LIGHT_LIGHT"],[Blockly.Msg.MODE_ANGLE+" "+Blockly.Msg.SENSOR_COMPASS,"COMPASS_ANGLE"],[Blockly.Msg.MODE_DISTANCE+" "+Blockly.Msg.SENSOR_ULTRASONIC,"ULTRASONIC_DISTANCE"],[Blockly.Msg.MODE_COLOUR+" "+Blockly.Msg.SENSOR_COLOUR,"COLOUR_COLOUR"],[Blockly.Msg.SENSOR_KEY+" "+Blockly.Msg.SENSOR_PRESSED,"KEYS_PRESSED"]],function(e){e&&this.sourceBlock_.getFieldValue("SENSORTYPE")!==e&&this.sourceBlock_.updateShape_(e)});this.data="ardu",this.sensorType_="INFRARED_OBSTACLE",this.appendDummyInput("DROPDOWN").appendField(Blockly.Msg.GET,"GET").appendField(e,"SENSORTYPE"),this.setTooltip(Blockly.Msg.GETSAMPLE_TOOLTIP),this.setMovable(!1),this.setDeletable(!1),this.updateShape_(this.sensorType_)},mutationToDom:Blockly.Blocks.robSensors_getSample.mutationToDom,domToMutation:Blockly.Blocks.robSensors_getSample.domToMutation,updateShape_:function(e){this.sensorType_=e,e=this.getInput("DROPDOWN");for(var t,o=[],n=0;t=e.fieldRow[n];n++)"SENSORTYPE"!==t.name&&"GET"!==t.name&&o.push(t.name);for(n=0;n<o.length;n++)e.removeField(o[n]);"INFRARED_OBSTACLE"===this.sensorType_||"INFRARED_PRESENCE"===this.sensorType_?(o=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_LEFT,"1"],[Blockly.Msg.MOTOR_RIGHT,"2"],[Blockly.Msg.BOTH,"BOTH"]]),e.appendField(o,"SENSORPORT"),this.appendValue_("BOOL"),this.setOutput(!0,"Boolean")):"ENCODER_ROTATION"===this.sensorType_||"ENCODER_DEGREE"===this.sensorType_?(o=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_LEFT,"B"],[Blockly.Msg.MOTOR_RIGHT,"C"]]),e.appendField(o,"MOTORPORT"),"ENCODER_ROTATION"===this.sensorType_?this.appendValue_("NUM_REV",2):this.appendValue_("NUM_REV",180),this.setOutput(!0,"Number")):"LIGHT_LIGHT"===this.sensorType_?(o=new Blockly.FieldDropdown([["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]]),e.appendField(o,"SENSORPORT"),this.appendValue_("NUM",50),this.setOutput(!0,"Number")):"COMPASS_ANGLE"==this.sensorType_?(o=new Blockly.FieldDropdown([["-","A"]]),o.setVisible(!1),e.appendField(o,"SENSORPORT"),this.appendValue_("NUM_REV",90),this.setOutput(!0,"Number")):"ULTRASONIC_DISTANCE"==this.sensorType_?(o=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_LEFT,"0"],[Blockly.Msg.CENTER,"1"],[Blockly.Msg.MOTOR_RIGHT,"2"],[Blockly.Msg.SENSOR_SONAR,"3"]]),e.appendField(o,"SENSORPORT"),this.appendValue_("NUM"),this.setOutput(!0,"Number")):"COLOUR_COLOUR"==this.sensorType_?(o=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_LEFT,"1"],[Blockly.Msg.MOTOR_RIGHT,"2"]]),e.appendField(o,"SENSORPORT"),this.appendValue_("COLOUR"),this.setOutput(!0,"Colour")):"KEYS_PRESSED"==this.sensorType_&&(o=new Blockly.FieldDropdown([["1","LEFT"],["2","ENTER"],["3","RIGHT"],[Blockly.Msg.SENSOR_KEY_ANY,"ANY"]]),e.appendField(o,"KEY"),this.appendValue_("BOOL"),this.setOutput(!0,"Boolean"))},appendValue_:Blockly.Blocks.robSensors_getSample.appendValue_},Blockly.Blocks.robSensors_touch_isPressed={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([["Port 1","1"],["Port 2","2"],["Port 3","3"],["Port 4","4"]]);this.appendDummyInput().appendField(Blockly.Msg.SENSOR_TOUCH).appendField(e,"SENSORPORT").appendField(Blockly.Msg.SENSOR_IS_PRESSED),this.setOutput(!0,"Boolean"),this.setTooltip(Blockly.Msg.TOUCH_ISPRESSED_TOOLTIP)}},Blockly.Blocks.robSensors_key_isPressed={init:function(){if(this.setColour(Blockly.CAT_SENSOR_RGB),"nxt"===this.workspace.device){var e=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_KEY_ENTER,"ENTER"],[Blockly.Msg.SENSOR_KEY_LEFT,"LEFT"],[Blockly.Msg.SENSOR_KEY_RIGHT,"RIGHT"]]);this.data="nxt"}else"ardu"===this.workspace.device?(e=new Blockly.FieldDropdown([["1","LEFT"],["2","ENTER"],["3","RIGHT"],[Blockly.Msg.SENSOR_KEY_ANY,"ANY"]]),this.data="ardu"):(e=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_KEY_ENTER,"ENTER"],[Blockly.Msg.SENSOR_KEY_UP,"UP"],[Blockly.Msg.SENSOR_KEY_DOWN,"DOWN"],[Blockly.Msg.SENSOR_KEY_LEFT,"LEFT"],[Blockly.Msg.SENSOR_KEY_RIGHT,"RIGHT"],[Blockly.Msg.SENSOR_KEY_ESCAPE,"ESCAPE"],[Blockly.Msg.SENSOR_KEY_ANY,"ANY"]]),this.data="ev3");this.appendDummyInput().appendField(Blockly.Msg.SENSOR_KEY).appendField(e,"KEY").appendField(Blockly.Msg.SENSOR_IS_PRESSED),this.setOutput(!0,"Boolean"),this.setTooltip(Blockly.Msg.KEY_ISPRESSED_TOOLTIP)}},Blockly.Blocks.robSensors_ultrasonic_getSample={init:function(){if(this.setColour(Blockly.CAT_SENSOR_RGB),"nxt"===this.workspace.device){var e=new Blockly.FieldDropdown([["Port 1","1"],["Port 2","2"],["Port 3","3"],["Port 4","4"]]),t=new Blockly.FieldDropdown([[Blockly.Msg.MODE_DISTANCE,"DISTANCE"]],function(e){
e&&this.sourceBlock_.getFieldValue("MODE")!==e&&this.sourceBlock_.updateShape_(e)});this.data="nxt"}else"ardu"===this.workspace.device?(e=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_LEFT,"0"],[Blockly.Msg.CENTER,"1"],[Blockly.Msg.MOTOR_RIGHT,"2"],[Blockly.Msg.SENSOR_SONAR,"3"]]),t=new Blockly.FieldDropdown([[Blockly.Msg.MODE_DISTANCE,"DISTANCE"]],function(e){e&&this.sourceBlock_.getFieldValue("MODE")!==e&&this.sourceBlock_.updateShape_(e)}),this.data="ardu"):(e=new Blockly.FieldDropdown([["Port 1","1"],["Port 2","2"],["Port 3","3"],["Port 4","4"]]),t=new Blockly.FieldDropdown([[Blockly.Msg.MODE_DISTANCE,"DISTANCE"],[Blockly.Msg.MODE_PRESENCE,"PRESENCE"]],function(e){e&&this.sourceBlock_.getFieldValue("MODE")!==e&&this.sourceBlock_.updateShape_(e)}),this.data="ev3");this.appendDummyInput().appendField(Blockly.Msg.GET).appendField(t,"MODE").appendField(Blockly.Msg.SENSOR_ULTRASONIC).appendField(e,"SENSORPORT"),this.sensorMode_="DISTANCE",this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.ULTRASONIC_GETSAMPLE_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("mode",this.sensorMode_),e},domToMutation:function(e){this.sensorMode_=e.getAttribute("mode"),this.updateShape_(this.sensorMode_)},updateShape_:function(e){this.sensorMode_=e,"DISTANCE"==this.sensorMode_?this.setOutput(!0,"Number"):"PRESENCE"==this.sensorMode_&&this.setOutput(!0,"Boolean")}},Blockly.Blocks.robSensors_colour_getSample={init:function(){if("nxt"===this.workspace.device){var e=new Blockly.FieldDropdown([[Blockly.Msg.MODE_COLOUR,"COLOUR"],[Blockly.Msg.MODE_LIGHT,"RED"],[Blockly.Msg.MODE_AMBIENTLIGHT,"AMBIENTLIGHT"]],function(e){e&&this.sourceBlock_.getFieldValue("MODE")!==e&&this.sourceBlock_.updateShape_(e)});this.data="nxt"}else"ardu"===this.workspace.device?(e=new Blockly.FieldDropdown([[Blockly.Msg.MODE_COLOUR,"COLOUR"],[Blockly.Msg.MODE_LIGHT,"RED"],[Blockly.Msg.MODE_RGB,"RGB"]],function(e){e&&this.sourceBlock_.getFieldValue("MODE")!==e&&this.sourceBlock_.updateShape_(e)}),this.data="ardu"):(e=new Blockly.FieldDropdown([[Blockly.Msg.MODE_COLOUR,"COLOUR"],[Blockly.Msg.MODE_LIGHT,"RED"],[Blockly.Msg.MODE_RGB,"RGB"],[Blockly.Msg.MODE_AMBIENTLIGHT,"AMBIENTLIGHT"]],function(e){e&&this.sourceBlock_.getFieldValue("MODE")!==e&&this.sourceBlock_.updateShape_(e)}),this.data="ev3");this.setColour(Blockly.CAT_SENSOR_RGB);var t="ardu"===this.workspace.device?new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_LEFT,"1"],[Blockly.Msg.MOTOR_RIGHT,"2"]]):new Blockly.FieldDropdown([["Port 1","1"],["Port 2","2"],["Port 3","3"],["Port 4","4"]]);this.appendDummyInput().appendField(Blockly.Msg.GET).appendField(e,"MODE").appendField(Blockly.Msg.SENSOR_COLOUR).appendField(t,"SENSORPORT"),this.setOutput(!0,"Colour"),this.setTooltip(Blockly.Msg.COLOUR_GETSAMPLE_TOOLTIP),this.sensorMode_="COLOUR"},mutationToDom:Blockly.Blocks.robSensors_ultrasonic_getSample.mutationToDom,domToMutation:Blockly.Blocks.robSensors_ultrasonic_getSample.domToMutation,updateShape_:function(e){this.sensorMode_=e,"COLOUR"==this.sensorMode_?this.setOutput(!0,"Colour"):"RGB"==this.sensorMode_?this.setOutput(!0,"Array_Number"):this.setOutput(!0,"Number")}},Blockly.Blocks.robSensors_infrared_getSample={init:function(){if(this.setColour(Blockly.CAT_SENSOR_RGB),"ardu"===this.workspace.device)var e=new Blockly.FieldDropdown([[Blockly.Msg.MODE_OBSTACLE,"OBSTACLE"],[Blockly.Msg.MODE_PRESENCE,"SEEK"]],function(e){e&&this.sourceBlock_.getFieldValue("MODE")!==e&&this.sourceBlock_.updateShape_(e)}),t=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_LEFT,"1"],[Blockly.Msg.MOTOR_RIGHT,"2"],[Blockly.Msg.BOTH,"BOTH"]]);else e=new Blockly.FieldDropdown([[Blockly.Msg.MODE_DISTANCE,"DISTANCE"],[Blockly.Msg.MODE_PRESENCE,"SEEK"]],function(e){e&&this.sourceBlock_.getFieldValue("MODE")!==e&&this.sourceBlock_.updateShape_(e)}),t=new Blockly.FieldDropdown([["Port 1","1"],["Port 2","2"],["Port 3","3"],["Port 4","4"]]);this.appendDummyInput().appendField(Blockly.Msg.GET).appendField(e,"MODE").appendField(Blockly.Msg.SENSOR_INFRARED).appendField(t,"SENSORPORT"),this.setOutput(!0,"Number"),this.sensorMode_="DISTANCE",this.setTooltip(Blockly.Msg.INFRARED_GETSAMPLE_TOOLTIP)},mutationToDom:Blockly.Blocks.robSensors_ultrasonic_getSample.mutationToDom,domToMutation:Blockly.Blocks.robSensors_ultrasonic_getSample.domToMutation,updateShape_:function(e){this.sensorMode_=e,"ardu"===this.workspace.device?this.setOutput(!0,"Boolean"):"DISTANCE"==this.sensorMode_?this.setOutput(!0,"Number"):"SEEK"==this.sensorMode_&&this.setOutput(!0,"Array_Number")}},Blockly.Blocks.robSensors_encoder_reset={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([["A","A"],["B","B"],["C","C"],["D","D"]]);"ardu"===this.workspace.device&&(e=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_LEFT,"B"],[Blockly.Msg.MOTOR_RIGHT,"C"]])),this.appendDummyInput().appendField(Blockly.Msg.SENSOR_RESET).appendField(Blockly.Msg.SENSOR_ENCODER).appendField(e,"MOTORPORT").appendField(Blockly.Msg.SENSOR_RESET_II),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.ENCODER_RESET_TOOLTIP)}},Blockly.Blocks.robSensors_encoder_getSample={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.MODE_ROTATION,"ROTATION"],[Blockly.Msg.MODE_DEGREE,"DEGREE"],[Blockly.Msg.MODE_DISTANCE,"DISTANCE"]]),t=new Blockly.FieldDropdown([["A","A"],["B","B"],["C","C"],["D","D"]]);"ardu"===this.workspace.device&&(t=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_LEFT,"B"],[Blockly.Msg.MOTOR_RIGHT,"C"]])),this.appendDummyInput().appendField(Blockly.Msg.GET).appendField(e,"MODE").appendField(Blockly.Msg.SENSOR_ENCODER).appendField(t,"MOTORPORT"),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.ENCODER_GETSAMPLE_TOOLTIP)}},Blockly.Blocks.robSensors_gyro_reset={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([["Port 1","1"],["Port 2","2"],["Port 3","3"],["Port 4","4"]]);this.appendDummyInput().appendField(Blockly.Msg.SENSOR_RESET).appendField(Blockly.Msg.SENSOR_GYRO).appendField(e,"SENSORPORT").appendField(Blockly.Msg.SENSOR_RESET_II),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.GYRO_RESET_TOOLTIP)}},Blockly.Blocks.robSensors_gyro_getSample={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([["Port 1","1"],["Port 2","2"],["Port 3","3"],["Port 4","4"]]),t=new Blockly.FieldDropdown([[Blockly.Msg.MODE_ANGLE,"ANGLE"],[Blockly.Msg.MODE_RATE,"RATE"]]);this.appendDummyInput().appendField(Blockly.Msg.GET).appendField(t,"MODE").appendField(Blockly.Msg.SENSOR_GYRO).appendField(e,"SENSORPORT"),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.GYRO_GETSAMPLE_TOOLTIP)}},Blockly.Blocks.robSensors_compass_getSample={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB),this.appendDummyInput().appendField(Blockly.Msg.GET).appendField(Blockly.Msg.SENSOR_COMPASS),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.COMPASS_GETSAMPLE_TOOLTIP)}},Blockly.Blocks.robSensors_timer_reset={init:function(){if(this.setColour(Blockly.CAT_SENSOR_RGB),"nxt"===this.workspace.device||"ardu"===this.workspace.device){var e=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_TIMER+" 1","1"]]);this.data="nxt"}else e=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_TIMER+" 1","1"],[Blockly.Msg.SENSOR_TIMER+" 2","2"],[Blockly.Msg.SENSOR_TIMER+" 3","3"],[Blockly.Msg.SENSOR_TIMER+" 4","4"],[Blockly.Msg.SENSOR_TIMER+" 5","5"]]),this.data="ev3";this.appendDummyInput().appendField(Blockly.Msg.SENSOR_RESET).appendField(e,"SENSORNUM").appendField(Blockly.Msg.SENSOR_RESET_II),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.TIMER_RESET_TOOLTIP)}},Blockly.Blocks.robSensors_timer_getSample={init:function(){if(this.setColour(Blockly.CAT_SENSOR_RGB),"nxt"===this.workspace.device||"ardu"===this.workspace.device){var e=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_TIMER+" 1","1"]]);this.data="nxt"}else e=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_TIMER+" 1","1"],[Blockly.Msg.SENSOR_TIMER+" 2","2"],[Blockly.Msg.SENSOR_TIMER+" 3","3"],[Blockly.Msg.SENSOR_TIMER+" 4","4"],[Blockly.Msg.SENSOR_TIMER+" 5","5"]]),this.data="ev3";this.appendDummyInput().appendField(Blockly.Msg.SENSOR_GET_SAMPLE).appendField(e,"SENSORNUM").appendField(Blockly.Msg.SENSOR_MS_TIMER),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.TIMER_GETSAMPLE_TOOLTIP)}},Blockly.Blocks.robSensors_sound_getSample={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([["Port 1","1"],["Port 2","2"],["Port 3","3"],["Port 4","4"]]);this.appendDummyInput().appendField(Blockly.Msg.SENSOR_GET_SAMPLE).appendField(Blockly.Msg.SENSOR_SOUND).appendField(e,"SENSORPORT"),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.SOUND_GETSAMPLE_TOOLTIP)}},Blockly.Blocks.robSensors_light_getSample={init:function(){if(this.setColour(Blockly.CAT_SENSOR_RGB),"ardu"===this.workspace.device)var e=new Blockly.FieldDropdown([[Blockly.Msg.MODE_LIGHT,"RED"]]),t=new Blockly.FieldDropdown([["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]]);else e=new Blockly.FieldDropdown([[Blockly.Msg.MODE_LIGHT,"RED"],[Blockly.Msg.MODE_AMBIENTLIGHT,"AMBIENTLIGHT"]]),t=new Blockly.FieldDropdown([["Port 1","1"],["Port 2","2"],["Port 3","3"],["Port 4","4"]]);this.appendDummyInput().appendField(Blockly.Msg.GET).appendField(e,"MODE").appendField(Blockly.Msg.SENSOR_LIGHT).appendField(t,"SENSORPORT"),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.LIGHT_GETSAMPLE_TOOLTIP),this.sensorMode_="COLOUR"}},Blockly.Blocks.robSensors_battery_voltage={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB),this.appendDummyInput().appendField(Blockly.Msg.GET).appendField(Blockly.Msg.SENSOR_BATTERY),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.BATTERY_GETSAMPLE_TOOLTIP),this.sensorMode_="COLOUR"}},Blockly.Blocks.simActions={},Blockly.Blocks.sim_motor_on={init:function(){this.setHelpUrl(Blockly.Msg.MOTOR_ON_HELPURL),this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR+" "+Blockly.Msg.MOTOR_RIGHT,"B"],[Blockly.Msg.MOTOR+" "+Blockly.Msg.MOTOR_LEFT,"C"]]);this.appendValueInput("POWER").appendField(e,"MOTORPORT").appendField(Blockly.Msg.ON).appendField(Blockly.Msg.MOTOR_SPEED).setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.MOTOR_ON_TOOLTIP)}},Blockly.Blocks.sim_motor_on_for={init:function(){this.setHelpUrl(Blockly.Msg.MOTOR_ON_FOR_HELPURL),this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR+" "+Blockly.Msg.MOTOR_RIGHT,"B"],[Blockly.Msg.MOTOR+" "+Blockly.Msg.MOTOR_LEFT,"C"]]),t=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR_ROTATION,"ROTATIONS"],[Blockly.Msg.MOTOR_DEGREE,"DEGREE"]]);this.appendValueInput("POWER").appendField(e,"MOTORPORT").appendField(Blockly.Msg.ON).appendField(Blockly.Msg.MOTOR_SPEED).setCheck("Number"),this.appendValueInput("VALUE").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.FOR).appendField(t,"MOTORROTATION").setCheck("Number"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.MOTOR_ON_FOR_TOOLTIP)}},Blockly.Blocks.sim_motor_stop={init:function(){this.setHelpUrl(Blockly.Msg.MOTOR_STOP_HELPURL),this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.MOTOR+" "+Blockly.Msg.MOTOR_RIGHT,"B"],[Blockly.Msg.MOTOR+" "+Blockly.Msg.MOTOR_LEFT,"C"]]),t=new Blockly.FieldDropdown([["","FLOAT"],["","NONFLOAT"]]);t.setVisible(!1),this.appendDummyInput().appendField(Blockly.Msg.MOTOR_STOP).appendField(e,"MOTORPORT").appendField(t,"MODE"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.MOTOR_STOP_TOOLTIP)}},Blockly.Blocks.sim_LED_on={init:function(){this.setHelpUrl(Blockly.Msg.BRICKLIGHT_ON_HELPURL),this.setColour(Blockly.CAT_ACTION_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.BRICKLIGHT_GREEN,"GREEN"],[Blockly.Msg.BRICKLIGHT_ORANGE,"ORANGE"],[Blockly.Msg.BRICKLIGHT_RED,"RED"]]),t=new Blockly.FieldDropdown([[Blockly.Msg.BRICKLIGHT_ON,"ON"],[Blockly.Msg.BRICKLIGHT_FLASH,"FLASH"],[Blockly.Msg.BRICKLIGHT_DOUBLE_FLASH,"DOUBLE_FLASH"]]);this.appendDummyInput().appendField(Blockly.Msg.BRICKLIGHT),this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.BRICKLIGHT_COLOR).appendField(e,"SWITCH_COLOR"),this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.MOD).appendField(t,"SWITCH_BLINK"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.BRICKLIGHT_ON_TOOLTIP)}},Blockly.Blocks.sim_LED_off={init:function(){this.setHelpUrl(Blockly.Msg.BRICKLIGHT_OFF_HELP),this.setColour(Blockly.CAT_ACTION_RGB),this.appendDummyInput().appendField(Blockly.Msg.BRICKLIGHT).appendField(Blockly.Msg.OFF),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.BRICKLIGHT_OFF_TOOLTIP)}},Blockly.Blocks.simSensors={},Blockly.Blocks.sim_getSample={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_TOUCH+Blockly.Msg.SENSOR_PRESSED,"TOUCH"],[Blockly.Msg.MODE_DISTANCE+" "+Blockly.Msg.SENSOR_ULTRASONIC,"ULTRASONIC_DISTANCE"],[Blockly.Msg.MODE_COLOUR+" "+Blockly.Msg.SENSOR_COLOUR,"COLOUR_COLOUR"],[Blockly.Msg.MODE_LIGHT+" "+Blockly.Msg.SENSOR_COLOUR,"COLOUR_LIGHT"]],function(e){e&&this.sourceBlock_.getFieldValue("SENSORTYPE")!==e&&this.sourceBlock_.updateShape_(e)}),t=new Blockly.Field("1",!1);t.setVisible(!1),this.appendDummyInput("DROPDOWN").appendField(Blockly.Msg.GET,"GET").appendField(e,"SENSORTYPE").appendField(t,"SENSORPORT"),this.sensorType_="TOUCH",this.setOutput(!0,"Boolean"),this.setTooltip(Blockly.Msg.GETSAMPLE_TOOLTIP),this.setMovable(!1),this.setDeletable(!1)},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("input",this.sensorType_),e},domToMutation:function(e){this.sensorType_=e.getAttribute("input"),this.updateShape_(this.sensorType_)},updateShape_:function(e){this.sensorType_=e,e=new Blockly.Field("1",!1),e.setVisible(!1),new Blockly.FieldDropdown([[Blockly.Msg.SENSOR_TIMER+" 1","1"],[Blockly.Msg.SENSOR_TIMER+" 2","2"],[Blockly.Msg.SENSOR_TIMER+" 3","3"],[Blockly.Msg.SENSOR_TIMER+" 4","4"],[Blockly.Msg.SENSOR_TIMER+" 5","5"]]);for(var t,o=this.getInput("DROPDOWN"),n=[],i=0;t=o.fieldRow[i];i++)"SENSORTYPE"!==t.name&&"GET"!==t.name&&n.push(t.name);for(i=0;i<n.length;i++)o.removeField(n[i]);o.appendField(e,"SENSORPORT"),"TOUCH"==this.sensorType_?(this.appendValue_("BOOL"),this.changeOutput("Boolean")):"ULTRASONIC_DISTANCE"==this.sensorType_?(this.appendValue_("NUM"),e.setValue("4"),this.changeOutput("Number")):"COLOUR_COLOUR"==this.sensorType_?(this.appendValue_("COLOUR"),e.setValue("3"),this.changeOutput("Colour")):"COLOUR_LIGHT"==this.sensorType_&&(this.appendValue_("NUM"),e.setValue("3"),this.changeOutput("Number"))},appendValue_:function(e,t){t=t||30;var o=this.getParent();if(o&&"logic_compare"!=o.type&&(o=null),o){if(o.getInputTargetBlock("B")&&o.getInputTargetBlock("B").dispose(),o.updateShape(e),"NUM"==e){var n=this.workspace.newBlock("math_number");n.setFieldValue(t.toString(),"NUM")}else"NUM_REV"==e?(n=this.workspace.newBlock("math_number"),n.setFieldValue(t.toString(),"NUM")):"BOOL"==e?n=this.workspace.newBlock("logic_boolean"):(n=this.workspace.newBlock("robColour_picker"),n.setFieldValue("#b30006","COLOUR"));n.initSvg(),n.render(),o.getInput("B").connection.connect(n.outputConnection)}}},Blockly.Blocks.sim_touch_isPressed={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.Field("1",!1);e.setVisible(!1),this.appendDummyInput().appendField(Blockly.Msg.SENSOR_TOUCH).appendField(e,"SENSORPORT").appendField(Blockly.Msg.SENSOR_IS_PRESSED),this.setOutput(!0,"Boolean"),this.setTooltip(Blockly.Msg.TOUCH_ISPRESSED_TOOLTIP)}},Blockly.Blocks.sim_ultrasonic_getSample={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.Field("4");e.setVisible(!1);var t=new Blockly.FieldDropdown([[Blockly.Msg.MODE_DISTANCE,"DISTANCE"]],function(e){e&&this.sourceBlock_.getFieldValue("MODE")!==e&&this.sourceBlock_.updateShape_(e)});this.appendDummyInput().appendField(Blockly.Msg.GET).appendField(t,"MODE").appendField(Blockly.Msg.SENSOR_ULTRASONIC).appendField(e,"SENSORPORT"),this.sensorMode_="DISTANCE",this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.ULTRASONIC_GETSAMPLE_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("mode",this.sensorMode_),e},domToMutation:function(e){this.sensorMode_=e.getAttribute("mode"),this.updateShape_(this.sensorMode_)},updateShape_:function(e){this.sensorMode_=e,"DISTANCE"==this.sensorMode_?this.changeOutput("Number"):"PRESENCE"==this.sensorMode_&&this.changeOutput("Boolean")}},Blockly.Blocks.sim_colour_getSample={init:function(){this.setColour(Blockly.CAT_SENSOR_RGB);var e=new Blockly.FieldDropdown([[Blockly.Msg.MODE_COLOUR,"COLOUR"],[Blockly.Msg.MODE_LIGHT,"RED"]],function(e){e&&this.sourceBlock_.getFieldValue("MODE")!==e&&this.sourceBlock_.updateShape_(e)}),t=new Blockly.Field("4");t.setVisible(!1),this.appendDummyInput().appendField(Blockly.Msg.GET).appendField(e,"MODE").appendField(Blockly.Msg.SENSOR_COLOUR).appendField(t,"SENSORPORT"),this.setOutput(!0,"Colour"),this.setTooltip(Blockly.Msg.COLOUR_GETSAMPLE_TOOLTIP),this.sensorMode_="COLOUR"},mutationToDom:Blockly.Blocks.sim_ultrasonic_getSample.mutationToDom,domToMutation:Blockly.Blocks.sim_ultrasonic_getSample.domToMutation,updateShape_:function(e){this.sensorMode_=e,"COLOUR"==this.sensorMode_?this.changeOutput("Colour"):"RGB"==this.sensorMode_?this.changeOutput("Array_Number"):this.changeOutput("Number")}},Blockly.Blocks.texts={},Blockly.Blocks.texts.HUE=160,Blockly.Blocks.text={init:function(){this.setHelpUrl(Blockly.Msg.TEXT_TEXT_HELPURL),this.setColour(Blockly.CAT_TEXT_RGB);var e=this.appendDummyInput();Blockly.DataTypes.addDataTypeInputBlock(this.workspace,e,"String"),this.setOutput(!0,"String");var t=this;this.setTooltip(function(){var e=t.getParent();return e&&e.getInputsInline()&&e.tooltip||Blockly.Msg.TEXT_TEXT_TOOLTIP})}},Blockly.Blocks.text_join={init:function(){this.setHelpUrl(Blockly.Msg.TEXT_JOIN_HELPURL),this.setColour(Blockly.CAT_TEXT_RGB),this.itemCount_=2,this.updateShape_(),this.setOutput(!0,"String"),this.setMutator(new Blockly.Mutator(["text_create_join_item"])),this.setTooltip(Blockly.Msg.TEXT_JOIN_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},decompose:function(e){var t=e.newBlock("text_create_join_container");t.initSvg();for(var o=t.getInput("STACK").connection,n=0;n<this.itemCount_;n++){var i=e.newBlock("text_create_join_item");i.initSvg(),o.connect(i.previousConnection),o=i.nextConnection}return t},compose:function(e){var t=e.getInputTargetBlock("STACK");for(e=[];t;)e.push(t.valueConnection_),t=t.nextConnection&&t.nextConnection.targetBlock();for(t=0;t<this.itemCount_;t++){var o=this.getInput("ADD"+t).connection.targetConnection;o&&-1==e.indexOf(o)&&o.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),t=0;t<this.itemCount_;t++)Blockly.Mutator.reconnect(e[t],this,"ADD"+t)},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=0;e;){var o=this.getInput("ADD"+t);e.valueConnection_=o&&o.connection.targetConnection,t++,e=e.nextConnection&&e.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){var t=this.appendValueInput("ADD"+e);0==e&&t.appendField(Blockly.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(;this.getInput("ADD"+e);)this.removeInput("ADD"+e),e++},newQuote_:Blockly.Blocks.text.newQuote_},Blockly.Blocks.text_create_join_container={init:function(){this.setColour(Blockly.CAT_TEXT_RGB),this.appendDummyInput().appendField(Blockly.Msg.TEXT_CREATE_JOIN_TITLE_JOIN),this.appendStatementInput("STACK"),this.setTooltip(Blockly.Msg.TEXT_CREATE_JOIN_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.text_create_join_item={init:function(){this.setColour(Blockly.CAT_TEXT_RGB),this.appendDummyInput().appendField(Blockly.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.text_append={init:function(){this.setHelpUrl(Blockly.Msg.TEXT_APPEND_HELPURL),this.setColour(Blockly.CAT_TEXT_RGB),this.appendValueInput("TEXT").appendField(Blockly.Msg.TEXT_APPEND_TO).appendField(new Blockly.FieldVariable(Blockly.Msg.TEXT_APPEND_VARIABLE),"VAR").appendField(Blockly.Msg.TEXT_APPEND_APPENDTEXT),this.setPreviousStatement(!0),this.setNextStatement(!0);var e=this;this.setTooltip(function(){return Blockly.Msg.TEXT_APPEND_TOOLTIP.replace("%1",e.getFieldValue("VAR"))})}},Blockly.Blocks.text_length={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_LENGTH_TITLE,args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",colour:Blockly.CAT_TEXT_RGB,tooltip:Blockly.Msg.TEXT_LENGTH_TOOLTIP,helpUrl:Blockly.Msg.TEXT_LENGTH_HELPURL})}},Blockly.Blocks.text_isEmpty={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_ISEMPTY_TITLE,args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",colour:Blockly.CAT_TEXT_RGB,tooltip:Blockly.Msg.TEXT_ISEMPTY_TOOLTIP,helpUrl:Blockly.Msg.TEXT_ISEMPTY_HELPURL})}},Blockly.Blocks.text_indexOf={init:function(){var e=[[Blockly.Msg.TEXT_INDEXOF_OPERATOR_FIRST,"FIRST"],[Blockly.Msg.TEXT_INDEXOF_OPERATOR_LAST,"LAST"]];this.setHelpUrl(Blockly.Msg.TEXT_INDEXOF_HELPURL),this.setColour(Blockly.CAT_TEXT_RGB),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("String").appendField(Blockly.Msg.TEXT_INDEXOF_INPUT_INTEXT),this.appendValueInput("FIND").setCheck("String").appendField(new Blockly.FieldDropdown(e),"END"),Blockly.Msg.TEXT_INDEXOF_TAIL&&this.appendDummyInput().appendField(Blockly.Msg.TEXT_INDEXOF_TAIL),this.setInputsInline(!0),this.setTooltip(Blockly.Msg.TEXT_INDEXOF_TOOLTIP)}},Blockly.Blocks.text_charAt={init:function(){this.WHERE_OPTIONS=[[Blockly.Msg.TEXT_CHARAT_FROM_START,"FROM_START"],[Blockly.Msg.TEXT_CHARAT_FROM_END,"FROM_END"],[Blockly.Msg.TEXT_CHARAT_FIRST,"FIRST"],[Blockly.Msg.TEXT_CHARAT_LAST,"LAST"],[Blockly.Msg.TEXT_CHARAT_RANDOM,"RANDOM"]],this.setHelpUrl(Blockly.Msg.TEXT_CHARAT_HELPURL),this.setColour(Blockly.CAT_TEXT_RGB),this.setOutput(!0,"String"),this.appendValueInput("VALUE").setCheck("String").appendField(Blockly.Msg.TEXT_CHARAT_INPUT_INTEXT),this.appendDummyInput("AT"),this.setInputsInline(!0),this.updateAt_(!0),this.setTooltip(Blockly.Msg.TEXT_CHARAT_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation"),t=this.getInput("AT").type==Blockly.INPUT_VALUE;return e.setAttribute("at",t),e},domToMutation:function(e){e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),Blockly.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_CHARAT_TAIL));var t=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(t){var o="FROM_START"==t||"FROM_END"==t;if(o!=e){var n=this.sourceBlock_;return n.updateAt_(o),n.setFieldValue(t,"WHERE"),null}});this.getInput("AT").appendField(t,"WHERE")}},Blockly.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[Blockly.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[Blockly.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(Blockly.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setColour(Blockly.CAT_TEXT_RGB),this.appendValueInput("STRING").setCheck("String").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),Blockly.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(Blockly.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation"),t=this.getInput("AT1").type==Blockly.INPUT_VALUE;return e.setAttribute("at1",t),t=this.getInput("AT2").type==Blockly.INPUT_VALUE,e.setAttribute("at2",t),e},domToMutation:function(e){var t="true"==e.getAttribute("at1");e="true"==e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(e,t){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),t?(this.appendValueInput("AT"+e).setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e),2==e&&Blockly.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_TAIL));var o=new Blockly.FieldDropdown(this["WHERE_OPTIONS_"+e],function(o){var n="FROM_START"==o||"FROM_END"==o;if(n!=t){var i=this.sourceBlock_;return i.updateAt_(e,n),i.setFieldValue(o,"WHERE"+e),null}});this.getInput("AT"+e).appendField(o,"WHERE"+e),1==e&&this.moveInputBefore("AT1","AT2")}},Blockly.Blocks.text_changeCase={init:function(){var e=[[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(Blockly.Msg.TEXT_CHANGECASE_HELPURL),this.setColour(Blockly.CAT_TEXT_RGB),this.appendValueInput("TEXT").setCheck("String").appendField(new Blockly.FieldDropdown(e),"CASE"),this.setOutput(!0,"String"),this.setTooltip(Blockly.Msg.TEXT_CHANGECASE_TOOLTIP)}},Blockly.Blocks.text_trim={init:function(){var e=[[Blockly.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[Blockly.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[Blockly.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(Blockly.Msg.TEXT_TRIM_HELPURL),this.setColour(Blockly.CAT_TEXT_RGB),this.appendValueInput("TEXT").setCheck("String").appendField(new Blockly.FieldDropdown(e),"MODE"),this.setOutput(!0,"String"),this.setTooltip(Blockly.Msg.TEXT_TRIM_TOOLTIP)}},Blockly.Blocks.text_print={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,colour:Blockly.CAT_TEXT_RGB,tooltip:Blockly.Msg.TEXT_PRINT_TOOLTIP,helpUrl:Blockly.Msg.TEXT_PRINT_HELPURL})}},Blockly.Blocks.text_prompt_ext={init:function(){var e=[[Blockly.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(Blockly.Msg.TEXT_PROMPT_HELPURL),this.setColour(Blockly.CAT_TEXT_RGB);var t=this;e=new Blockly.FieldDropdown(e,function(e){t.updateType_(e)}),this.appendValueInput("TEXT").appendField(e,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(function(){return"TEXT"==t.getFieldValue("TYPE")?Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT:Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},updateType_:function(e){this.outputConnection.setCheck("NUMBER"==e?"Number":"String")},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("type",this.getFieldValue("TYPE")),e},domToMutation:function(e){this.updateType_(e.getAttribute("type"))}},Blockly.Blocks.text_prompt={init:function(){var e=[[Blockly.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],t=this;this.setHelpUrl(Blockly.Msg.TEXT_PROMPT_HELPURL),this.setColour(Blockly.CAT_TEXT_RGB),e=new Blockly.FieldDropdown(e,function(e){t.updateType_(e)}),this.appendDummyInput().appendField(e,"TYPE").appendField(this.newQuote_(!0)).appendField(new Blockly.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(function(){return"TEXT"==t.getFieldValue("TYPE")?Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT:Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},newQuote_:Blockly.Blocks.text.newQuote_,updateType_:Blockly.Blocks.text_prompt_ext.updateType_,mutationToDom:Blockly.Blocks.text_prompt_ext.mutationToDom,domToMutation:Blockly.Blocks.text_prompt_ext.domToMutation},Blockly.Blocks.unityText_join={init:function(){this.setHelpUrl(Blockly.Msg.TEXT_JOIN_HELPURL),this.setColour(Blockly.CAT_TEXT_RGB),this.appendValueInput("ADD0").appendField(Blockly.Msg.TEXT_JOIN_TITLE_CREATEWITH),this.appendValueInput("ADD1"),this.setOutput(!0,"String"),this.setMutatorPlus(new Blockly.MutatorPlus(this)),this.setTooltip(Blockly.Msg.TEXT_JOIN_TOOLTIP),this.itemCount_=2},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(e){for(this.itemCount_=parseInt(e.getAttribute("items"),10),e=2;e<this.itemCount_;e++)this.appendValueInput("ADD"+e),2==e&&this.setMutatorMinus(new Blockly.MutatorMinus(this))},updateShape_:function(e){Blockly.dragMode_=Blockly.DRAG_NONE,1==e?(2==this.itemCount_&&(this.setMutatorMinus(new Blockly.MutatorMinus(this)),this.render()),this.appendValueInput("ADD"+this.itemCount_),this.itemCount_++):-1==e&&(this.itemCount_--,(e=this.getInputTargetBlock("ADD"+this.itemCount_))&&(e.unplug(),e.bumpNeighbours_()),this.removeInput("ADD"+this.itemCount_)),2==this.itemCount_&&(this.mutatorMinus.dispose(),this.mutatorMinus=null,this.render())}},Blockly.Blocks.unityText_append={init:function(){this.setHelpUrl(Blockly.Msg.TEXT_APPEND_HELPURL),this.setColour(Blockly.CAT_TEXT_RGB),this.setInputsInline(!0),this.appendValueInput("TEXT").appendField(Blockly.Msg.TEXT_APPEND_TO).appendField(new Blockly.FieldTypedVariable("String",void 0,Blockly.Msg.TEXT_APPEND_TO_VARNAME_DEFAULT),"VAR").appendField(Blockly.Msg.TEXT_APPEND_APPENDTEXT),this.setPreviousStatement(!0),this.setNextStatement(!0);var e=this;this.setTooltip(function(){return Blockly.Msg.TEXT_APPEND_TOOLTIP.replace("%1",e.getFieldValue("VAR"))})}},Blockly.Blocks.unityCode={},Blockly.Blocks.unityCode_define={init:function(){this.PROPERTY_IS_EDITABLECODEBLOCK=this.PROPERTY_VALID_ROOT=!0,this.appendDummyInput().appendField(Blockly.Msg.UNITY_CODE_BLOCK_TITLE).appendField(new Blockly.FieldTextInput(Blockly.Msg.UNITY_CODE_BLOCK_DEFAULT_NAME),"NAME"),this.appendDummyInput().appendField(new Blockly.FieldCodeInput(Blockly.Msg.UNITY_CODE_BLOCK_DEFAULT_CODE.replace(/\{NEWLINE\}/g,"\n").replace(/\{QUOTE\}/g,'"')),"CODE"),this.setColour(Blockly.CAT_MORE_RGB),this.setTooltip("")},getCodeBlockCallingName:function(){return this.getFieldValue("NAME")}},Blockly.Blocks.unityCode_use={init:function(){this.blockToCall_="",this.appendDummyInput().appendField(new Blockly.FieldLabel(this.blockToCall_),"NAME"),this.setColour(Blockly.CAT_MORE_RGB),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("")},getCallFunctionName:function(){return this.blockToCall},setCallFunctionInfo:function(e){this.blockToCall_=e||"",this.setFieldValue(this.blockToCall_,"NAME")},mutationToDom:function(){if(void 0===this.blockToCall_)return"";var e=document.createElement("mutation");return e.setAttribute("tocall",this.blockToCall_),e},domToMutation:function(e){this.blockToCall_=e.getAttribute("tocall")||"",this.setFieldValue(this.blockToCall_,"NAME")}},Blockly.Blocks.unityControls={},Blockly.Blocks.unityControls_classConfig={init:function(){this.PROPERTY_VALID_ROOT=this.PROPERTY_GROUPS_GLOBAL_VARS=this.PROPERTY_NOHAT=!0,
this.setColour(Blockly.CAT_ACTIVITY_RGB),this.appendDummyInput().appendField(Blockly.Msg.UNITY_MEMORY_TITLE),this.declare_=!1,this.setPreviousStatement(!1),this.setNextStatement(!1),this.setDeletable(!1),this.setMutatorPlus(new Blockly.MutatorPlus(["unityControls_classConfig"])),this.setTooltip(Blockly.Msg.UNITY_MEMORY_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("declare",1==this.declare_),e},domToMutation:function(e){(this.declare_="false"!=e.getAttribute("declare"))&&(this.appendStatementInput("ST"),this.getInput("ST").connection.setCheck("declaration_only"))},addNewGlobal:function(e,t){this.updateShape_(1,e,t)},updateShape_:function(e,t,o){if(1==e){if(this.declare_||(this.appendStatementInput("ST"),this.getInput("ST").connection.setCheck("declaration_only"),this.declare_=!0),e=this.workspace.newBlock("unityGlobalVariables_declare"),e.initSvg(),e.render(),e.initDefaultBlock(),o&&e.changeVariableType(o),t&&e.setFieldValue(t,"VAR"),this.getInput("ST").connection.targetConnection){if(t=this.getInput("ST").connection.targetConnection.sourceBlock_)for(;t.getNextBlock();)t=t.getNextBlock();t.setNext(!0),t=t.nextConnection}else t=this.getInput("ST").connection;t.connect(e.previousConnection)}else-1==e&&(this.removeInput("ST"),this.declare_=!1)}},Blockly.Blocks.unityDetect={},Blockly.Blocks.unityEvents={},Blockly.Blocks.unityEvents_start={init:function(){this.PROPERTY_VALID_ROOT=!0,this.appendDummyInput().appendField(Blockly.Msg.UNITY_EVENTS_START_TITLE),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_ACTION_RGB),this.setTooltip("")}},Blockly.Blocks.unityEvents_update={init:function(){this.PROPERTY_VALID_ROOT=!0,this.appendDummyInput().appendField(Blockly.Msg.UNITY_EVENTS_UPDATE_TITLE),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_ACTION_RGB),this.setTooltip("")}},Blockly.Blocks.unityEvents_mouse={init:function(){this.PROPERTY_VALID_ROOT=!0,this.appendDummyInput().appendField(Blockly.Msg.UNITY_EVENTS_MOUSEHOVER_TITLE_1).appendField(new Blockly.FieldDropdown([[Blockly.Msg.UNITY_EVENTS_MOUSEHOVER_OPT_ENTER,"Enter"],[Blockly.Msg.UNITY_EVENTS_MOUSEHOVER_OPT_STAY,"Stay"],[Blockly.Msg.UNITY_EVENTS_MOUSEHOVER_OPT_EXIT,"Exit"]]),"HOVER").appendField(Blockly.Msg.UNITY_EVENTS_MOUSEHOVER_TITLE_2),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_ACTION_RGB),this.setTooltip("")}},Blockly.Blocks.unityEvents_mouse_click={init:function(){this.PROPERTY_VALID_ROOT=!0,this.appendDummyInput().appendField(Blockly.Msg.UNITY_EVENTS_MOUSECLICK_TITLE_1).appendField(new Blockly.FieldDropdown([[Blockly.Msg.UNITY_EVENTS_MOUSECLICK_OPT_DOWN,"Down"],[Blockly.Msg.UNITY_EVENTS_MOUSECLICK_OPT_STAY,"Drag"],[Blockly.Msg.UNITY_EVENTS_MOUSECLICK_OPT_UP,"Up"]]),"STATE").appendField(Blockly.Msg.UNITY_EVENTS_MOUSECLICK_TITLE_2),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_ACTION_RGB),this.setTooltip("")}},Blockly.Blocks.unityEvents_collision_param=Blockly.OutputMutatingBlock.createParamBlock("unityEvents_collision",function(){this.setColour(Blockly.CAT_ACTION_RGB),this.setTooltip("")},function(){return[{label:Blockly.Msg.UNITY_EVENTS_COLLIDE_PARAM_OBJ,val:"coll_other",type:"GameObject",proposedname:Blockly.Msg.UNITY_EVENTS_COLLIDE_PARAM_OBJ_DEFNAME},{label:Blockly.Msg.UNITY_EVENTS_COLLIDE_PARAM_SPEED,val:"coll_speed",type:"Number",proposedname:Blockly.Msg.UNITY_EVENTS_COLLIDE_PARAM_SPEED_DEFNAME},{label:Blockly.Msg.UNITY_EVENTS_COLLIDE_PARAM_VECTOR,val:"coll_dirspeed",type:"Vector3",proposedname:Blockly.Msg.UNITY_EVENTS_COLLIDE_PARAM_VECTOR_DEFNAME}]}),Blockly.Blocks.unityEvents_collision=Blockly.OutputMutatingBlock.createBlock("unityEvents_collision_param",function(){this.PROPERTY_VALID_ROOT=!0,this.appendDummyInput().appendField(Blockly.Msg.UNITY_EVENTS_COLLIDE_TITLE_1).appendField(new Blockly.FieldDropdown([[Blockly.Msg.UNITY_EVENTS_COLLIDE_OPT_ENTER,"Enter"],[Blockly.Msg.UNITY_EVENTS_COLLIDE_OPT_STAY,"Stay"],[Blockly.Msg.UNITY_EVENTS_COLLIDE_OPT_EXIT,"Exit"]]),"STATE").appendField(Blockly.Msg.UNITY_EVENTS_COLLIDE_TITLE_2).appendField(Blockly.PhysicsToggle.makeToggleField(),"PHYSICS"),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_ACTION_RGB),this.setMutatorPlus(new Blockly.MutatorPlus(["unityEvents_collision"])),this.setTooltip("")}),Blockly.Blocks.unityEvents_jointbreaks_param=Blockly.OutputMutatingBlock.createParamBlock("unityEvents_jointbreaks",function(){this.setColour(Blockly.CAT_ACTION_RGB),this.setTooltip("")},function(){return[{label:Blockly.Msg.UNITY_EVENTS_JOINTBREAKS_PARAM_OBJ,val:"joint_other",type:"GameObject",proposedname:Blockly.Msg.UNITY_EVENTS_JOINTBREAKS_PARAM_OBJ_DEFNAME}]}),Blockly.Blocks.unityEvents_jointbreaks=Blockly.OutputMutatingBlock.createBlock("unityEvents_jointbreaks_param",function(){this.PROPERTY_VALID_ROOT=!0,this.appendDummyInput().appendField(Blockly.Msg.UNITY_EVENTS_JOINTBREAKS_TITLE).appendField(Blockly.PhysicsToggle.makeToggleField(),"PHYSICS"),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_ACTION_RGB),this.setMutatorPlus(new Blockly.MutatorPlus(["unityEvents_jointbreaks"])),this.setTooltip("")}),Blockly.Blocks.unityEvents_trigger_param=Blockly.OutputMutatingBlock.createParamBlock("unityEvents_trigger",function(){this.setColour(Blockly.CAT_ACTION_RGB),this.setTooltip("")},function(){return[{label:Blockly.Msg.UNITY_EVENTS_TRIGGER_PARAM_OBJ,val:"trigger_other",type:"GameObject",proposedname:Blockly.Msg.UNITY_EVENTS_TRIGGER_PARAM_OBJ_DEFNAME}]}),Blockly.Blocks.unityEvents_trigger=Blockly.OutputMutatingBlock.createBlock("unityEvents_trigger_param",function(){this.PROPERTY_VALID_ROOT=!0,this.appendDummyInput().appendField(Blockly.Msg.UNITY_EVENTS_TRIGGER_TITLE_1).appendField(new Blockly.FieldDropdown([[Blockly.Msg.UNITY_EVENTS_TRIGGER_OPT_ENTER,"Enter"],[Blockly.Msg.UNITY_EVENTS_TRIGGER_OPT_STAY,"Stay"],[Blockly.Msg.UNITY_EVENTS_TRIGGER_OPT_EXIT,"Exit"]]),"STATE").appendField(Blockly.Msg.UNITY_EVENTS_TRIGGER_TITLE_2).appendField(Blockly.PhysicsToggle.makeToggleField(),"PHYSICS"),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_ACTION_RGB),this.setMutatorPlus(new Blockly.MutatorPlus(["unityEvents_jointbreaks"])),this.setTooltip("")}),Blockly.Blocks.unityGeneral={},Blockly.Blocks.unityGeneral_log={init:function(){this.appendValueInput("WHAT").setCheck(null).appendField(Blockly.Msg.UNITY_LOG_TITLE),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_OTHER_RGB),this.setTooltip("")}},Blockly.Blocks.unityUI_text={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_UI_SET_TEXT_TITLE_1),this.appendValueInput("TEXT").setCheck("String").appendField(Blockly.Msg.UNITY_UI_SET_TEXT_TITLE_2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_TEXT_RGB),this.setTooltip("")}},Blockly.Blocks.unityScene_toscene={init:function(){this.appendValueInput("SCENE").setCheck("String").appendField(Blockly.Msg.UNITY_SCENE_GOTO_TITLE),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_OTHER_RGB),this.setTooltip("")}},Blockly.Blocks.unityInput={};var generateButtons=function(){return[["A","A"],["B","B"],["C","C"],["D","D"],["E","E"],["F","F"],["G","G"],["H","H"],["I","I"],["J","J"],["K","K"],["L","L"],["M","M"],["N","N"],["O","O"],["P","P"],["Q","Q"],["R","R"],["S","S"],["T","T"],["U","U"],["V","V"],["W","W"],["X","X"],["Y","Y"],["Z","Z"],[Blockly.Msg.UNITY_KEYCODE_Mouse0,"Mouse0"],[Blockly.Msg.UNITY_KEYCODE_Mouse1,"Mouse1"],[Blockly.Msg.UNITY_KEYCODE_Mouse2,"Mouse2"],[Blockly.Msg.UNITY_KEYCODE_UpArrow,"UpArrow"],[Blockly.Msg.UNITY_KEYCODE_DownArrow,"DownArrow"],[Blockly.Msg.UNITY_KEYCODE_RightArrow,"RightArrow"],[Blockly.Msg.UNITY_KEYCODE_LeftArrow,"LeftArrow"],[Blockly.Msg.UNITY_KEYCODE_Backspace,"Backspace"],[Blockly.Msg.UNITY_KEYCODE_Space,"Space"],[Blockly.Msg.UNITY_KEYCODE_Return,"Return"],[Blockly.Msg.UNITY_KEYCODE_Tab,"Tab"],[Blockly.Msg.UNITY_KEYCODE_Escape,"Escape"],[Blockly.Msg.UNITY_KEYCODE_Alpha0,"Alpha0"],[Blockly.Msg.UNITY_KEYCODE_Alpha1,"Alpha1"],[Blockly.Msg.UNITY_KEYCODE_Alpha2,"Alpha2"],[Blockly.Msg.UNITY_KEYCODE_Alpha3,"Alpha3"],[Blockly.Msg.UNITY_KEYCODE_Alpha4,"Alpha4"],[Blockly.Msg.UNITY_KEYCODE_Alpha5,"Alpha5"],[Blockly.Msg.UNITY_KEYCODE_Alpha6,"Alpha6"],[Blockly.Msg.UNITY_KEYCODE_Alpha7,"Alpha7"],[Blockly.Msg.UNITY_KEYCODE_Alpha8,"Alpha8"],[Blockly.Msg.UNITY_KEYCODE_Alpha9,"Alpha9"],[Blockly.Msg.UNITY_KEYCODE_Keypad0,"Keypad0"],[Blockly.Msg.UNITY_KEYCODE_Keypad1,"Keypad1"],[Blockly.Msg.UNITY_KEYCODE_Keypad2,"Keypad2"],[Blockly.Msg.UNITY_KEYCODE_Keypad3,"Keypad3"],[Blockly.Msg.UNITY_KEYCODE_Keypad4,"Keypad4"],[Blockly.Msg.UNITY_KEYCODE_Keypad5,"Keypad5"],[Blockly.Msg.UNITY_KEYCODE_Keypad6,"Keypad6"],[Blockly.Msg.UNITY_KEYCODE_Keypad7,"Keypad7"],[Blockly.Msg.UNITY_KEYCODE_Keypad8,"Keypad8"],[Blockly.Msg.UNITY_KEYCODE_Keypad9,"Keypad9"],[Blockly.Msg.UNITY_KEYCODE_KeypadPeriod,"KeypadPeriod"],[Blockly.Msg.UNITY_KEYCODE_KeypadDivide,"KeypadDivide"],[Blockly.Msg.UNITY_KEYCODE_KeypadMultiply,"KeypadMultiply"],[Blockly.Msg.UNITY_KEYCODE_KeypadMinus,"KeypadMinus"],[Blockly.Msg.UNITY_KEYCODE_KeypadPlus,"KeypadPlus"],[Blockly.Msg.UNITY_KEYCODE_KeypadEnter,"KeypadEnter"],[Blockly.Msg.UNITY_KEYCODE_KeypadEquals,"KeypadEquals"],[Blockly.Msg.UNITY_KEYCODE_F1,"F1"],[Blockly.Msg.UNITY_KEYCODE_F2,"F2"],[Blockly.Msg.UNITY_KEYCODE_F3,"F3"],[Blockly.Msg.UNITY_KEYCODE_F4,"F4"],[Blockly.Msg.UNITY_KEYCODE_F5,"F5"],[Blockly.Msg.UNITY_KEYCODE_F6,"F6"],[Blockly.Msg.UNITY_KEYCODE_F7,"F7"],[Blockly.Msg.UNITY_KEYCODE_F8,"F8"],[Blockly.Msg.UNITY_KEYCODE_F9,"F9"],[Blockly.Msg.UNITY_KEYCODE_F10,"F10"],[Blockly.Msg.UNITY_KEYCODE_F11,"F11"],[Blockly.Msg.UNITY_KEYCODE_F12,"F12"],[Blockly.Msg.UNITY_KEYCODE_F13,"F13"],[Blockly.Msg.UNITY_KEYCODE_F14,"F14"],[Blockly.Msg.UNITY_KEYCODE_F15,"F15"],[Blockly.Msg.UNITY_KEYCODE_Delete,"Delete"],[Blockly.Msg.UNITY_KEYCODE_Clear,"Clear"],[Blockly.Msg.UNITY_KEYCODE_Pause,"Pause"],[Blockly.Msg.UNITY_KEYCODE_Insert,"Insert"],[Blockly.Msg.UNITY_KEYCODE_Home,"Home"],[Blockly.Msg.UNITY_KEYCODE_End,"End"],[Blockly.Msg.UNITY_KEYCODE_PageUp,"PageUp"],[Blockly.Msg.UNITY_KEYCODE_PageDown,"PageDown"],[Blockly.Msg.UNITY_KEYCODE_Exclaim,"Exclaim"],[Blockly.Msg.UNITY_KEYCODE_DoubleQuote,"DoubleQuote"],[Blockly.Msg.UNITY_KEYCODE_Hash,"Hash"],[Blockly.Msg.UNITY_KEYCODE_Dollar,"Dollar"],[Blockly.Msg.UNITY_KEYCODE_Ampersand,"Ampersand"],[Blockly.Msg.UNITY_KEYCODE_Quote,"Quote"],[Blockly.Msg.UNITY_KEYCODE_LeftParen,"LeftParen"],[Blockly.Msg.UNITY_KEYCODE_RightParen,"RightParen"],[Blockly.Msg.UNITY_KEYCODE_Asterisk,"Asterisk"],[Blockly.Msg.UNITY_KEYCODE_Plus,"Plus"],[Blockly.Msg.UNITY_KEYCODE_Comma,"Comma"],[Blockly.Msg.UNITY_KEYCODE_Minus,"Minus"],[Blockly.Msg.UNITY_KEYCODE_Period,"Period"],[Blockly.Msg.UNITY_KEYCODE_Slash,"Slash"],[Blockly.Msg.UNITY_KEYCODE_Colon,"Colon"],[Blockly.Msg.UNITY_KEYCODE_Semicolon,"Semicolon"],[Blockly.Msg.UNITY_KEYCODE_Less,"Less"],[Blockly.Msg.UNITY_KEYCODE_Equals,"Equals"],[Blockly.Msg.UNITY_KEYCODE_Greater,"Greater"],[Blockly.Msg.UNITY_KEYCODE_Question,"Question"],[Blockly.Msg.UNITY_KEYCODE_At,"At"],[Blockly.Msg.UNITY_KEYCODE_LeftBracket,"LeftBracket"],[Blockly.Msg.UNITY_KEYCODE_Backslash,"Backslash"],[Blockly.Msg.UNITY_KEYCODE_RightBracket,"RightBracket"],[Blockly.Msg.UNITY_KEYCODE_Caret,"Caret"],[Blockly.Msg.UNITY_KEYCODE_Underscore,"Underscore"],[Blockly.Msg.UNITY_KEYCODE_BackQuote,"BackQuote"],[Blockly.Msg.UNITY_KEYCODE_Numlock,"Numlock"],[Blockly.Msg.UNITY_KEYCODE_CapsLock,"CapsLock"],[Blockly.Msg.UNITY_KEYCODE_ScrollLock,"ScrollLock"],[Blockly.Msg.UNITY_KEYCODE_RightShift,"RightShift"],[Blockly.Msg.UNITY_KEYCODE_LeftShift,"LeftShift"],[Blockly.Msg.UNITY_KEYCODE_RightControl,"RightControl"],[Blockly.Msg.UNITY_KEYCODE_LeftControl,"LeftControl"],[Blockly.Msg.UNITY_KEYCODE_RightAlt,"RightAlt"],[Blockly.Msg.UNITY_KEYCODE_LeftAlt,"LeftAlt"],[Blockly.Msg.UNITY_KEYCODE_LeftCommand,"LeftCommand"],[Blockly.Msg.UNITY_KEYCODE_LeftApple,"LeftApple"],[Blockly.Msg.UNITY_KEYCODE_LeftWindows,"LeftWindows"],[Blockly.Msg.UNITY_KEYCODE_RightCommand,"RightCommand"],[Blockly.Msg.UNITY_KEYCODE_RightApple,"RightApple"],[Blockly.Msg.UNITY_KEYCODE_RightWindows,"RightWindows"],[Blockly.Msg.UNITY_KEYCODE_AltGr,"AltGr"],[Blockly.Msg.UNITY_KEYCODE_Help,"Help"],[Blockly.Msg.UNITY_KEYCODE_Print,"Print"],[Blockly.Msg.UNITY_KEYCODE_SysReq,"SysReq"],[Blockly.Msg.UNITY_KEYCODE_Break,"Break"],[Blockly.Msg.UNITY_KEYCODE_Menu,"Menu"]]};Blockly.Blocks.unityInput_key={init:function(){var e=generateButtons();this.appendDummyInput().appendField(Blockly.Msg.UNITY_INPUT_GETKEY_TITLE_1).appendField(new Blockly.FieldDropdown(e),"KEY").appendField(new Blockly.FieldDropdown([[Blockly.Msg.UNITY_INPUT_GETKEY_OPT_DOWN,"Down"],[Blockly.Msg.UNITY_INPUT_GETKEY_OPT_UP,"Up"],[Blockly.Msg.UNITY_INPUT_GETKEY_OPT_STAY,""]]),"PRESSED").appendField(Blockly.Msg.UNITY_INPUT_GETKEY_TITLE_2),this.setOutput(!0,"Boolean"),this.setColour(Blockly.CAT_DETECT_RGB),this.setTooltip("")}},Blockly.Blocks.unityMove={},Blockly.Blocks.unityTransform_jumpto={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_TRANSFORM_JUMPTO_TITLE_1),this.appendValueInput("WHERE").setCheck("Vector3").appendField(Blockly.Msg.UNITY_TRANSFORM_JUMPTO_TITLE_2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_MOVE_RGB),this.setTooltip("")}},Blockly.Blocks.unityTransform_move={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_TRANSFORM_MOVE_TITLE_1),this.appendValueInput("DELTA").setCheck("Vector3").appendField(Blockly.Msg.UNITY_TRANSFORM_MOVE_TITLE_2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_MOVE_RGB),this.setTooltip("")}},Blockly.Blocks.unityTransform_position={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_TRANSFORM_POSITION_TITLE),this.setOutput(!0,"Vector3"),this.setInputsInline(!0),this.setColour(Blockly.CAT_MOVE_RGB),this.setTooltip("")}},Blockly.Blocks.unityPhysics_angularSpeed={init:function(){this.appendValueInput("WHO").appendField(Blockly.Msg.UNITY_PHYSICS_ANGULARSPEED_TITLE);var e=Blockly.PhysicsToggle.makeToggleField(goog.bind(function(e){this.type_="2D"===e?"Number":"Vector3",this.setOutput(!0,this.type_)},this));this.appendDummyInput().appendField(e,"PHYSICS"),this.setInputsInline(!0),this.setOutput(!0,"Number"),this.setColour(Blockly.CAT_MOVE_RGB),this.setTooltip(""),this.type_="Number"},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("type",this.type_),e},domToMutation:function(e){e.getAttribute("type")&&(this.type_=e.getAttribute("type"),this.setOutput(!0,this.type_))}},Blockly.Blocks.unityPhysics_angularSpeed_set={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_PHYSICS_ANGULARSPEED_SET_TITLE_1),this.appendValueInput("SPEED").setCheck("Number").appendField(Blockly.Msg.UNITY_PHYSICS_ANGULARSPEED_SET_TITLE_2);var e=Blockly.PhysicsToggle.makeToggleField(goog.bind(function(e){this.type_="2D"===e?"Number":"Vector3",this.getInput("SPEED").connection.setCheck(this.type_)},this));this.appendDummyInput().appendField(e,"PHYSICS"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_MOVE_RGB),this.setTooltip(""),this.type_="Number"},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("type",this.type_),e},domToMutation:function(e){e.getAttribute("type")&&(this.type_=e.getAttribute("type"),this.getInput("SPEED").connection.setCheck(this.type_))}},Blockly.Blocks.unityPhysics_velocity={init:function(){this.appendValueInput("WHO").appendField(Blockly.Msg.UNITY_PHYSICS_VELOCITY_TITLE),this.appendDummyInput().appendField(Blockly.PhysicsToggle.makeToggleField(),"PHYSICS"),this.setInputsInline(!0),this.setOutput(!0,"Vector3"),this.setColour(Blockly.CAT_MOVE_RGB),this.setTooltip("")}},Blockly.Blocks.unityPhysics_velocity_set={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_PHYSICS_VELOCITY_SET_TITLE_1),this.appendValueInput("SPEED").setCheck("Vector3").appendField(Blockly.Msg.UNITY_PHYSICS_VELOCITY_SET_TITLE_2),this.appendDummyInput().appendField(Blockly.PhysicsToggle.makeToggleField(),"PHYSICS"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_MOVE_RGB),this.setTooltip("")}},Blockly.Blocks.unityPhysics_push={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_PHYSICS_PUSH_TITLE_1),this.appendValueInput("DIRECTION").setCheck("Vector3").appendField(Blockly.Msg.UNITY_PHYSICS_PUSH_TITLE_2),this.appendDummyInput().appendField(Blockly.PhysicsToggle.makeToggleField(),"PHYSICS"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_MOVE_RGB),this.setTooltip("")}},Blockly.Blocks.unityPhysics_torque={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_PHYSICS_TORQUE_TITLE_1),this.appendValueInput("TORQUE").setCheck("Number").appendField(Blockly.Msg.UNITY_PHYSICS_TORQUE_TITLE_2);var e=Blockly.PhysicsToggle.makeToggleField(goog.bind(function(e){this.type_="2D"===e?"Number":"Vector3",this.getInput("TORQUE").connection.setCheck(this.type_)},this));this.appendDummyInput().appendField(e,"PHYSICS"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_MOVE_RGB),this.setTooltip(""),this.type_="Number"},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("type",this.type_),e},domToMutation:function(e){e.getAttribute("type")&&(this.type_=e.getAttribute("type"),this.getInput("TORQUE").connection.setCheck(this.type_))}},Blockly.Blocks.unityObjects={},Blockly.Blocks.unity_me={init:function(){this.appendDummyInput().appendField(Blockly.Msg.UNITY_THIS),this.setOutput(!0,"GameObject"),this.setColour(Blockly.CAT_OBJECTS_RGB),this.setTooltip("")}},Blockly.Blocks.unityGeneral_destroy={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_OBJECTS_DESTROY_TITLE),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_OBJECTS_RGB),this.setTooltip("")}},Blockly.Blocks.unityGeneral_create={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_OBJECTS_CREATE_TITLE),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_OBJECTS_RGB),this.setTooltip("")}},Blockly.Blocks.unityGeneral_createGet={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_OBJECTS_CREATE_AND_GET_TITLE),this.setOutput(!0,"GameObject"),this.setColour(Blockly.CAT_OBJECTS_RGB),this.setTooltip("")}},Blockly.Blocks.unityObjects_findTag={init:function(){this.appendValueInput("TAG").appendField(Blockly.Msg.UNITY_OBJECTS_FIND_TAG_TITLE),this.setOutput(!0,"GameObject"),this.setColour(Blockly.CAT_OBJECTS_RGB),this.setTooltip("")}},Blockly.Blocks.unityObjects_tagof={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_OBJECTS_TAG_OF_TITLE),this.setOutput(!0,"String"),this.setColour(Blockly.CAT_OBJECTS_RGB),this.setTooltip("")}},Blockly.Blocks.unityObjects_tagcompare={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_OBJECTS_TAG_COMPARE_TITLE_1),this.appendValueInput("TAG").setCheck("String").appendField(Blockly.Msg.UNITY_OBJECTS_TAG_COMPARE_TITLE_2),this.setInputsInline(!0),this.setOutput(!0,"Boolean"),this.setColour(Blockly.CAT_OBJECTS_RGB),this.setTooltip("")}},Blockly.Blocks.unityRaycast={},Blockly.Blocks.unityRaycast_raycast_param=Blockly.OutputMutatingBlock.createParamBlock("unityRaycast_raycast",function(){this.setColour(Blockly.CAT_DETECT_RGB),this.setTooltip("")},function(){return[{label:Blockly.Msg.UNITY_RAYCAST_RAYCAST_PARAM_OBJ,val:"other",type:"GameObject",proposedname:Blockly.Msg.UNITY_RAYCAST_RAYCAST_PARAM_OBJ_DEFNAME},{label:Blockly.Msg.UNITY_RAYCAST_RAYCAST_PARAM_DIST,val:"dist",type:"Number",proposedname:Blockly.Msg.UNITY_RAYCAST_RAYCAST_PARAM_DIST_DEFNAME},{label:Blockly.Msg.UNITY_RAYCAST_RAYCAST_PARAM_POINT,val:"point",type:"Vector3",proposedname:Blockly.Msg.UNITY_RAYCAST_RAYCAST_PARAM_POINT_DEFNAME},{label:Blockly.Msg.UNITY_RAYCAST_RAYCAST_PARAM_NORMAL,val:"normal",type:"Vector3",proposedname:Blockly.Msg.UNITY_RAYCAST_RAYCAST_PARAM_NORMAL_DEFNAME}]}),Blockly.Blocks.unityRaycast_raycast=Blockly.OutputMutatingBlock.createBlock("unityRaycast_raycast_param",function(){this.appendDummyInput().appendField(Blockly.Msg.UNITY_RAYCAST_RAYCAST_TITLE_1).appendField(Blockly.PhysicsToggle.makeToggleField(),"PHYSICS"),this.appendValueInput("ORIGIN").setCheck("Vector3").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.UNITY_RAYCAST_RAYCAST_TITLE_2),this.appendValueInput("DIRECTION").setCheck("Vector3").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.UNITY_RAYCAST_RAYCAST_TITLE_3),this.appendDummyInput().appendField(Blockly.Msg.UNITY_RAYCAST_RAYCAST_TITLE_4),this.appendStatementInput("STATEMENTS").setCheck(null),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setInputsInline(!1),this.setColour(Blockly.CAT_DETECT_RGB),this.setMutatorPlus(new Blockly.MutatorPlus(["unityRaycast_raycast"])),this.setTooltip("")},"STATEMENTS"),Blockly.Blocks.unityRaycast_circlecast={init:function(){this.appendDummyInput().appendField("raak ik iets als ik een cirkel schiet"),this.appendValueInput("ORIGIN").setCheck("Vector3").setAlign(Blockly.ALIGN_RIGHT).appendField("van positie"),this.appendValueInput("RADIUS").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField("met een straal"),this.appendValueInput("DIRECTION").setCheck("Vector3").setAlign(Blockly.ALIGN_RIGHT).appendField("in richting"),this.appendValueInput("MAXDIST").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField("met maximale afstand"),this.appendStatementInput("STATEMENTS").setCheck(null).appendField("dan"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_DETECT_RGB),this.setTooltip("")}},Blockly.Blocks.unityRender={},Blockly.Blocks.unityRender_setLook={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_RENDER_SETSPRITE_TITLE_1),this.appendValueInput("SPRITE").setCheck("Sprite").appendField(Blockly.Msg.UNITY_RENDER_SETSPRITE_TITLE_2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_UNITY_RGB),this.setTooltip("")}},Blockly.Blocks.unityRotate={},Blockly.Blocks.unityrotate_identity={init:function(){this.appendDummyInput().appendField(Blockly.Msg.UNITY_QUATERNION_IDENTITY_TITLE),this.setOutput(!0,"Quaternion"),this.setColour(Blockly.CAT_ROTATE_RGB),this.setTooltip("")}},Blockly.Blocks.unityrotate_angleaxis2d={init:function(){this.appendValueInput("ANGLE").setCheck("Number"),this.appendDummyInput().appendField(Blockly.Msg.UNITY_QUATERNION_ANGLEAXIS2D_TITLE),this.setOutput(!0,"Quaternion"),this.setColour(Blockly.CAT_ROTATE_RGB),this.setTooltip("")}},Blockly.Blocks.unityrotate_angleaxis={init:function(){this.appendValueInput("ANGLE").setCheck("Number"),this.appendValueInput("AXIS").setCheck("Vector3").appendField(Blockly.Msg.UNITY_QUATERNION_ANGLEAXIS_TITLE_1),this.appendDummyInput().appendField(Blockly.Msg.UNITY_QUATERNION_ANGLEAXIS_TITLE_2),this.setInputsInline(!0),this.setOutput(!0,"Quaternion"),this.setColour(Blockly.CAT_ROTATE_RGB),this.setTooltip("")}},Blockly.Blocks.unityrotate_set_rotation={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_QUATERNION_SET_ROTATION_TITLE_1),this.appendValueInput("QUATERNION").setCheck("Quaternion").appendField(Blockly.Msg.UNITY_QUATERNION_SET_ROTATION_TITLE_2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_MOVE_RGB),this.setTooltip("")}},Blockly.Blocks.unityrotate_rotate={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_QUATERNION_ROTATE_TITLE_1),this.appendValueInput("QUATERNION").setCheck("Quaternion").appendField(Blockly.Msg.UNITY_QUATERNION_ROTATE_TITLE_2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_MOVE_RGB),this.setTooltip("")}},Blockly.Blocks.unityrotate_get_rotation={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_QUATERNION_GET_ROTATION_TITLE),this.setInputsInline(!0),this.setOutput(!0,"Quaternion"),this.setColour(Blockly.CAT_MOVE_RGB),this.setTooltip("")}},Blockly.Blocks.unityrotate_apply_vector={init:function(){this.appendValueInput("VECTOR").setCheck("Vector3"),this.appendValueInput("QUATERNION").setCheck("Quaternion").appendField(Blockly.Msg.UNITY_QUATERNION_APPLY_VECTOR_TITLE),this.setInputsInline(!0),this.setOutput(!0,"Vector3"),this.setColour(Blockly.CAT_VECTOR_RGB),this.setTooltip("")}},Blockly.Blocks.unityrotate_combine={init:function(){this.appendValueInput("QUATERNION1").setCheck("Quaternion").appendField(Blockly.Msg.UNITY_QUATERNION_COMBINE_TITLE_1),this.appendValueInput("QUATERNION2").setCheck("Quaternion").appendField(Blockly.Msg.UNITY_QUATERNION_COMBINE_TITLE_2),this.setInputsInline(!0),this.setOutput(!0,"Quaternion"),this.setColour(Blockly.CAT_ROTATE_RGB),this.setTooltip(""),this.setHelpUrl("http://www.example.com/")}},Blockly.Blocks.unityrotate_get_angle={init:function(){this.appendValueInput("QUATERNION1").setCheck("Quaternion").appendField(Blockly.Msg.UNITY_QUATERNION_GET_ANGLE_TITLE_1),this.appendValueInput("QUATERNION2").setCheck("Quaternion").appendField(Blockly.Msg.UNITY_QUATERNION_GET_ANGLE_TITLE_2),this.appendDummyInput().appendField(Blockly.Msg.UNITY_QUATERNION_GET_ANGLE_TITLE_3),this.setOutput(!0,"Number"),this.setColour(Blockly.CAT_ROTATE_RGB),this.setTooltip("")}},Blockly.Blocks.unityrotate_get_angle_2d={init:function(){this.appendValueInput("QUATERNION").setCheck("Quaternion").appendField(Blockly.Msg.UNITY_QUATERNION_GET_ANGLE_2D_TITLE_1),this.setOutput(!0,"Number"),this.setColour(Blockly.CAT_ROTATE_RGB),this.setTooltip("")}},Blockly.Blocks.unityrotate_looktowards={init:function(){this.appendValueInput("STAYWHAT").setCheck("Vector3").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.UNITY_QUATERNION_LOOKTOWARDS_TITLE_1),this.appendValueInput("POINTWHAT").setCheck("Vector3").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.UNITY_QUATERNION_LOOKTOWARDS_TITLE_2),this.appendValueInput("TOWARDS").setCheck("Vector3").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.UNITY_QUATERNION_LOOKTOWARDS_TITLE_3),this.appendValueInput("LOOKFROM").setCheck("Vector3").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.UNITY_QUATERNION_LOOKTOWARDS_TITLE_4),this.setOutput(!0,"Quaternion"),this.setInputsInline(!1),this.setColour(Blockly.CAT_ROTATE_RGB),this.setTooltip("")}},Blockly.Blocks.unityrotate_looktowards_2d={init:function(){this.appendDummyInput().appendField(Blockly.Msg.UNITY_QUATERNION_LOOKTOWARDS_2D_TITLE_1).appendField(new Blockly.FieldDropdown([[Blockly.Msg.UNITY_QUATERNION_LOOKTOWARDS_2D_OPT_XAXIS_POS,"X"],[Blockly.Msg.UNITY_QUATERNION_LOOKTOWARDS_2D_OPT_XAXIS_NEG,"-X"],[Blockly.Msg.UNITY_QUATERNION_LOOKTOWARDS_2D_OPT_YAXIS_POS,"Y"],[Blockly.Msg.UNITY_QUATERNION_LOOKTOWARDS_2D_OPT_YAXIS_NEG,"-Y"]]),"POINTWHAT"),this.appendValueInput("TOWARDS").setCheck("Vector3").appendField(Blockly.Msg.UNITY_QUATERNION_LOOKTOWARDS_2D_TITLE_2),this.appendValueInput("LOOKFROM").setCheck("Vector3").appendField(Blockly.Msg.UNITY_QUATERNION_LOOKTOWARDS_2D_TITLE_3),this.appendDummyInput().appendField(Blockly.Msg.UNITY_QUATERNION_LOOKTOWARDS_2D_TITLE_4),this.setOutput(!0,"Quaternion"),this.setColour(Blockly.CAT_ROTATE_RGB),this.setTooltip("")}},Blockly.Blocks.unityrotate_inverse={init:function(){this.appendValueInput("QUATERNION").setCheck("Quaternion").appendField(Blockly.Msg.UNITY_QUATERNION_INVERSE_TITLE),this.setOutput(!0,"Quaternion"),this.setColour(Blockly.CAT_ROTATE_RGB),this.setTooltip("")}},Blockly.Blocks.unityScreen={},Blockly.Blocks.unityScreen_mouse_position={init:function(){this.appendDummyInput().appendField(Blockly.Msg.UNITY_SCREEN_MOUSE_POSITION_TITLE),this.setOutput(!0,"Vector3"),this.setColour(Blockly.CAT_DETECT_RGB),this.setTooltip("")}},Blockly.Blocks.unityScreen_mouse_scene_position2D={init:function(){this.appendDummyInput().appendField(Blockly.Msg.UNITY_SCREEN_MOUSE_SCENE_POSITION_2D_TITLE),this.setOutput(!0,"Vector3"),this.setColour(Blockly.CAT_DETECT_RGB),this.setTooltip("")}},Blockly.Blocks.unityScreen_camera_main={init:function(){this.appendDummyInput().appendField(Blockly.Msg.UNITY_SCREEN_CAMERA_MAIN_TITLE),this.setOutput(!0,"GameObject"),this.setColour(Blockly.CAT_OBJECTS_RGB),this.setTooltip("")}},Blockly.Blocks.unityScreen_screen_to_scene={init:function(){this.appendValueInput("POS").setCheck("Vector3").appendField(Blockly.Msg.UNITY_SCREEN_SCREEN_TO_SCENE_TITLE_1),this.appendValueInput("CAM").setCheck("GameObject").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.UNITY_SCREEN_SCREEN_TO_SCENE_TITLE_2),this.appendValueInput("PLANE_NORMAL").setCheck("Vector3").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.UNITY_SCREEN_SCREEN_TO_SCENE_TITLE_3),this.appendValueInput("PLANE_POINT").setCheck("Vector3").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.UNITY_SCREEN_SCREEN_TO_SCENE_TITLE_4),this.setInputsInline(!1),this.setOutput(!0,"Vector3"),this.setColour(Blockly.CAT_VECTOR_RGB),this.setTooltip("")}},Blockly.Blocks.unityScreen_scene_to_screen={init:function(){this.appendValueInput("POS").setCheck("Vector3").appendField(Blockly.Msg.UNITY_SCREEN_SCENE_TO_SCREEN_TITLE_1),this.appendValueInput("CAM").setCheck("GameObject").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.UNITY_SCREEN_SCENE_TO_SCREEN_TITLE_2),this.setInputsInline(!1),this.setOutput(!0,"Vector3"),this.setColour(Blockly.CAT_VECTOR_RGB),this.setTooltip("")}},Blockly.Blocks.unityScreen_screen_size={init:function(){this.appendDummyInput().appendField(Blockly.Msg.UNITY_SCREEN_SCREEN_SIZE_TITLE),this.setInputsInline(!1),this.setOutput(!0,"Vector3"),this.setColour(Blockly.CAT_DETECT_RGB),this.setTooltip("")}},Blockly.Blocks.unityScreen_screen_to_scene_direction={init:function(){this.appendValueInput("POS").setCheck("Vector3").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.UNITY_SCREEN_SCREEN_TO_SCENE_DIR_TITLE_1),this.appendValueInput("CAM").setCheck("GameObject").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.UNITY_SCREEN_SCREEN_TO_SCENE_DIR_TITLE_2),this.setInputsInline(!1),this.setOutput(!0,"Vector3"),this.setColour(Blockly.CAT_VECTOR_RGB),this.setTooltip("")}},Blockly.Blocks.unitySendMessages={},Blockly.Blocks.unityGeneral_msgSend={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_EVENTS_MESSAGE_SEND_TITLE_1).appendField(new Blockly.FieldTextInput(Blockly.Msg.UNITY_EVENTS_MESSAGE_DEFAULT),"MESSAGE").appendField(Blockly.Msg.UNITY_EVENTS_MESSAGE_SEND_TITLE_2),this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField(new Blockly.FieldCheckbox("TRUE"),"NEEDRECEIVE").appendField(Blockly.Msg.UNITY_EVENTS_MESSAGE_SEND_REQUIRE_RECEIVER),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_ACTION_RGB),this.setTooltip("")}},Blockly.Blocks.unityGeneral_msgSendWithArg={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_EVENTS_MESSAGE_SEND_ARG_TITLE_1).appendField(new Blockly.FieldTextInput(Blockly.Msg.UNITY_EVENTS_MESSAGE_DEFAULT),"MESSAGE").appendField(Blockly.Msg.UNITY_EVENTS_MESSAGE_SEND_ARG_TITLE_2),
this.appendValueInput().setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.UNITY_EVENTS_MESSAGE_SEND_ARG_TITLE_3),this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField(new Blockly.FieldCheckbox("TRUE"),"NEEDRECEIVE").appendField(Blockly.Msg.UNITY_EVENTS_MESSAGE_SEND_REQUIRE_RECEIVER),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_ACTION_RGB),this.setTooltip("")}},Blockly.Blocks.unityGeneral_msgReceive={init:function(){this.PROPERTY_VALID_ROOT=!0,this.appendDummyInput().appendField(Blockly.Msg.UNITY_EVENTS_MESSAGE_RECEIVE_TITLE_1).appendField(new Blockly.FieldTextInput(Blockly.Msg.UNITY_EVENTS_MESSAGE_DEFAULT),"EVENT").appendField(Blockly.Msg.UNITY_EVENTS_MESSAGE_RECEIVE_TITLE_2),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_ACTION_RGB),this.setTooltip("")}},Blockly.Blocks.unityGeneral_msgReceiveWithArg={init:function(){this.PROPERTY_VALID_ROOT=!0,this.appendDummyInput().appendField(Blockly.Msg.UNITY_EVENTS_MESSAGE_RECEIVE_ARG_TITLE_1).appendField(new Blockly.FieldTextInput(Blockly.Msg.UNITY_EVENTS_MESSAGE_DEFAULT),"EVENT").appendField(Blockly.Msg.UNITY_EVENTS_MESSAGE_RECEIVE_ARG_TITLE_2).appendField(new Blockly.FieldDropdown(Blockly.DataTypes.getTypes()),"TYPE").appendField(":").appendField(new Blockly.FieldTextInput("var"),"VARNAME"),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_ACTION_RGB),this.setTooltip("")}},Blockly.Blocks.unityTime={},Blockly.Blocks.unityTime_levelload={init:function(){this.appendDummyInput().appendField(Blockly.Msg.UNITY_TIME_LEVELLOAD_TITLE),this.setOutput(!0,"Number"),this.setColour(Blockly.CAT_TIME_RGB),this.setTooltip("")}},Blockly.Blocks.unityTime_delta={init:function(){this.appendDummyInput().appendField(Blockly.Msg.UNITY_TIME_DELTA_TITLE),this.setOutput(!0,"Number"),this.setColour(Blockly.CAT_TIME_RGB),this.setTooltip("")}},Blockly.Blocks.unityTime_waitframe={init:function(){this.appendDummyInput().appendField(Blockly.Msg.UNITY_TIME_WAITFRAME_TITLE),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_TIME_RGB),this.setTooltip("")}},Blockly.Blocks.unityTime_waittime={init:function(){this.appendValueInput("TIME").setCheck("Number").appendField(Blockly.Msg.UNITY_TIME_WAITTIME_TITLE_1),this.appendDummyInput().appendField(Blockly.Msg.UNITY_TIME_WAITTIME_TITLE_2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_TIME_RGB),this.setTooltip("")}},Blockly.Blocks.unityTime_repeat_while={init:function(){this.appendValueInput("WHILE").setCheck("Boolean").appendField(Blockly.Msg.UNITY_TIME_REPEAT_TILL_TITLE),this.appendStatementInput("STATEMENTS").setCheck(null),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_TIME_RGB),this.setTooltip("")}},Blockly.Blocks.unityTime_repeat={init:function(){this.appendDummyInput().appendField(Blockly.Msg.UNITY_TIME_REPEAT_TITLE),this.appendStatementInput("STATEMENTS").setCheck(null),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_TIME_RGB),this.setTooltip("")}},Blockly.Blocks.unityTime_looptime={init:function(){this.appendDummyInput().appendField(Blockly.Msg.UNITY_TIME_LOOP_TITLE),this.setOutput(!0,"Number"),this.setColour(Blockly.CAT_TIME_RGB),this.setTooltip("")}},Blockly.Blocks.unityVector={},Blockly.Blocks.unityVector_make={init:function(){this.appendValueInput("X").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.UNITY_VECTOR_CREATE_X_TITLE),this.appendValueInput("Y").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.UNITY_VECTOR_CREATE_Y_TITLE),this.appendValueInput("Z").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.UNITY_VECTOR_CREATE_Z_TITLE),this.setOutput(!0,"Vector3"),this.setInputsInline(!0),this.setColour(Blockly.CAT_VECTOR_RGB),this.setTooltip("")}},Blockly.Blocks.unityVector_get={init:function(){this.appendValueInput("VECT").setCheck("Vector3").appendField(new Blockly.FieldDropdown([[Blockly.Msg.UNITY_VECTOR_CREATE_X_TITLE,"X"],[Blockly.Msg.UNITY_VECTOR_CREATE_Y_TITLE,"Y"],[Blockly.Msg.UNITY_VECTOR_CREATE_Z_TITLE,"Z"]]),"OPT").appendField(Blockly.Msg.UNITY_VECTOR_FETCH_TITLE_1),this.setOutput(!0,"Number"),this.setColour(Blockly.CAT_VECTOR_RGB),this.setTooltip("")}},Blockly.Blocks.unityVector_x={init:function(){this.appendValueInput("VECT").setCheck("Vector3").appendField(Blockly.Msg.UNITY_VECTOR_FETCH_X_TITLE),this.setOutput(!0,"Number"),this.setColour(Blockly.CAT_VECTOR_RGB),this.setTooltip(""),this.setWarningText(Blockly.Msg.DEPRECATEDBLOCK)}},Blockly.Blocks.unityVector_y={init:function(){this.appendValueInput("VECT").setCheck("Vector3").appendField(Blockly.Msg.UNITY_VECTOR_FETCH_Y_TITLE),this.setOutput(!0,"Number"),this.setColour(Blockly.CAT_VECTOR_RGB),this.setTooltip(""),this.setWarningText(Blockly.Msg.DEPRECATEDBLOCK)}},Blockly.Blocks.unityVector_z={init:function(){this.appendValueInput("VECT").setCheck("Vector3").appendField(Blockly.Msg.UNITY_VECTOR_FETCH_Z_TITLE),this.setOutput(!0,"Number"),this.setColour(Blockly.CAT_VECTOR_RGB),this.setTooltip(""),this.setWarningText(Blockly.Msg.DEPRECATEDBLOCK)}},Blockly.Blocks.unityVector_length={init:function(){this.appendValueInput("VECT").setCheck("Vector3").appendField(Blockly.Msg.UNITY_VECTOR_LENGTH_TITLE),this.setOutput(!0,"Number"),this.setColour(Blockly.CAT_VECTOR_RGB),this.setTooltip("")}},Blockly.Blocks.unityVector_angle={init:function(){this.appendValueInput("FROM").setCheck("Vector3").appendField("hoek tussen"),this.appendValueInput("TO").setCheck("Vector3").appendField("en"),this.setOutput(!0,"Number"),this.setColour(Blockly.CAT_VECTOR_RGB),this.setTooltip("")}},Blockly.Blocks.unityVector_pick={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown([[Blockly.Msg.UNITY_VECTOR_PICK_OPT_UP,"up"],[Blockly.Msg.UNITY_VECTOR_PICK_OPT_DOWN,"down"],[Blockly.Msg.UNITY_VECTOR_PICK_OPT_LEFT,"left"],[Blockly.Msg.UNITY_VECTOR_PICK_OPT_RIGHT,"right"],[Blockly.Msg.UNITY_VECTOR_PICK_OPT_FORWARD,"forward"],[Blockly.Msg.UNITY_VECTOR_PICK_OPT_BACK,"back"],[Blockly.Msg.UNITY_VECTOR_PICK_OPT_ZERO,"zero"],[Blockly.Msg.UNITY_VECTOR_PICK_OPT_ONE,"one"]]),"OPTION"),this.setOutput(!0,"Vector3"),this.setColour(Blockly.CAT_VECTOR_RGB),this.setTooltip("")}},Blockly.Blocks.unityVector_tosize={init:function(){this.appendValueInput("VECTOR").setCheck("Vector3"),this.appendValueInput("TOLENGTH").setCheck("Number").appendField(Blockly.Msg.UNITY_VECTOR_TOSIZE_TITLE),this.setInputsInline(!0),this.setOutput(!0,"Vector3"),this.setColour(Blockly.CAT_VECTOR_RGB),this.setTooltip("")}},Blockly.Blocks.unityVector_multiply={init:function(){this.appendValueInput("FACTOR").setCheck("Number"),this.appendValueInput("VECTOR").setCheck("Vector3").appendField(Blockly.Msg.UNITY_VECTOR_MULTIPLY_TITLE),this.setInputsInline(!0),this.setOutput(!0,"Vector3"),this.setColour(Blockly.CAT_VECTOR_RGB),this.setTooltip("")}},Blockly.Blocks.unityVector_math={init:function(){this.jsonInit({message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Vector3"},{type:"field_dropdown",name:"OP",options:[[Blockly.Msg.MATH_ADDITION_SYMBOL,"ADD"],[Blockly.Msg.MATH_SUBTRACTION_SYMBOL,"MINUS"],[Blockly.Msg.MATH_MULTIPLICATION_SYMBOL,"MULTIPLY"]]},{type:"input_value",name:"B",check:"Vector3"}],inputsInline:!0,output:"Vector3",colour:Blockly.CAT_VECTOR_RGB});var e=this;this.setTooltip(function(){var t=e.getFieldValue("OP");return{ADD:Blockly.Msg.UNITY_VECTOR_MATH_TOOLTIP_ADD,MINUS:Blockly.Msg.UNITY_VECTOR_MATH_TOOLTIP_MINUS,MULTIPLY:Blockly.Msg.UNITY_VECTOR_MATH_TOOLTIP_MULTIPLY}[t]})}},Blockly.Blocks.unityVector_product={init:function(){var e=new Blockly.FieldDropdown([[Blockly.Msg.UNITY_VECTOR_PRODUCT_OPTION_DOT,"DOT"],[Blockly.Msg.UNITY_VECTOR_PRODUCT_OPTION_CROSS,"CROSS"]],void 0,goog.bind(function(e){"DOT"===e?this.setOutput(!0,"Number"):this.setOutput(!0,"Vector3")},this));this.appendValueInput("A").setCheck("Vector3").appendField(e,"PRODUCTTYPE").appendField(Blockly.Msg.UNITY_VECTOR_PRODUCT_TITLE_1),this.appendValueInput("B").setCheck("Vector3").appendField(Blockly.Msg.UNITY_VECTOR_PRODUCT_TITLE_2),this.setInputsInline(!0),this.setColour(Blockly.CAT_VECTOR_RGB),this.setTooltip("")}},Blockly.Blocks.unityvector_transformpoint_tolocal={init:function(){this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_VECTOR_TRANSFORMPOINT_TOLOCAL_TITLE_1),this.appendValueInput("POINT").setCheck("Vector3").appendField(Blockly.Msg.UNITY_VECTOR_TRANSFORMPOINT_TOLOCAL_TITLE_2),this.appendDummyInput().appendField(Blockly.Msg.UNITY_VECTOR_TRANSFORMPOINT_TOLOCAL_TITLE_3),this.setInputsInline(!0),this.setOutput(!0,"Vector3"),this.setColour(Blockly.CAT_VECTOR_RGB),this.setTooltip("")}},Blockly.Blocks.unityvector_transformpoint_toworld={init:function(){this.appendValueInput("POINT").setCheck("Vector3").appendField(Blockly.Msg.UNITY_VECTOR_TRANSFORMPOINT_TOWORLD_TITLE_1),this.appendValueInput("WHO").setCheck("GameObject").appendField(Blockly.Msg.UNITY_VECTOR_TRANSFORMPOINT_TOWORLD_TITLE_2),this.setInputsInline(!0),this.setOutput(!0,"Vector3"),this.setColour(Blockly.CAT_VECTOR_RGB),this.setTooltip("")}},Blockly.Blocks.variables={},Blockly.Blocks.variables.HUE=330,Blockly.Blocks.variables_get={init:function(){this.setHelpUrl(Blockly.Msg.VARIABLES_GET_HELPURL),this.setColour(Blockly.CAT_VARIABLE_RGB),this.appendDummyInput().appendField(new Blockly.FieldVariable(Blockly.Msg.VARIABLES_DEFAULT_NAME),"VAR"),this.setOutput(!0),this.setTooltip(Blockly.Msg.VARIABLES_GET_TOOLTIP),this.contextMenuMsg_=Blockly.Msg.VARIABLES_GET_CREATE_SET,this.dataType_=null},getVars:function(){return[this.getFieldValue("VAR")]},setType:function(e,t){t!==this.dataType_&&(this.dataType_=t,this.setOutput(!0,this.dataType_))},mutationToDom:function(){if(!this.dataType_)return null;var e=document.createElement("mutation");return this.dataType_&&e.setAttribute("datatype",this.dataType_),e},domToMutation:function(e){(e=e.getAttribute("datatype")||Blockly.Variables.getType(this.getFieldValue("VAR")))&&this.workspace.variableDeclaration&&(this.dataType_=e,this.setOutput(!0,this.dataType_))},renameVar:function(e,t){Blockly.Names.equals(e,this.getFieldValue("VAR"))&&this.setFieldValue(t,"VAR")},onchange:function(){if(this.workspace&&Blockly.getMainWorkspace().variableDeclaration){var e=this.getFieldValue("VAR");if(e=Blockly.Variables.getProcedureName(e)){var t=!1,o=this;do{if(("unityProcedures_defnoreturn"==o.type||"unityProcedures_defreturn"==o.type)&&o.getFieldValue("NAME")==e){t=!0;break}if(o.id===e){t=!0;break}if("global"===e){t=!0;break}o=o.getSurroundParent()}while(o);t?this.setErrorText(null):e.match(/^[a-zA-Z][a-zA-Z0-9_]*$/)?this.setErrorText(Blockly.Msg.PROCEDURES_VARIABLES_ERROR+e+Blockly.Msg.PROCEDURES_TITLE):this.setErrorText(Blockly.Msg.PROCEDURES_VARIABLES_LOOP_ERROR+this.getFieldValue("VAR"))}}},contextMenuType_:"variables_set",customContextMenu:function(e){var t={enabled:!0},o=this.getFieldValue("VAR");t.text=this.contextMenuMsg_.replace("%1",o),o=goog.dom.createDom("field",null,o),o.setAttribute("name","VAR"),o=goog.dom.createDom("block",null,o),o.setAttribute("type",this.contextMenuType_),o.setAttribute("intask",!1);var n=goog.dom.createDom("mutation");o.appendChild(n),t.callback=Blockly.ContextMenu.callbackFactory(this,o),e.push(t)}},Blockly.Blocks.variables_set={init:function(){this.jsonInit({message0:Blockly.Msg.VARIABLES_SET,args0:[{type:"field_variable",name:"VAR",variable:Blockly.Msg.VARIABLES_DEFAULT_NAME},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,colour:Blockly.CAT_VARIABLE_RGB,tooltip:Blockly.Msg.VARIABLES_SET_TOOLTIP,helpUrl:Blockly.Msg.VARIABLES_SET_HELPURL}),this.contextMenuMsg_=Blockly.Msg.VARIABLES_SET_CREATE_GET},getVars:function(){return[this.getFieldValue("VAR")]},setType:function(e,t){this.dataType_=t,this.getInput("VALUE").setCheck(this.dataType_)},mutationToDom:function(){if(!this.dataType_)return null;var e=document.createElement("mutation");return this.dataType_&&e.setAttribute("datatype",this.dataType_),e},domToMutation:function(e){(e=e.getAttribute("datatype")||Blockly.Variables.getType(this.getFieldValue("VAR")))&&this.workspace.variableDeclaration&&(this.dataType_=e,this.getInput("VALUE").setCheck(this.dataType_))},renameVar:function(e,t){Blockly.Names.equals(e,this.getFieldValue("VAR"))&&this.setFieldValue(t,"VAR")},onchange:Blockly.Blocks.variables_get.onchange,contextMenuType_:"variables_get",customContextMenu:Blockly.Blocks.variables_get.customContextMenu},Blockly.Blocks.unityGlobalVariables_declare={init:function(){this.PROPERTY_DECLARES_GLOBAL_VAR=!0,this.setHelpUrl(Blockly.Msg.VARIABLES_SET_HELPURL),this.setColour(Blockly.CAT_ACTIVITY_RGB);var e=new Blockly.FieldDropdown(Blockly.DataTypes.getTypes(this.workspace),goog.bind(function(e){e&&this.getFieldValue("TYPE")!==e&&(this.updateType(e),this.updateShape_(0,e))},this)),t=Blockly.Variables.findLegalName(Blockly.Msg.VARIABLES_DEFAULT_NAME,this);this.nameOld=t,t=new Blockly.FieldTextInput(t,this.validateName),this.appendDummyInput("ENTRY").appendField(new Blockly.FieldToggleIcon("PUBLIC","PUBLIC","PRIVATE",Blockly.FieldToggleIcon.ICON_EYE_VISIBLE,Blockly.FieldToggleIcon.ICON_EYE_HIDDEN),"VISIBILITY").appendField(Blockly.Msg.VARIABLES_TITLE).appendField(t,"VAR").appendField(":").appendField(e,"TYPE"),this.setPreviousStatement(!0,"declaration_only"),this.setMutatorMinus(new Blockly.MutatorMinus(["unityGlobalVariables_declare"])),this.setMovable(!1),this.setDeletable(!1),this.contextMenuMsg_=Blockly.Msg.VARIABLES_SET_CREATE_GET,this.contextMenudeclarationType_="variables_get",this.declarationType_="Number",this.nextStatement_=!1,this.setNextStatement(!1),this.displayedDeclarationType_=null},initDefaultBlock:function(){this.updateShape_(0,"Number")},migrateMissingInput:function(e,t){"VALUE"===e&&Blockly.DataTypes.importInputFromBlock(this.workspace,this,t,this.displayedDeclarationType_)},changeVariableType:function(e){e&&this.getFieldValue("TYPE")!==e&&(this.setFieldValue(e,"TYPE"),this.updateType(e),this.updateShape_(0,e))},validate:function(){var e=Blockly.Variables.findLegalName(this.getFieldValue("VAR"),this);this.setFieldValue(e,"VAR")},validateName:function(e){var t=this.sourceBlock_;return e=e.replace(/[\s\xa0]+/g,"").replace(/^ | $/g,""),""!==e&&e.match(/^[a-zA-Z][a-zA-Z_$0-9]*$/)?(e=Blockly.Variables.findLegalName(e,t),Blockly.Variables.renameVariable(t.nameOld,e,Blockly.getMainWorkspace()),t.nameOld=e):null},mutationToDom:function(){if(void 0===this.nextStatement_||void 0===this.declarationType_)return!1;var e=document.createElement("mutation");return e.setAttribute("next",this.nextStatement_),e.setAttribute("declaration_type",this.declarationType_),e},domToMutation:function(e){(this.nextStatement_="true"==e.getAttribute("next"))&&this.setNext(this.nextStatement_),this.declarationType_=e.getAttribute("declaration_type"),this.updateShape_(0,this.declarationType_)},setNext:function(e){this.nextStatement_=e,this.setNextStatement(e,"declaration_only")},getType:function(){return this.declarationType_},getVarDecl:function(){return[this.getFieldValue("VAR")]},getVars:function(){return[this.getFieldValue("VAR")]},updateShape_:function(e,t){if(-1==e){var o=this.getParent(),n=this.getNextBlock();this.unplug(!0,!0),o&&"unityControls_classConfig"==o.type&&!n?o.updateShape_(e):o&&!n&&o.setNext(!1),Blockly.Variables.deleteAll(this.getFieldValue("VAR")),this.dispose()}else 0==e&&(o=this.getInput("ENTRY"),this.displayedDeclarationType_&&Blockly.DataTypes.removeDataTypeInputBlock(this.workspace,o,this.displayedDeclarationType_,!0),Blockly.DataTypes.addDataTypeInputBlock(this.workspace,o,t,!0),this.displayedDeclarationType_=t,this.setColour(Blockly.DataTypes.getDataTypeColour(t)))},updateType:function(e){this.declarationType_=e,Blockly.Variables.updateType(this.getFieldValue("VAR"),this.declarationType_)},contextMenuType_:"variables_get",customContextMenu:Blockly.Blocks.variables_get.customContextMenu},Blockly.Blocks.unityLocalVariables_declare={init:function(){this.setHelpUrl(Blockly.Msg.VARIABLES_SET_HELPURL),this.setColour(Blockly.CAT_PROCEDURE_RGB);var e=new Blockly.FieldDropdown(Blockly.DataTypes.getTypes(this.workspace),function(e){e&&this.sourceBlock_.getFieldValue("TYPE")!==e&&this.sourceBlock_.updateType(e)}),t=Blockly.Variables.findLegalName("x",this);this.nameOld=t,t=new Blockly.FieldTextInput(t,this.validateName),this.appendDummyInput().appendField(Blockly.Msg.VARIABLES_TITLE).appendField(t,"VAR").appendField(":").appendField(e,"TYPE"),this.setPreviousStatement(!0,"declaration_only"),this.setTooltip(Blockly.Msg.VARIABLES_LOCAL_DECLARE_TOOLTIP),this.setMutatorMinus(new Blockly.MutatorMinus(this)),this.setMovable(!1),this.setDeletable(!1),this.contextMenuMsg_=Blockly.Msg.VARIABLES_SET_CREATE_GET,this.contextMenudeclarationType_="variables_get",this.nextStatement_=!1,this.declarationType_="Number"},validate:Blockly.Blocks.unityGlobalVariables_declare.validate,validateName:Blockly.Blocks.unityGlobalVariables_declare.validateName,mutationToDom:Blockly.Blocks.unityGlobalVariables_declare.mutationToDom,domToMutation:function(e){(this.nextStatement_="true"==e.getAttribute("next"))&&this.setNext(this.nextStatement_),this.declarationType_=e.getAttribute("declaration_type")},setNext:Blockly.Blocks.unityGlobalVariables_declare.setNext,getType:function(){return this.declarationType_},getVarDecl:function(){return[this.getFieldValue("VAR")]},getVars:function(){return[this.getFieldValue("VAR")]},updateShape_:function(e,t){if(-1==e){Blockly.Variables.deleteAll(this.getFieldValue("VAR")),Blockly.Procedures.updateCallers(this.getFieldValue("VAR"),this.declarationType_,this.workspace,e);var o=this.getParent(),n=this.getNextBlock();this.unplug(!0,!0),!o||"unityProcedures_defnoreturn"!=o.type&&"unityProcedures_defreturn"!=o.type||n?o&&!n&&o.setNextStatement(!1):o.updateShape_(e),this.dispose()}},updateType:function(e){this.declarationType_=e,Blockly.Variables.updateType(this.getFieldValue("VAR"),e),Blockly.Procedures.updateCallers(this.getFieldValue("VAR"),e,Blockly.mainWorkspace,0)},contextMenuType_:"variables_get",customContextMenu:Blockly.Blocks.variables_get.customContextMenu},Blockly.Blocks.vubbiLogo={},Blockly.Blocks.vubbiLogo_vubbi={init:function(){this.appendValueInput("CONTENT").setCheck("").appendField("Vubbi"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.CAT_TIME_RGB),this.setTooltip("")}},Blockly.Blocks.vubbiLogo_script={init:function(){this.appendDummyInput().appendField("Script"),this.setOutput(!0,""),this.setColour(Blockly.CAT_LOGIC_RGB),this.setTooltip("")}},define("blocks",["blockly","csharp"],function(e){return function(){var t;return t||e.Blocks}}(this)),define("app_no_edit/Main",["jquery","underscore","bootstrap","blockly","blocks"],function(e,t,o,n,i){var l=function(t,o,i,l){var s=n.inject(t,{readOnly:!0,variableDeclaration:!0,checkInTask:!0,media:"/app_no_edit/blockly/media/",robControls:!1}),r=n.Xml.textToDom(o);n.Xml.domToWorkspace(r,s);for(var a=i.split(" "),c=0,g=0,u=0,p=0,h=0;h<a.length;h++){var d="add",y=a[h];"-N"!==y&&"-E"!==y&&"-S"!==y&&"-W"!==y||(d=y,h++,y=a[h]);var _=s.getBlockById(y);if(_){var T=_.getBoundingRectangle(),E=T.bottomRight.x,f=T.bottomRight.y,m=T.topLeft.x,k=T.topLeft.y;"add"===d?((0===h||u>m)&&(u=m),(0===h||c<E)&&(c=E),(0===h||p>k)&&(p=k),(0===h||g<f)&&(g=f)):"-N"===d&&p<f?p=f:"-S"===d&&g>k?g=k:"-W"===d&&u<E?u=E:"-E"===d&&c>m&&(c=m)}}c+=l[1],g+=l[2],u-=l[3],p-=l[0];var B=c-u,S=g-p;e(t).css({width:B+"px",height:S+"px"}),s.translate(-u,-p)};window.vubbilang||(console.log("Please set window.vubbilang before loading a read-only vubbi editor!"),window.vubbilang="en"),e.ajax({dataType:"script",cache:!0,url:"/app_no_edit/msg/"+window.vubbilang+".js"}).then(function(){e(".vubbiblock").each(function(t,o){var n=e("script[type='text/vubbiscript']",o),i=n.html();n.detach();var s=e(o).attr("data-block"),r=e(o).attr("data-pad");if(r){r=r.split(";");for(var t=0;t<4;t++)r[t]=Number(r[t])}else r=[0,0,0,0];l(o,i,s,r)})})});

